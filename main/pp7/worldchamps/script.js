var tf = Object.defineProperty;
var nf = (t, e, i) => e in t ? tf(t, e, {
    enumerable: !0,
    configurable: !0,
    writable: !0,
    value: i
}) : t[e] = i;
var ot = (t, e, i) => (nf(t, typeof e != "symbol" ? e + "" : e, i), i);
(function() {
    const e = document.createElement("link").relList;
    if (e && e.supports && e.supports("modulepreload")) return;
    for (const s of document.querySelectorAll('link[rel="modulepreload"]')) n(s);
    new MutationObserver(s => {
        for (const o of s)
            if (o.type === "childList")
                for (const p of o.addedNodes) p.tagName === "LINK" && p.rel === "modulepreload" && n(p)
    }).observe(document, {
        childList: !0,
        subtree: !0
    });

    function i(s) {
        const o = {};
        return s.integrity && (o.integrity = s.integrity), s.referrerPolicy && (o.referrerPolicy = s.referrerPolicy), s.crossOrigin === "use-credentials" ? o.credentials = "include" : s.crossOrigin === "anonymous" ? o.credentials = "omit" : o.credentials = "same-origin", o
    }

    function n(s) {
        if (s.ep) return;
        s.ep = !0;
        const o = i(s);
        fetch(s.href, o)
    }
})();
var wt = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};

function rf(t) {
    return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t
}

function sf(t) {
    if (t.__esModule) return t;
    var e = t.default;
    if (typeof e == "function") {
        var i = function n() {
            if (this instanceof n) {
                var s = [null];
                s.push.apply(s, arguments);
                var o = Function.bind.apply(e, s);
                return new o
            }
            return e.apply(this, arguments)
        };
        i.prototype = e.prototype
    } else i = {};
    return Object.defineProperty(i, "__esModule", {
        value: !0
    }), Object.keys(t).forEach(function(n) {
        var s = Object.getOwnPropertyDescriptor(t, n);
        Object.defineProperty(i, n, s.get ? s : {
            enumerable: !0,
            get: function() {
                return t[n]
            }
        })
    }), i
}
var Nn = {},
    of = {
        get exports() {
            return Nn
        },
        set exports(t) {
            Nn = t
        }
    };
(function(t, e) {
    (function() {
        var i = this,
            n = i._,
            s = Array.prototype,
            o = Object.prototype,
            p = Function.prototype,
            y = s.push,
            w = s.slice,
            x = o.toString,
            A = o.hasOwnProperty,
            D = Array.isArray,
            B = Object.keys,
            X = p.bind,
            j = Object.create,
            ie = function() {},
            v = function(c) {
                if (c instanceof v) return c;
                if (!(this instanceof v)) return new v(c);
                this._wrapped = c
            };
        t.exports && (e = t.exports = v), e._ = v, v.VERSION = "1.8.3";
        var $ = function(c, m, T) {
                if (m === void 0) return c;
                switch (T ?? 3) {
                    case 1:
                        return function(R) {
                            return c.call(m, R)
                        };
                    case 2:
                        return function(R, N) {
                            return c.call(m, R, N)
                        };
                    case 3:
                        return function(R, N, F) {
                            return c.call(m, R, N, F)
                        };
                    case 4:
                        return function(R, N, F, re) {
                            return c.call(m, R, N, F, re)
                        }
                }
                return function() {
                    return c.apply(m, arguments)
                }
            },
            W = function(c, m, T) {
                return c == null ? v.identity : v.isFunction(c) ? $(c, m, T) : v.isObject(c) ? v.matcher(c) : v.property(c)
            };
        v.iteratee = function(c, m) {
            return W(c, m, 1 / 0)
        };
        var ne = function(c, m) {
                return function(T) {
                    var R = arguments.length;
                    if (R < 2 || T == null) return T;
                    for (var N = 1; N < R; N++)
                        for (var F = arguments[N], re = c(F), Ee = re.length, se = 0; se < Ee; se++) {
                            var Oe = re[se];
                            (!m || T[Oe] === void 0) && (T[Oe] = F[Oe])
                        }
                    return T
                }
            },
            oe = function(c) {
                if (!v.isObject(c)) return {};
                if (j) return j(c);
                ie.prototype = c;
                var m = new ie;
                return ie.prototype = null, m
            },
            ue = function(c) {
                return function(m) {
                    return m == null ? void 0 : m[c]
                }
            },
            d = Math.pow(2, 53) - 1,
            ye = ue("length"),
            Se = function(c) {
                var m = ye(c);
                return typeof m == "number" && m >= 0 && m <= d
            };
        v.each = v.forEach = function(c, m, T) {
            m = $(m, T);
            var R, N;
            if (Se(c))
                for (R = 0, N = c.length; R < N; R++) m(c[R], R, c);
            else {
                var F = v.keys(c);
                for (R = 0, N = F.length; R < N; R++) m(c[F[R]], F[R], c)
            }
            return c
        }, v.map = v.collect = function(c, m, T) {
            m = W(m, T);
            for (var R = !Se(c) && v.keys(c), N = (R || c).length, F = Array(N), re = 0; re < N; re++) {
                var Ee = R ? R[re] : re;
                F[re] = m(c[Ee], Ee, c)
            }
            return F
        };

        function Ae(c) {
            function m(T, R, N, F, re, Ee) {
                for (; re >= 0 && re < Ee; re += c) {
                    var se = F ? F[re] : re;
                    N = R(N, T[se], se, T)
                }
                return N
            }
            return function(T, R, N, F) {
                R = $(R, F, 4);
                var re = !Se(T) && v.keys(T),
                    Ee = (re || T).length,
                    se = c > 0 ? 0 : Ee - 1;
                return arguments.length < 3 && (N = T[re ? re[se] : se], se += c), m(T, R, N, re, se, Ee)
            }
        }
        v.reduce = v.foldl = v.inject = Ae(1), v.reduceRight = v.foldr = Ae(-1), v.find = v.detect = function(c, m, T) {
            var R;
            if (Se(c) ? R = v.findIndex(c, m, T) : R = v.findKey(c, m, T), R !== void 0 && R !== -1) return c[R]
        }, v.filter = v.select = function(c, m, T) {
            var R = [];
            return m = W(m, T), v.each(c, function(N, F, re) {
                m(N, F, re) && R.push(N)
            }), R
        }, v.reject = function(c, m, T) {
            return v.filter(c, v.negate(W(m)), T)
        }, v.every = v.all = function(c, m, T) {
            m = W(m, T);
            for (var R = !Se(c) && v.keys(c), N = (R || c).length, F = 0; F < N; F++) {
                var re = R ? R[F] : F;
                if (!m(c[re], re, c)) return !1
            }
            return !0
        }, v.some = v.any = function(c, m, T) {
            m = W(m, T);
            for (var R = !Se(c) && v.keys(c), N = (R || c).length, F = 0; F < N; F++) {
                var re = R ? R[F] : F;
                if (m(c[re], re, c)) return !0
            }
            return !1
        }, v.contains = v.includes = v.include = function(c, m, T, R) {
            return Se(c) || (c = v.values(c)), (typeof T != "number" || R) && (T = 0), v.indexOf(c, m, T) >= 0
        }, v.invoke = function(c, m) {
            var T = w.call(arguments, 2),
                R = v.isFunction(m);
            return v.map(c, function(N) {
                var F = R ? m : N[m];
                return F == null ? F : F.apply(N, T)
            })
        }, v.pluck = function(c, m) {
            return v.map(c, v.property(m))
        }, v.where = function(c, m) {
            return v.filter(c, v.matcher(m))
        }, v.findWhere = function(c, m) {
            return v.find(c, v.matcher(m))
        }, v.max = function(c, m, T) {
            var R = -1 / 0,
                N = -1 / 0,
                F, re;
            if (m == null && c != null) {
                c = Se(c) ? c : v.values(c);
                for (var Ee = 0, se = c.length; Ee < se; Ee++) F = c[Ee], F > R && (R = F)
            } else m = W(m, T), v.each(c, function(Oe, Le, gt) {
                re = m(Oe, Le, gt), (re > N || re === -1 / 0 && R === -1 / 0) && (R = Oe, N = re)
            });
            return R
        }, v.min = function(c, m, T) {
            var R = 1 / 0,
                N = 1 / 0,
                F, re;
            if (m == null && c != null) {
                c = Se(c) ? c : v.values(c);
                for (var Ee = 0, se = c.length; Ee < se; Ee++) F = c[Ee], F < R && (R = F)
            } else m = W(m, T), v.each(c, function(Oe, Le, gt) {
                re = m(Oe, Le, gt), (re < N || re === 1 / 0 && R === 1 / 0) && (R = Oe, N = re)
            });
            return R
        }, v.shuffle = function(c) {
            for (var m = Se(c) ? c : v.values(c), T = m.length, R = Array(T), N = 0, F; N < T; N++) F = v.random(0, N), F !== N && (R[N] = R[F]), R[F] = m[N];
            return R
        }, v.sample = function(c, m, T) {
            return m == null || T ? (Se(c) || (c = v.values(c)), c[v.random(c.length - 1)]) : v.shuffle(c).slice(0, Math.max(0, m))
        }, v.sortBy = function(c, m, T) {
            return m = W(m, T), v.pluck(v.map(c, function(R, N, F) {
                return {
                    value: R,
                    index: N,
                    criteria: m(R, N, F)
                }
            }).sort(function(R, N) {
                var F = R.criteria,
                    re = N.criteria;
                if (F !== re) {
                    if (F > re || F === void 0) return 1;
                    if (F < re || re === void 0) return -1
                }
                return R.index - N.index
            }), "value")
        };
        var at = function(c) {
            return function(m, T, R) {
                var N = {};
                return T = W(T, R), v.each(m, function(F, re) {
                    var Ee = T(F, re, m);
                    c(N, F, Ee)
                }), N
            }
        };
        v.groupBy = at(function(c, m, T) {
            v.has(c, T) ? c[T].push(m) : c[T] = [m]
        }), v.indexBy = at(function(c, m, T) {
            c[T] = m
        }), v.countBy = at(function(c, m, T) {
            v.has(c, T) ? c[T]++ : c[T] = 1
        }), v.toArray = function(c) {
            return c ? v.isArray(c) ? w.call(c) : Se(c) ? v.map(c, v.identity) : v.values(c) : []
        }, v.size = function(c) {
            return c == null ? 0 : Se(c) ? c.length : v.keys(c).length
        }, v.partition = function(c, m, T) {
            m = W(m, T);
            var R = [],
                N = [];
            return v.each(c, function(F, re, Ee) {
                (m(F, re, Ee) ? R : N).push(F)
            }), [R, N]
        }, v.first = v.head = v.take = function(c, m, T) {
            if (c != null) return m == null || T ? c[0] : v.initial(c, c.length - m)
        }, v.initial = function(c, m, T) {
            return w.call(c, 0, Math.max(0, c.length - (m == null || T ? 1 : m)))
        }, v.last = function(c, m, T) {
            if (c != null) return m == null || T ? c[c.length - 1] : v.rest(c, Math.max(0, c.length - m))
        }, v.rest = v.tail = v.drop = function(c, m, T) {
            return w.call(c, m == null || T ? 1 : m)
        }, v.compact = function(c) {
            return v.filter(c, v.identity)
        };
        var Ve = function(c, m, T, R) {
            for (var N = [], F = 0, re = R || 0, Ee = ye(c); re < Ee; re++) {
                var se = c[re];
                if (Se(se) && (v.isArray(se) || v.isArguments(se))) {
                    m || (se = Ve(se, m, T));
                    var Oe = 0,
                        Le = se.length;
                    for (N.length += Le; Oe < Le;) N[F++] = se[Oe++]
                } else T || (N[F++] = se)
            }
            return N
        };
        v.flatten = function(c, m) {
            return Ve(c, m, !1)
        }, v.without = function(c) {
            return v.difference(c, w.call(arguments, 1))
        }, v.uniq = v.unique = function(c, m, T, R) {
            v.isBoolean(m) || (R = T, T = m, m = !1), T != null && (T = W(T, R));
            for (var N = [], F = [], re = 0, Ee = ye(c); re < Ee; re++) {
                var se = c[re],
                    Oe = T ? T(se, re, c) : se;
                m ? ((!re || F !== Oe) && N.push(se), F = Oe) : T ? v.contains(F, Oe) || (F.push(Oe), N.push(se)) : v.contains(N, se) || N.push(se)
            }
            return N
        }, v.union = function() {
            return v.uniq(Ve(arguments, !0, !0))
        }, v.intersection = function(c) {
            for (var m = [], T = arguments.length, R = 0, N = ye(c); R < N; R++) {
                var F = c[R];
                if (!v.contains(m, F)) {
                    for (var re = 1; re < T && v.contains(arguments[re], F); re++);
                    re === T && m.push(F)
                }
            }
            return m
        }, v.difference = function(c) {
            var m = Ve(arguments, !0, !0, 1);
            return v.filter(c, function(T) {
                return !v.contains(m, T)
            })
        }, v.zip = function() {
            return v.unzip(arguments)
        }, v.unzip = function(c) {
            for (var m = c && v.max(c, ye).length || 0, T = Array(m), R = 0; R < m; R++) T[R] = v.pluck(c, R);
            return T
        }, v.object = function(c, m) {
            for (var T = {}, R = 0, N = ye(c); R < N; R++) m ? T[c[R]] = m[R] : T[c[R][0]] = c[R][1];
            return T
        };

        function Ke(c) {
            return function(m, T, R) {
                T = W(T, R);
                for (var N = ye(m), F = c > 0 ? 0 : N - 1; F >= 0 && F < N; F += c)
                    if (T(m[F], F, m)) return F;
                return -1
            }
        }
        v.findIndex = Ke(1), v.findLastIndex = Ke(-1), v.sortedIndex = function(c, m, T, R) {
            T = W(T, R, 1);
            for (var N = T(m), F = 0, re = ye(c); F < re;) {
                var Ee = Math.floor((F + re) / 2);
                T(c[Ee]) < N ? F = Ee + 1 : re = Ee
            }
            return F
        };

        function qe(c, m, T) {
            return function(R, N, F) {
                var re = 0,
                    Ee = ye(R);
                if (typeof F == "number") c > 0 ? re = F >= 0 ? F : Math.max(F + Ee, re) : Ee = F >= 0 ? Math.min(F + 1, Ee) : F + Ee + 1;
                else if (T && F && Ee) return F = T(R, N), R[F] === N ? F : -1;
                if (N !== N) return F = m(w.call(R, re, Ee), v.isNaN), F >= 0 ? F + re : -1;
                for (F = c > 0 ? re : Ee - 1; F >= 0 && F < Ee; F += c)
                    if (R[F] === N) return F;
                return -1
            }
        }
        v.indexOf = qe(1, v.findIndex, v.sortedIndex), v.lastIndexOf = qe(-1, v.findLastIndex), v.range = function(c, m, T) {
            m == null && (m = c || 0, c = 0), T = T || 1;
            for (var R = Math.max(Math.ceil((m - c) / T), 0), N = Array(R), F = 0; F < R; F++, c += T) N[F] = c;
            return N
        };
        var K = function(c, m, T, R, N) {
            if (!(R instanceof m)) return c.apply(T, N);
            var F = oe(c.prototype),
                re = c.apply(F, N);
            return v.isObject(re) ? re : F
        };
        v.bind = function(c, m) {
            if (X && c.bind === X) return X.apply(c, w.call(arguments, 1));
            if (!v.isFunction(c)) throw new TypeError("Bind must be called on a function");
            var T = w.call(arguments, 2),
                R = function() {
                    return K(c, R, m, this, T.concat(w.call(arguments)))
                };
            return R
        }, v.partial = function(c) {
            var m = w.call(arguments, 1),
                T = function() {
                    for (var R = 0, N = m.length, F = Array(N), re = 0; re < N; re++) F[re] = m[re] === v ? arguments[R++] : m[re];
                    for (; R < arguments.length;) F.push(arguments[R++]);
                    return K(c, T, this, this, F)
                };
            return T
        }, v.bindAll = function(c) {
            var m, T = arguments.length,
                R;
            if (T <= 1) throw new Error("bindAll must be passed function names");
            for (m = 1; m < T; m++) R = arguments[m], c[R] = v.bind(c[R], c);
            return c
        }, v.memoize = function(c, m) {
            var T = function(R) {
                var N = T.cache,
                    F = "" + (m ? m.apply(this, arguments) : R);
                return v.has(N, F) || (N[F] = c.apply(this, arguments)), N[F]
            };
            return T.cache = {}, T
        }, v.delay = function(c, m) {
            var T = w.call(arguments, 2);
            return setTimeout(function() {
                return c.apply(null, T)
            }, m)
        }, v.defer = v.partial(v.delay, v, 1), v.throttle = function(c, m, T) {
            var R, N, F, re = null,
                Ee = 0;
            T || (T = {});
            var se = function() {
                Ee = T.leading === !1 ? 0 : v.now(), re = null, F = c.apply(R, N), re || (R = N = null)
            };
            return function() {
                var Oe = v.now();
                !Ee && T.leading === !1 && (Ee = Oe);
                var Le = m - (Oe - Ee);
                return R = this, N = arguments, Le <= 0 || Le > m ? (re && (clearTimeout(re), re = null), Ee = Oe, F = c.apply(R, N), re || (R = N = null)) : !re && T.trailing !== !1 && (re = setTimeout(se, Le)), F
            }
        }, v.debounce = function(c, m, T) {
            var R, N, F, re, Ee, se = function() {
                var Oe = v.now() - re;
                Oe < m && Oe >= 0 ? R = setTimeout(se, m - Oe) : (R = null, T || (Ee = c.apply(F, N), R || (F = N = null)))
            };
            return function() {
                F = this, N = arguments, re = v.now();
                var Oe = T && !R;
                return R || (R = setTimeout(se, m)), Oe && (Ee = c.apply(F, N), F = N = null), Ee
            }
        }, v.wrap = function(c, m) {
            return v.partial(m, c)
        }, v.negate = function(c) {
            return function() {
                return !c.apply(this, arguments)
            }
        }, v.compose = function() {
            var c = arguments,
                m = c.length - 1;
            return function() {
                for (var T = m, R = c[m].apply(this, arguments); T--;) R = c[T].call(this, R);
                return R
            }
        }, v.after = function(c, m) {
            return function() {
                if (--c < 1) return m.apply(this, arguments)
            }
        }, v.before = function(c, m) {
            var T;
            return function() {
                return --c > 0 && (T = m.apply(this, arguments)), c <= 1 && (m = null), T
            }
        }, v.once = v.partial(v.before, 2);
        var le = !{
                toString: null
            }.propertyIsEnumerable("toString"),
            De = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];

        function Ie(c, m) {
            var T = De.length,
                R = c.constructor,
                N = v.isFunction(R) && R.prototype || o,
                F = "constructor";
            for (v.has(c, F) && !v.contains(m, F) && m.push(F); T--;) F = De[T], F in c && c[F] !== N[F] && !v.contains(m, F) && m.push(F)
        }
        v.keys = function(c) {
            if (!v.isObject(c)) return [];
            if (B) return B(c);
            var m = [];
            for (var T in c) v.has(c, T) && m.push(T);
            return le && Ie(c, m), m
        }, v.allKeys = function(c) {
            if (!v.isObject(c)) return [];
            var m = [];
            for (var T in c) m.push(T);
            return le && Ie(c, m), m
        }, v.values = function(c) {
            for (var m = v.keys(c), T = m.length, R = Array(T), N = 0; N < T; N++) R[N] = c[m[N]];
            return R
        }, v.mapObject = function(c, m, T) {
            m = W(m, T);
            for (var R = v.keys(c), N = R.length, F = {}, re, Ee = 0; Ee < N; Ee++) re = R[Ee], F[re] = m(c[re], re, c);
            return F
        }, v.pairs = function(c) {
            for (var m = v.keys(c), T = m.length, R = Array(T), N = 0; N < T; N++) R[N] = [m[N], c[m[N]]];
            return R
        }, v.invert = function(c) {
            for (var m = {}, T = v.keys(c), R = 0, N = T.length; R < N; R++) m[c[T[R]]] = T[R];
            return m
        }, v.functions = v.methods = function(c) {
            var m = [];
            for (var T in c) v.isFunction(c[T]) && m.push(T);
            return m.sort()
        }, v.extend = ne(v.allKeys), v.extendOwn = v.assign = ne(v.keys), v.findKey = function(c, m, T) {
            m = W(m, T);
            for (var R = v.keys(c), N, F = 0, re = R.length; F < re; F++)
                if (N = R[F], m(c[N], N, c)) return N
        }, v.pick = function(c, m, T) {
            var R = {},
                N = c,
                F, re;
            if (N == null) return R;
            v.isFunction(m) ? (re = v.allKeys(N), F = $(m, T)) : (re = Ve(arguments, !1, !1, 1), F = function(gt, ft, Et) {
                return ft in Et
            }, N = Object(N));
            for (var Ee = 0, se = re.length; Ee < se; Ee++) {
                var Oe = re[Ee],
                    Le = N[Oe];
                F(Le, Oe, N) && (R[Oe] = Le)
            }
            return R
        }, v.omit = function(c, m, T) {
            if (v.isFunction(m)) m = v.negate(m);
            else {
                var R = v.map(Ve(arguments, !1, !1, 1), String);
                m = function(N, F) {
                    return !v.contains(R, F)
                }
            }
            return v.pick(c, m, T)
        }, v.defaults = ne(v.allKeys, !0), v.create = function(c, m) {
            var T = oe(c);
            return m && v.extendOwn(T, m), T
        }, v.clone = function(c) {
            return v.isObject(c) ? v.isArray(c) ? c.slice() : v.extend({}, c) : c
        }, v.tap = function(c, m) {
            return m(c), c
        }, v.isMatch = function(c, m) {
            var T = v.keys(m),
                R = T.length;
            if (c == null) return !R;
            for (var N = Object(c), F = 0; F < R; F++) {
                var re = T[F];
                if (m[re] !== N[re] || !(re in N)) return !1
            }
            return !0
        };
        var we = function(c, m, T, R) {
            if (c === m) return c !== 0 || 1 / c === 1 / m;
            if (c == null || m == null) return c === m;
            c instanceof v && (c = c._wrapped), m instanceof v && (m = m._wrapped);
            var N = x.call(c);
            if (N !== x.call(m)) return !1;
            switch (N) {
                case "[object RegExp]":
                case "[object String]":
                    return "" + c == "" + m;
                case "[object Number]":
                    return +c != +c ? +m != +m : +c == 0 ? 1 / +c === 1 / m : +c == +m;
                case "[object Date]":
                case "[object Boolean]":
                    return +c == +m
            }
            var F = N === "[object Array]";
            if (!F) {
                if (typeof c != "object" || typeof m != "object") return !1;
                var re = c.constructor,
                    Ee = m.constructor;
                if (re !== Ee && !(v.isFunction(re) && re instanceof re && v.isFunction(Ee) && Ee instanceof Ee) && "constructor" in c && "constructor" in m) return !1
            }
            T = T || [], R = R || [];
            for (var se = T.length; se--;)
                if (T[se] === c) return R[se] === m;
            if (T.push(c), R.push(m), F) {
                if (se = c.length, se !== m.length) return !1;
                for (; se--;)
                    if (!we(c[se], m[se], T, R)) return !1
            } else {
                var Oe = v.keys(c),
                    Le;
                if (se = Oe.length, v.keys(m).length !== se) return !1;
                for (; se--;)
                    if (Le = Oe[se], !(v.has(m, Le) && we(c[Le], m[Le], T, R))) return !1
            }
            return T.pop(), R.pop(), !0
        };
        v.isEqual = function(c, m) {
            return we(c, m)
        }, v.isEmpty = function(c) {
            return c == null ? !0 : Se(c) && (v.isArray(c) || v.isString(c) || v.isArguments(c)) ? c.length === 0 : v.keys(c).length === 0
        }, v.isElement = function(c) {
            return !!(c && c.nodeType === 1)
        }, v.isArray = D || function(c) {
            return x.call(c) === "[object Array]"
        }, v.isObject = function(c) {
            var m = typeof c;
            return m === "function" || m === "object" && !!c
        }, v.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function(c) {
            v["is" + c] = function(m) {
                return x.call(m) === "[object " + c + "]"
            }
        }), v.isArguments(arguments) || (v.isArguments = function(c) {
            return v.has(c, "callee")
        }), typeof /./ != "function" && typeof Int8Array != "object" && (v.isFunction = function(c) {
            return typeof c == "function" || !1
        }), v.isFinite = function(c) {
            return isFinite(c) && !isNaN(parseFloat(c))
        }, v.isNaN = function(c) {
            return v.isNumber(c) && c !== +c
        }, v.isBoolean = function(c) {
            return c === !0 || c === !1 || x.call(c) === "[object Boolean]"
        }, v.isNull = function(c) {
            return c === null
        }, v.isUndefined = function(c) {
            return c === void 0
        }, v.has = function(c, m) {
            return c != null && A.call(c, m)
        }, v.noConflict = function() {
            return i._ = n, this
        }, v.identity = function(c) {
            return c
        }, v.constant = function(c) {
            return function() {
                return c
            }
        }, v.noop = function() {}, v.property = ue, v.propertyOf = function(c) {
            return c == null ? function() {} : function(m) {
                return c[m]
            }
        }, v.matcher = v.matches = function(c) {
            return c = v.extendOwn({}, c),
                function(m) {
                    return v.isMatch(m, c)
                }
        }, v.times = function(c, m, T) {
            var R = Array(Math.max(0, c));
            m = $(m, T, 1);
            for (var N = 0; N < c; N++) R[N] = m(N);
            return R
        }, v.random = function(c, m) {
            return m == null && (m = c, c = 0), c + Math.floor(Math.random() * (m - c + 1))
        }, v.now = Date.now || function() {
            return new Date().getTime()
        };
        var he = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "`": "&#x60;"
            },
            ke = v.invert(he),
            Te = function(c) {
                var m = function(F) {
                        return c[F]
                    },
                    T = "(?:" + v.keys(c).join("|") + ")",
                    R = RegExp(T),
                    N = RegExp(T, "g");
                return function(F) {
                    return F = F == null ? "" : "" + F, R.test(F) ? F.replace(N, m) : F
                }
            };
        v.escape = Te(he), v.unescape = Te(ke), v.result = function(c, m, T) {
            var R = c == null ? void 0 : c[m];
            return R === void 0 && (R = T), v.isFunction(R) ? R.call(c) : R
        };
        var Fe = 0;
        v.uniqueId = function(c) {
            var m = ++Fe + "";
            return c ? c + m : m
        }, v.templateSettings = {
            evaluate: /<%([\s\S]+?)%>/g,
            interpolate: /<%=([\s\S]+?)%>/g,
            escape: /<%-([\s\S]+?)%>/g
        };
        var rt = /(.)^/,
            Tt = {
                "'": "'",
                "\\": "\\",
                "\r": "r",
                "\n": "n",
                "\u2028": "u2028",
                "\u2029": "u2029"
            },
            si = /\\|'|\r|\n|\u2028|\u2029/g,
            jt = function(c) {
                return "\\" + Tt[c]
            };
        v.template = function(c, m, T) {
            !m && T && (m = T), m = v.defaults({}, m, v.templateSettings);
            var R = RegExp([(m.escape || rt).source, (m.interpolate || rt).source, (m.evaluate || rt).source].join("|") + "|$", "g"),
                N = 0,
                F = "__p+='";
            c.replace(R, function(Oe, Le, gt, ft, Et) {
                return F += c.slice(N, Et).replace(si, jt), N = Et + Oe.length, Le ? F += `'+
((__t=(` + Le + `))==null?'':_.escape(__t))+
'` : gt ? F += `'+
((__t=(` + gt + `))==null?'':__t)+
'` : ft && (F += `';
` + ft + `
__p+='`), Oe
            }), F += `';
`, m.variable || (F = `with(obj||{}){
` + F + `}
`), F = `var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
` + F + `return __p;
`;
            try {
                var re = new Function(m.variable || "obj", "_", F)
            } catch (Oe) {
                throw Oe.source = F, Oe
            }
            var Ee = function(Oe) {
                    return re.call(this, Oe, v)
                },
                se = m.variable || "obj";
            return Ee.source = "function(" + se + `){
` + F + "}", Ee
        }, v.chain = function(c) {
            var m = v(c);
            return m._chain = !0, m
        };
        var k = function(c, m) {
            return c._chain ? v(m).chain() : m
        };
        v.mixin = function(c) {
            v.each(v.functions(c), function(m) {
                var T = v[m] = c[m];
                v.prototype[m] = function() {
                    var R = [this._wrapped];
                    return y.apply(R, arguments), k(this, T.apply(v, R))
                }
            })
        }, v.mixin(v), v.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(c) {
            var m = s[c];
            v.prototype[c] = function() {
                var T = this._wrapped;
                return m.apply(T, arguments), (c === "shift" || c === "splice") && T.length === 0 && delete T[0], k(this, T)
            }
        }), v.each(["concat", "join", "slice"], function(c) {
            var m = s[c];
            v.prototype[c] = function() {
                return k(this, m.apply(this._wrapped, arguments))
            }
        }), v.prototype.value = function() {
            return this._wrapped
        }, v.prototype.valueOf = v.prototype.toJSON = v.prototype.value, v.prototype.toString = function() {
            return "" + this._wrapped
        }
    }).call(wt)
})(of, Nn);
const Ue = Nn;
var zo = {},
    af = {
        get exports() {
            return zo
        },
        set exports(t) {
            zo = t
        }
    };
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
var Nc;

function Zu() {
    return Nc || (Nc = 1, function(t) {
        (function(e, i) {
            t.exports = e.document ? i(e, !0) : function(n) {
                if (!n.document) throw new Error("jQuery requires a window with a document");
                return i(n)
            }
        })(typeof window < "u" ? window : wt, function(e, i) {
            var n = [],
                s = Object.getPrototypeOf,
                o = n.slice,
                p = n.flat ? function(r) {
                    return n.flat.call(r)
                } : function(r) {
                    return n.concat.apply([], r)
                },
                y = n.push,
                w = n.indexOf,
                x = {},
                A = x.toString,
                D = x.hasOwnProperty,
                B = D.toString,
                X = B.call(Object),
                j = {},
                ie = function(a) {
                    return typeof a == "function" && typeof a.nodeType != "number" && typeof a.item != "function"
                },
                v = function(a) {
                    return a != null && a === a.window
                },
                $ = e.document,
                W = {
                    type: !0,
                    src: !0,
                    nonce: !0,
                    noModule: !0
                };

            function ne(r, a, h) {
                h = h || $;
                var g, _, S = h.createElement("script");
                if (S.text = r, a)
                    for (g in W) _ = a[g] || a.getAttribute && a.getAttribute(g), _ && S.setAttribute(g, _);
                h.head.appendChild(S).parentNode.removeChild(S)
            }

            function oe(r) {
                return r == null ? r + "" : typeof r == "object" || typeof r == "function" ? x[A.call(r)] || "object" : typeof r
            }
            var ue = "3.6.0",
                d = function(r, a) {
                    return new d.fn.init(r, a)
                };
            d.fn = d.prototype = {
                jquery: ue,
                constructor: d,
                length: 0,
                toArray: function() {
                    return o.call(this)
                },
                get: function(r) {
                    return r == null ? o.call(this) : r < 0 ? this[r + this.length] : this[r]
                },
                pushStack: function(r) {
                    var a = d.merge(this.constructor(), r);
                    return a.prevObject = this, a
                },
                each: function(r) {
                    return d.each(this, r)
                },
                map: function(r) {
                    return this.pushStack(d.map(this, function(a, h) {
                        return r.call(a, h, a)
                    }))
                },
                slice: function() {
                    return this.pushStack(o.apply(this, arguments))
                },
                first: function() {
                    return this.eq(0)
                },
                last: function() {
                    return this.eq(-1)
                },
                even: function() {
                    return this.pushStack(d.grep(this, function(r, a) {
                        return (a + 1) % 2
                    }))
                },
                odd: function() {
                    return this.pushStack(d.grep(this, function(r, a) {
                        return a % 2
                    }))
                },
                eq: function(r) {
                    var a = this.length,
                        h = +r + (r < 0 ? a : 0);
                    return this.pushStack(h >= 0 && h < a ? [this[h]] : [])
                },
                end: function() {
                    return this.prevObject || this.constructor()
                },
                push: y,
                sort: n.sort,
                splice: n.splice
            }, d.extend = d.fn.extend = function() {
                var r, a, h, g, _, S, O = arguments[0] || {},
                    z = 1,
                    G = arguments.length,
                    ee = !1;
                for (typeof O == "boolean" && (ee = O, O = arguments[z] || {}, z++), typeof O != "object" && !ie(O) && (O = {}), z === G && (O = this, z--); z < G; z++)
                    if ((r = arguments[z]) != null)
                        for (a in r) g = r[a], !(a === "__proto__" || O === g) && (ee && g && (d.isPlainObject(g) || (_ = Array.isArray(g))) ? (h = O[a], _ && !Array.isArray(h) ? S = [] : !_ && !d.isPlainObject(h) ? S = {} : S = h, _ = !1, O[a] = d.extend(ee, S, g)) : g !== void 0 && (O[a] = g));
                return O
            }, d.extend({
                expando: "jQuery" + (ue + Math.random()).replace(/\D/g, ""),
                isReady: !0,
                error: function(r) {
                    throw new Error(r)
                },
                noop: function() {},
                isPlainObject: function(r) {
                    var a, h;
                    return !r || A.call(r) !== "[object Object]" ? !1 : (a = s(r), a ? (h = D.call(a, "constructor") && a.constructor, typeof h == "function" && B.call(h) === X) : !0)
                },
                isEmptyObject: function(r) {
                    var a;
                    for (a in r) return !1;
                    return !0
                },
                globalEval: function(r, a, h) {
                    ne(r, {
                        nonce: a && a.nonce
                    }, h)
                },
                each: function(r, a) {
                    var h, g = 0;
                    if (ye(r))
                        for (h = r.length; g < h && a.call(r[g], g, r[g]) !== !1; g++);
                    else
                        for (g in r)
                            if (a.call(r[g], g, r[g]) === !1) break;
                    return r
                },
                makeArray: function(r, a) {
                    var h = a || [];
                    return r != null && (ye(Object(r)) ? d.merge(h, typeof r == "string" ? [r] : r) : y.call(h, r)), h
                },
                inArray: function(r, a, h) {
                    return a == null ? -1 : w.call(a, r, h)
                },
                merge: function(r, a) {
                    for (var h = +a.length, g = 0, _ = r.length; g < h; g++) r[_++] = a[g];
                    return r.length = _, r
                },
                grep: function(r, a, h) {
                    for (var g, _ = [], S = 0, O = r.length, z = !h; S < O; S++) g = !a(r[S], S), g !== z && _.push(r[S]);
                    return _
                },
                map: function(r, a, h) {
                    var g, _, S = 0,
                        O = [];
                    if (ye(r))
                        for (g = r.length; S < g; S++) _ = a(r[S], S, h), _ != null && O.push(_);
                    else
                        for (S in r) _ = a(r[S], S, h), _ != null && O.push(_);
                    return p(O)
                },
                guid: 1,
                support: j
            }), typeof Symbol == "function" && (d.fn[Symbol.iterator] = n[Symbol.iterator]), d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(r, a) {
                x["[object " + a + "]"] = a.toLowerCase()
            });

            function ye(r) {
                var a = !!r && "length" in r && r.length,
                    h = oe(r);
                return ie(r) || v(r) ? !1 : h === "array" || a === 0 || typeof a == "number" && a > 0 && a - 1 in r
            }
            var Se = function(r) {
                var a, h, g, _, S, O, z, G, ee, ce, Ce, ae, de, Ge, st, We, Gt, Ut, yi, At = "sizzle" + 1 * new Date,
                    it = r.document,
                    ti = 0,
                    mt = 0,
                    Ot = Sr(),
                    Zn = Sr(),
                    Cr = Sr(),
                    wi = Sr(),
                    un = function(M, U) {
                        return M === U && (Ce = !0), 0
                    },
                    hn = {}.hasOwnProperty,
                    fi = [],
                    Wi = fi.pop,
                    Si = fi.push,
                    Ki = fi.push,
                    xr = fi.slice,
                    Xi = function(M, U) {
                        for (var J = 0, pe = M.length; J < pe; J++)
                            if (M[J] === U) return J;
                        return -1
                    },
                    vs = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                    Ct = "[\\x20\\t\\r\\n\\f]",
                    dn = "(?:\\\\[\\da-fA-F]{1,6}" + Ct + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
                    ys = "\\[" + Ct + "*(" + dn + ")(?:" + Ct + "*([*^$|!~]?=)" + Ct + `*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(` + dn + "))|)" + Ct + "*\\]",
                    ws = ":(" + dn + `)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|` + ys + ")*)|.*)\\)|)",
                    bs = new RegExp(Ct + "+", "g"),
                    er = new RegExp("^" + Ct + "+|((?:^|[^\\\\])(?:\\\\.)*)" + Ct + "+$", "g"),
                    _o = new RegExp("^" + Ct + "*," + Ct + "*"),
                    Er = new RegExp("^" + Ct + "*([>+~]|" + Ct + ")" + Ct + "*"),
                    Ua = new RegExp(Ct + "|>"),
                    za = new RegExp(ws),
                    Ha = new RegExp("^" + dn + "$"),
                    fn = {
                        ID: new RegExp("^#(" + dn + ")"),
                        CLASS: new RegExp("^\\.(" + dn + ")"),
                        TAG: new RegExp("^(" + dn + "|[*])"),
                        ATTR: new RegExp("^" + ys),
                        PSEUDO: new RegExp("^" + ws),
                        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + Ct + "*(even|odd|(([+-]|)(\\d*)n|)" + Ct + "*(?:([+-]|)" + Ct + "*(\\d+)|))" + Ct + "*\\)|)", "i"),
                        bool: new RegExp("^(?:" + vs + ")$", "i"),
                        needsContext: new RegExp("^" + Ct + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + Ct + "*((?:-\\d)?\\d*)" + Ct + "*\\)|)(?=[^-]|$)", "i")
                    },
                    Ga = /HTML$/i,
                    Wa = /^(?:input|select|textarea|button)$/i,
                    Ka = /^h\d$/i,
                    tr = /^[^{]+\{\s*\[native \w/,
                    Co = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                    _s = /[+~]/,
                    $i = new RegExp("\\\\[\\da-fA-F]{1,6}" + Ct + "?|\\\\([^\\r\\n\\f])", "g"),
                    Ni = function(M, U) {
                        var J = "0x" + M.slice(1) - 65536;
                        return U || (J < 0 ? String.fromCharCode(J + 65536) : String.fromCharCode(J >> 10 | 55296, J & 1023 | 56320))
                    },
                    xo = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
                    Cs = function(M, U) {
                        return U ? M === "\0" ? "�" : M.slice(0, -1) + "\\" + M.charCodeAt(M.length - 1).toString(16) + " " : "\\" + M
                    },
                    xs = function() {
                        ae()
                    },
                    Xa = Tr(function(M) {
                        return M.disabled === !0 && M.nodeName.toLowerCase() === "fieldset"
                    }, {
                        dir: "parentNode",
                        next: "legend"
                    });
                try {
                    Ki.apply(fi = xr.call(it.childNodes), it.childNodes), fi[it.childNodes.length].nodeType
                } catch {
                    Ki = {
                        apply: fi.length ? function(U, J) {
                            Si.apply(U, xr.call(J))
                        } : function(U, J) {
                            for (var pe = U.length, te = 0; U[pe++] = J[te++];);
                            U.length = pe - 1
                        }
                    }
                }

                function Rt(M, U, J, pe) {
                    var te, me, xe, Re, Pe, je, ze, Qe = U && U.ownerDocument,
                        dt = U ? U.nodeType : 9;
                    if (J = J || [], typeof M != "string" || !M || dt !== 1 && dt !== 9 && dt !== 11) return J;
                    if (!pe && (ae(U), U = U || de, st)) {
                        if (dt !== 11 && (Pe = Co.exec(M)))
                            if (te = Pe[1]) {
                                if (dt === 9)
                                    if (xe = U.getElementById(te)) {
                                        if (xe.id === te) return J.push(xe), J
                                    } else return J;
                                else if (Qe && (xe = Qe.getElementById(te)) && yi(U, xe) && xe.id === te) return J.push(xe), J
                            } else {
                                if (Pe[2]) return Ki.apply(J, U.getElementsByTagName(M)), J;
                                if ((te = Pe[3]) && h.getElementsByClassName && U.getElementsByClassName) return Ki.apply(J, U.getElementsByClassName(te)), J
                            } if (h.qsa && !wi[M + " "] && (!We || !We.test(M)) && (dt !== 1 || U.nodeName.toLowerCase() !== "object")) {
                            if (ze = M, Qe = U, dt === 1 && (Ua.test(M) || Er.test(M))) {
                                for (Qe = _s.test(M) && ks(U.parentNode) || U, (Qe !== U || !h.scope) && ((Re = U.getAttribute("id")) ? Re = Re.replace(xo, Cs) : U.setAttribute("id", Re = At)), je = O(M), me = je.length; me--;) je[me] = (Re ? "#" + Re : ":scope") + " " + kr(je[me]);
                                ze = je.join(",")
                            }
                            try {
                                return Ki.apply(J, Qe.querySelectorAll(ze)), J
                            } catch {
                                wi(M, !0)
                            } finally {
                                Re === At && U.removeAttribute("id")
                            }
                        }
                    }
                    return G(M.replace(er, "$1"), U, J, pe)
                }

                function Sr() {
                    var M = [];

                    function U(J, pe) {
                        return M.push(J + " ") > g.cacheLength && delete U[M.shift()], U[J + " "] = pe
                    }
                    return U
                }

                function ki(M) {
                    return M[At] = !0, M
                }

                function bi(M) {
                    var U = de.createElement("fieldset");
                    try {
                        return !!M(U)
                    } catch {
                        return !1
                    } finally {
                        U.parentNode && U.parentNode.removeChild(U), U = null
                    }
                }

                function Es(M, U) {
                    for (var J = M.split("|"), pe = J.length; pe--;) g.attrHandle[J[pe]] = U
                }

                function Eo(M, U) {
                    var J = U && M,
                        pe = J && M.nodeType === 1 && U.nodeType === 1 && M.sourceIndex - U.sourceIndex;
                    if (pe) return pe;
                    if (J) {
                        for (; J = J.nextSibling;)
                            if (J === U) return -1
                    }
                    return M ? 1 : -1
                }

                function Ya(M) {
                    return function(U) {
                        var J = U.nodeName.toLowerCase();
                        return J === "input" && U.type === M
                    }
                }

                function Ja(M) {
                    return function(U) {
                        var J = U.nodeName.toLowerCase();
                        return (J === "input" || J === "button") && U.type === M
                    }
                }

                function Ss(M) {
                    return function(U) {
                        return "form" in U ? U.parentNode && U.disabled === !1 ? "label" in U ? "label" in U.parentNode ? U.parentNode.disabled === M : U.disabled === M : U.isDisabled === M || U.isDisabled !== !M && Xa(U) === M : U.disabled === M : "label" in U ? U.disabled === M : !1
                    }
                }

                function pn(M) {
                    return ki(function(U) {
                        return U = +U, ki(function(J, pe) {
                            for (var te, me = M([], J.length, U), xe = me.length; xe--;) J[te = me[xe]] && (J[te] = !(pe[te] = J[te]))
                        })
                    })
                }

                function ks(M) {
                    return M && typeof M.getElementsByTagName < "u" && M
                }
                h = Rt.support = {}, S = Rt.isXML = function(M) {
                    var U = M && M.namespaceURI,
                        J = M && (M.ownerDocument || M).documentElement;
                    return !Ga.test(U || J && J.nodeName || "HTML")
                }, ae = Rt.setDocument = function(M) {
                    var U, J, pe = M ? M.ownerDocument || M : it;
                    return pe == de || pe.nodeType !== 9 || !pe.documentElement || (de = pe, Ge = de.documentElement, st = !S(de), it != de && (J = de.defaultView) && J.top !== J && (J.addEventListener ? J.addEventListener("unload", xs, !1) : J.attachEvent && J.attachEvent("onunload", xs)), h.scope = bi(function(te) {
                        return Ge.appendChild(te).appendChild(de.createElement("div")), typeof te.querySelectorAll < "u" && !te.querySelectorAll(":scope fieldset div").length
                    }), h.attributes = bi(function(te) {
                        return te.className = "i", !te.getAttribute("className")
                    }), h.getElementsByTagName = bi(function(te) {
                        return te.appendChild(de.createComment("")), !te.getElementsByTagName("*").length
                    }), h.getElementsByClassName = tr.test(de.getElementsByClassName), h.getById = bi(function(te) {
                        return Ge.appendChild(te).id = At, !de.getElementsByName || !de.getElementsByName(At).length
                    }), h.getById ? (g.filter.ID = function(te) {
                        var me = te.replace($i, Ni);
                        return function(xe) {
                            return xe.getAttribute("id") === me
                        }
                    }, g.find.ID = function(te, me) {
                        if (typeof me.getElementById < "u" && st) {
                            var xe = me.getElementById(te);
                            return xe ? [xe] : []
                        }
                    }) : (g.filter.ID = function(te) {
                        var me = te.replace($i, Ni);
                        return function(xe) {
                            var Re = typeof xe.getAttributeNode < "u" && xe.getAttributeNode("id");
                            return Re && Re.value === me
                        }
                    }, g.find.ID = function(te, me) {
                        if (typeof me.getElementById < "u" && st) {
                            var xe, Re, Pe, je = me.getElementById(te);
                            if (je) {
                                if (xe = je.getAttributeNode("id"), xe && xe.value === te) return [je];
                                for (Pe = me.getElementsByName(te), Re = 0; je = Pe[Re++];)
                                    if (xe = je.getAttributeNode("id"), xe && xe.value === te) return [je]
                            }
                            return []
                        }
                    }), g.find.TAG = h.getElementsByTagName ? function(te, me) {
                        if (typeof me.getElementsByTagName < "u") return me.getElementsByTagName(te);
                        if (h.qsa) return me.querySelectorAll(te)
                    } : function(te, me) {
                        var xe, Re = [],
                            Pe = 0,
                            je = me.getElementsByTagName(te);
                        if (te === "*") {
                            for (; xe = je[Pe++];) xe.nodeType === 1 && Re.push(xe);
                            return Re
                        }
                        return je
                    }, g.find.CLASS = h.getElementsByClassName && function(te, me) {
                        if (typeof me.getElementsByClassName < "u" && st) return me.getElementsByClassName(te)
                    }, Gt = [], We = [], (h.qsa = tr.test(de.querySelectorAll)) && (bi(function(te) {
                        var me;
                        Ge.appendChild(te).innerHTML = "<a id='" + At + "'></a><select id='" + At + "-\r\\' msallowcapture=''><option selected=''></option></select>", te.querySelectorAll("[msallowcapture^='']").length && We.push("[*^$]=" + Ct + `*(?:''|"")`), te.querySelectorAll("[selected]").length || We.push("\\[" + Ct + "*(?:value|" + vs + ")"), te.querySelectorAll("[id~=" + At + "-]").length || We.push("~="), me = de.createElement("input"), me.setAttribute("name", ""), te.appendChild(me), te.querySelectorAll("[name='']").length || We.push("\\[" + Ct + "*name" + Ct + "*=" + Ct + `*(?:''|"")`), te.querySelectorAll(":checked").length || We.push(":checked"), te.querySelectorAll("a#" + At + "+*").length || We.push(".#.+[+~]"), te.querySelectorAll("\\\f"), We.push("[\\r\\n\\f]")
                    }), bi(function(te) {
                        te.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                        var me = de.createElement("input");
                        me.setAttribute("type", "hidden"), te.appendChild(me).setAttribute("name", "D"), te.querySelectorAll("[name=d]").length && We.push("name" + Ct + "*[*^$|!~]?="), te.querySelectorAll(":enabled").length !== 2 && We.push(":enabled", ":disabled"), Ge.appendChild(te).disabled = !0, te.querySelectorAll(":disabled").length !== 2 && We.push(":enabled", ":disabled"), te.querySelectorAll("*,:x"), We.push(",.*:")
                    })), (h.matchesSelector = tr.test(Ut = Ge.matches || Ge.webkitMatchesSelector || Ge.mozMatchesSelector || Ge.oMatchesSelector || Ge.msMatchesSelector)) && bi(function(te) {
                        h.disconnectedMatch = Ut.call(te, "*"), Ut.call(te, "[s!='']:x"), Gt.push("!=", ws)
                    }), We = We.length && new RegExp(We.join("|")), Gt = Gt.length && new RegExp(Gt.join("|")), U = tr.test(Ge.compareDocumentPosition), yi = U || tr.test(Ge.contains) ? function(te, me) {
                        var xe = te.nodeType === 9 ? te.documentElement : te,
                            Re = me && me.parentNode;
                        return te === Re || !!(Re && Re.nodeType === 1 && (xe.contains ? xe.contains(Re) : te.compareDocumentPosition && te.compareDocumentPosition(Re) & 16))
                    } : function(te, me) {
                        if (me) {
                            for (; me = me.parentNode;)
                                if (me === te) return !0
                        }
                        return !1
                    }, un = U ? function(te, me) {
                        if (te === me) return Ce = !0, 0;
                        var xe = !te.compareDocumentPosition - !me.compareDocumentPosition;
                        return xe || (xe = (te.ownerDocument || te) == (me.ownerDocument || me) ? te.compareDocumentPosition(me) : 1, xe & 1 || !h.sortDetached && me.compareDocumentPosition(te) === xe ? te == de || te.ownerDocument == it && yi(it, te) ? -1 : me == de || me.ownerDocument == it && yi(it, me) ? 1 : ce ? Xi(ce, te) - Xi(ce, me) : 0 : xe & 4 ? -1 : 1)
                    } : function(te, me) {
                        if (te === me) return Ce = !0, 0;
                        var xe, Re = 0,
                            Pe = te.parentNode,
                            je = me.parentNode,
                            ze = [te],
                            Qe = [me];
                        if (!Pe || !je) return te == de ? -1 : me == de ? 1 : Pe ? -1 : je ? 1 : ce ? Xi(ce, te) - Xi(ce, me) : 0;
                        if (Pe === je) return Eo(te, me);
                        for (xe = te; xe = xe.parentNode;) ze.unshift(xe);
                        for (xe = me; xe = xe.parentNode;) Qe.unshift(xe);
                        for (; ze[Re] === Qe[Re];) Re++;
                        return Re ? Eo(ze[Re], Qe[Re]) : ze[Re] == it ? -1 : Qe[Re] == it ? 1 : 0
                    }), de
                }, Rt.matches = function(M, U) {
                    return Rt(M, null, null, U)
                }, Rt.matchesSelector = function(M, U) {
                    if (ae(M), h.matchesSelector && st && !wi[U + " "] && (!Gt || !Gt.test(U)) && (!We || !We.test(U))) try {
                        var J = Ut.call(M, U);
                        if (J || h.disconnectedMatch || M.document && M.document.nodeType !== 11) return J
                    } catch {
                        wi(U, !0)
                    }
                    return Rt(U, de, null, [M]).length > 0
                }, Rt.contains = function(M, U) {
                    return (M.ownerDocument || M) != de && ae(M), yi(M, U)
                }, Rt.attr = function(M, U) {
                    (M.ownerDocument || M) != de && ae(M);
                    var J = g.attrHandle[U.toLowerCase()],
                        pe = J && hn.call(g.attrHandle, U.toLowerCase()) ? J(M, U, !st) : void 0;
                    return pe !== void 0 ? pe : h.attributes || !st ? M.getAttribute(U) : (pe = M.getAttributeNode(U)) && pe.specified ? pe.value : null
                }, Rt.escape = function(M) {
                    return (M + "").replace(xo, Cs)
                }, Rt.error = function(M) {
                    throw new Error("Syntax error, unrecognized expression: " + M)
                }, Rt.uniqueSort = function(M) {
                    var U, J = [],
                        pe = 0,
                        te = 0;
                    if (Ce = !h.detectDuplicates, ce = !h.sortStable && M.slice(0), M.sort(un), Ce) {
                        for (; U = M[te++];) U === M[te] && (pe = J.push(te));
                        for (; pe--;) M.splice(J[pe], 1)
                    }
                    return ce = null, M
                }, _ = Rt.getText = function(M) {
                    var U, J = "",
                        pe = 0,
                        te = M.nodeType;
                    if (te) {
                        if (te === 1 || te === 9 || te === 11) {
                            if (typeof M.textContent == "string") return M.textContent;
                            for (M = M.firstChild; M; M = M.nextSibling) J += _(M)
                        } else if (te === 3 || te === 4) return M.nodeValue
                    } else
                        for (; U = M[pe++];) J += _(U);
                    return J
                }, g = Rt.selectors = {
                    cacheLength: 50,
                    createPseudo: ki,
                    match: fn,
                    attrHandle: {},
                    find: {},
                    relative: {
                        ">": {
                            dir: "parentNode",
                            first: !0
                        },
                        " ": {
                            dir: "parentNode"
                        },
                        "+": {
                            dir: "previousSibling",
                            first: !0
                        },
                        "~": {
                            dir: "previousSibling"
                        }
                    },
                    preFilter: {
                        ATTR: function(M) {
                            return M[1] = M[1].replace($i, Ni), M[3] = (M[3] || M[4] || M[5] || "").replace($i, Ni), M[2] === "~=" && (M[3] = " " + M[3] + " "), M.slice(0, 4)
                        },
                        CHILD: function(M) {
                            return M[1] = M[1].toLowerCase(), M[1].slice(0, 3) === "nth" ? (M[3] || Rt.error(M[0]), M[4] = +(M[4] ? M[5] + (M[6] || 1) : 2 * (M[3] === "even" || M[3] === "odd")), M[5] = +(M[7] + M[8] || M[3] === "odd")) : M[3] && Rt.error(M[0]), M
                        },
                        PSEUDO: function(M) {
                            var U, J = !M[6] && M[2];
                            return fn.CHILD.test(M[0]) ? null : (M[3] ? M[2] = M[4] || M[5] || "" : J && za.test(J) && (U = O(J, !0)) && (U = J.indexOf(")", J.length - U) - J.length) && (M[0] = M[0].slice(0, U), M[2] = J.slice(0, U)), M.slice(0, 3))
                        }
                    },
                    filter: {
                        TAG: function(M) {
                            var U = M.replace($i, Ni).toLowerCase();
                            return M === "*" ? function() {
                                return !0
                            } : function(J) {
                                return J.nodeName && J.nodeName.toLowerCase() === U
                            }
                        },
                        CLASS: function(M) {
                            var U = Ot[M + " "];
                            return U || (U = new RegExp("(^|" + Ct + ")" + M + "(" + Ct + "|$)")) && Ot(M, function(J) {
                                return U.test(typeof J.className == "string" && J.className || typeof J.getAttribute < "u" && J.getAttribute("class") || "")
                            })
                        },
                        ATTR: function(M, U, J) {
                            return function(pe) {
                                var te = Rt.attr(pe, M);
                                return te == null ? U === "!=" : U ? (te += "", U === "=" ? te === J : U === "!=" ? te !== J : U === "^=" ? J && te.indexOf(J) === 0 : U === "*=" ? J && te.indexOf(J) > -1 : U === "$=" ? J && te.slice(-J.length) === J : U === "~=" ? (" " + te.replace(bs, " ") + " ").indexOf(J) > -1 : U === "|=" ? te === J || te.slice(0, J.length + 1) === J + "-" : !1) : !0
                            }
                        },
                        CHILD: function(M, U, J, pe, te) {
                            var me = M.slice(0, 3) !== "nth",
                                xe = M.slice(-4) !== "last",
                                Re = U === "of-type";
                            return pe === 1 && te === 0 ? function(Pe) {
                                return !!Pe.parentNode
                            } : function(Pe, je, ze) {
                                var Qe, dt, Mt, Ye, Wt, ii, _i = me !== xe ? "nextSibling" : "previousSibling",
                                    Dt = Pe.parentNode,
                                    u = Re && Pe.nodeName.toLowerCase(),
                                    f = !ze && !Re,
                                    C = !1;
                                if (Dt) {
                                    if (me) {
                                        for (; _i;) {
                                            for (Ye = Pe; Ye = Ye[_i];)
                                                if (Re ? Ye.nodeName.toLowerCase() === u : Ye.nodeType === 1) return !1;
                                            ii = _i = M === "only" && !ii && "nextSibling"
                                        }
                                        return !0
                                    }
                                    if (ii = [xe ? Dt.firstChild : Dt.lastChild], xe && f) {
                                        for (Ye = Dt, Mt = Ye[At] || (Ye[At] = {}), dt = Mt[Ye.uniqueID] || (Mt[Ye.uniqueID] = {}), Qe = dt[M] || [], Wt = Qe[0] === ti && Qe[1], C = Wt && Qe[2], Ye = Wt && Dt.childNodes[Wt]; Ye = ++Wt && Ye && Ye[_i] || (C = Wt = 0) || ii.pop();)
                                            if (Ye.nodeType === 1 && ++C && Ye === Pe) {
                                                dt[M] = [ti, Wt, C];
                                                break
                                            }
                                    } else if (f && (Ye = Pe, Mt = Ye[At] || (Ye[At] = {}), dt = Mt[Ye.uniqueID] || (Mt[Ye.uniqueID] = {}), Qe = dt[M] || [], Wt = Qe[0] === ti && Qe[1], C = Wt), C === !1)
                                        for (;
                                            (Ye = ++Wt && Ye && Ye[_i] || (C = Wt = 0) || ii.pop()) && !((Re ? Ye.nodeName.toLowerCase() === u : Ye.nodeType === 1) && ++C && (f && (Mt = Ye[At] || (Ye[At] = {}), dt = Mt[Ye.uniqueID] || (Mt[Ye.uniqueID] = {}), dt[M] = [ti, C]), Ye === Pe)););
                                    return C -= te, C === pe || C % pe === 0 && C / pe >= 0
                                }
                            }
                        },
                        PSEUDO: function(M, U) {
                            var J, pe = g.pseudos[M] || g.setFilters[M.toLowerCase()] || Rt.error("unsupported pseudo: " + M);
                            return pe[At] ? pe(U) : pe.length > 1 ? (J = [M, M, "", U], g.setFilters.hasOwnProperty(M.toLowerCase()) ? ki(function(te, me) {
                                for (var xe, Re = pe(te, U), Pe = Re.length; Pe--;) xe = Xi(te, Re[Pe]), te[xe] = !(me[xe] = Re[Pe])
                            }) : function(te) {
                                return pe(te, 0, J)
                            }) : pe
                        }
                    },
                    pseudos: {
                        not: ki(function(M) {
                            var U = [],
                                J = [],
                                pe = z(M.replace(er, "$1"));
                            return pe[At] ? ki(function(te, me, xe, Re) {
                                for (var Pe, je = pe(te, null, Re, []), ze = te.length; ze--;)(Pe = je[ze]) && (te[ze] = !(me[ze] = Pe))
                            }) : function(te, me, xe) {
                                return U[0] = te, pe(U, null, xe, J), U[0] = null, !J.pop()
                            }
                        }),
                        has: ki(function(M) {
                            return function(U) {
                                return Rt(M, U).length > 0
                            }
                        }),
                        contains: ki(function(M) {
                            return M = M.replace($i, Ni),
                                function(U) {
                                    return (U.textContent || _(U)).indexOf(M) > -1
                                }
                        }),
                        lang: ki(function(M) {
                            return Ha.test(M || "") || Rt.error("unsupported lang: " + M), M = M.replace($i, Ni).toLowerCase(),
                                function(U) {
                                    var J;
                                    do
                                        if (J = st ? U.lang : U.getAttribute("xml:lang") || U.getAttribute("lang")) return J = J.toLowerCase(), J === M || J.indexOf(M + "-") === 0; while ((U = U.parentNode) && U.nodeType === 1);
                                    return !1
                                }
                        }),
                        target: function(M) {
                            var U = r.location && r.location.hash;
                            return U && U.slice(1) === M.id
                        },
                        root: function(M) {
                            return M === Ge
                        },
                        focus: function(M) {
                            return M === de.activeElement && (!de.hasFocus || de.hasFocus()) && !!(M.type || M.href || ~M.tabIndex)
                        },
                        enabled: Ss(!1),
                        disabled: Ss(!0),
                        checked: function(M) {
                            var U = M.nodeName.toLowerCase();
                            return U === "input" && !!M.checked || U === "option" && !!M.selected
                        },
                        selected: function(M) {
                            return M.parentNode && M.parentNode.selectedIndex, M.selected === !0
                        },
                        empty: function(M) {
                            for (M = M.firstChild; M; M = M.nextSibling)
                                if (M.nodeType < 6) return !1;
                            return !0
                        },
                        parent: function(M) {
                            return !g.pseudos.empty(M)
                        },
                        header: function(M) {
                            return Ka.test(M.nodeName)
                        },
                        input: function(M) {
                            return Wa.test(M.nodeName)
                        },
                        button: function(M) {
                            var U = M.nodeName.toLowerCase();
                            return U === "input" && M.type === "button" || U === "button"
                        },
                        text: function(M) {
                            var U;
                            return M.nodeName.toLowerCase() === "input" && M.type === "text" && ((U = M.getAttribute("type")) == null || U.toLowerCase() === "text")
                        },
                        first: pn(function() {
                            return [0]
                        }),
                        last: pn(function(M, U) {
                            return [U - 1]
                        }),
                        eq: pn(function(M, U, J) {
                            return [J < 0 ? J + U : J]
                        }),
                        even: pn(function(M, U) {
                            for (var J = 0; J < U; J += 2) M.push(J);
                            return M
                        }),
                        odd: pn(function(M, U) {
                            for (var J = 1; J < U; J += 2) M.push(J);
                            return M
                        }),
                        lt: pn(function(M, U, J) {
                            for (var pe = J < 0 ? J + U : J > U ? U : J; --pe >= 0;) M.push(pe);
                            return M
                        }),
                        gt: pn(function(M, U, J) {
                            for (var pe = J < 0 ? J + U : J; ++pe < U;) M.push(pe);
                            return M
                        })
                    }
                }, g.pseudos.nth = g.pseudos.eq;
                for (a in {
                        radio: !0,
                        checkbox: !0,
                        file: !0,
                        password: !0,
                        image: !0
                    }) g.pseudos[a] = Ya(a);
                for (a in {
                        submit: !0,
                        reset: !0
                    }) g.pseudos[a] = Ja(a);

                function So() {}
                So.prototype = g.filters = g.pseudos, g.setFilters = new So, O = Rt.tokenize = function(M, U) {
                    var J, pe, te, me, xe, Re, Pe, je = Zn[M + " "];
                    if (je) return U ? 0 : je.slice(0);
                    for (xe = M, Re = [], Pe = g.preFilter; xe;) {
                        (!J || (pe = _o.exec(xe))) && (pe && (xe = xe.slice(pe[0].length) || xe), Re.push(te = [])), J = !1, (pe = Er.exec(xe)) && (J = pe.shift(), te.push({
                            value: J,
                            type: pe[0].replace(er, " ")
                        }), xe = xe.slice(J.length));
                        for (me in g.filter)(pe = fn[me].exec(xe)) && (!Pe[me] || (pe = Pe[me](pe))) && (J = pe.shift(), te.push({
                            value: J,
                            type: me,
                            matches: pe
                        }), xe = xe.slice(J.length));
                        if (!J) break
                    }
                    return U ? xe.length : xe ? Rt.error(M) : Zn(M, Re).slice(0)
                };

                function kr(M) {
                    for (var U = 0, J = M.length, pe = ""; U < J; U++) pe += M[U].value;
                    return pe
                }

                function Tr(M, U, J) {
                    var pe = U.dir,
                        te = U.next,
                        me = te || pe,
                        xe = J && me === "parentNode",
                        Re = mt++;
                    return U.first ? function(Pe, je, ze) {
                        for (; Pe = Pe[pe];)
                            if (Pe.nodeType === 1 || xe) return M(Pe, je, ze);
                        return !1
                    } : function(Pe, je, ze) {
                        var Qe, dt, Mt, Ye = [ti, Re];
                        if (ze) {
                            for (; Pe = Pe[pe];)
                                if ((Pe.nodeType === 1 || xe) && M(Pe, je, ze)) return !0
                        } else
                            for (; Pe = Pe[pe];)
                                if (Pe.nodeType === 1 || xe)
                                    if (Mt = Pe[At] || (Pe[At] = {}), dt = Mt[Pe.uniqueID] || (Mt[Pe.uniqueID] = {}), te && te === Pe.nodeName.toLowerCase()) Pe = Pe[pe] || Pe;
                                    else {
                                        if ((Qe = dt[me]) && Qe[0] === ti && Qe[1] === Re) return Ye[2] = Qe[2];
                                        if (dt[me] = Ye, Ye[2] = M(Pe, je, ze)) return !0
                                    } return !1
                    }
                }

                function Ts(M) {
                    return M.length > 1 ? function(U, J, pe) {
                        for (var te = M.length; te--;)
                            if (!M[te](U, J, pe)) return !1;
                        return !0
                    } : M[0]
                }

                function Qa(M, U, J) {
                    for (var pe = 0, te = U.length; pe < te; pe++) Rt(M, U[pe], J);
                    return J
                }

                function Ar(M, U, J, pe, te) {
                    for (var me, xe = [], Re = 0, Pe = M.length, je = U != null; Re < Pe; Re++)(me = M[Re]) && (!J || J(me, pe, te)) && (xe.push(me), je && U.push(Re));
                    return xe
                }

                function As(M, U, J, pe, te, me) {
                    return pe && !pe[At] && (pe = As(pe)), te && !te[At] && (te = As(te, me)), ki(function(xe, Re, Pe, je) {
                        var ze, Qe, dt, Mt = [],
                            Ye = [],
                            Wt = Re.length,
                            ii = xe || Qa(U || "*", Pe.nodeType ? [Pe] : Pe, []),
                            _i = M && (xe || !U) ? Ar(ii, Mt, M, Pe, je) : ii,
                            Dt = J ? te || (xe ? M : Wt || pe) ? [] : Re : _i;
                        if (J && J(_i, Dt, Pe, je), pe)
                            for (ze = Ar(Dt, Ye), pe(ze, [], Pe, je), Qe = ze.length; Qe--;)(dt = ze[Qe]) && (Dt[Ye[Qe]] = !(_i[Ye[Qe]] = dt));
                        if (xe) {
                            if (te || M) {
                                if (te) {
                                    for (ze = [], Qe = Dt.length; Qe--;)(dt = Dt[Qe]) && ze.push(_i[Qe] = dt);
                                    te(null, Dt = [], ze, je)
                                }
                                for (Qe = Dt.length; Qe--;)(dt = Dt[Qe]) && (ze = te ? Xi(xe, dt) : Mt[Qe]) > -1 && (xe[ze] = !(Re[ze] = dt))
                            }
                        } else Dt = Ar(Dt === Re ? Dt.splice(Wt, Dt.length) : Dt), te ? te(null, Re, Dt, je) : Ki.apply(Re, Dt)
                    })
                }

                function Bi(M) {
                    for (var U, J, pe, te = M.length, me = g.relative[M[0].type], xe = me || g.relative[" "], Re = me ? 1 : 0, Pe = Tr(function(Qe) {
                            return Qe === U
                        }, xe, !0), je = Tr(function(Qe) {
                            return Xi(U, Qe) > -1
                        }, xe, !0), ze = [function(Qe, dt, Mt) {
                            var Ye = !me && (Mt || dt !== ee) || ((U = dt).nodeType ? Pe(Qe, dt, Mt) : je(Qe, dt, Mt));
                            return U = null, Ye
                        }]; Re < te; Re++)
                        if (J = g.relative[M[Re].type]) ze = [Tr(Ts(ze), J)];
                        else {
                            if (J = g.filter[M[Re].type].apply(null, M[Re].matches), J[At]) {
                                for (pe = ++Re; pe < te && !g.relative[M[pe].type]; pe++);
                                return As(Re > 1 && Ts(ze), Re > 1 && kr(M.slice(0, Re - 1).concat({
                                    value: M[Re - 2].type === " " ? "*" : ""
                                })).replace(er, "$1"), J, Re < pe && Bi(M.slice(Re, pe)), pe < te && Bi(M = M.slice(pe)), pe < te && kr(M))
                            }
                            ze.push(J)
                        } return Ts(ze)
                }

                function ko(M, U) {
                    var J = U.length > 0,
                        pe = M.length > 0,
                        te = function(me, xe, Re, Pe, je) {
                            var ze, Qe, dt, Mt = 0,
                                Ye = "0",
                                Wt = me && [],
                                ii = [],
                                _i = ee,
                                Dt = me || pe && g.find.TAG("*", je),
                                u = ti += _i == null ? 1 : Math.random() || .1,
                                f = Dt.length;
                            for (je && (ee = xe == de || xe || je); Ye !== f && (ze = Dt[Ye]) != null; Ye++) {
                                if (pe && ze) {
                                    for (Qe = 0, !xe && ze.ownerDocument != de && (ae(ze), Re = !st); dt = M[Qe++];)
                                        if (dt(ze, xe || de, Re)) {
                                            Pe.push(ze);
                                            break
                                        } je && (ti = u)
                                }
                                J && ((ze = !dt && ze) && Mt--, me && Wt.push(ze))
                            }
                            if (Mt += Ye, J && Ye !== Mt) {
                                for (Qe = 0; dt = U[Qe++];) dt(Wt, ii, xe, Re);
                                if (me) {
                                    if (Mt > 0)
                                        for (; Ye--;) Wt[Ye] || ii[Ye] || (ii[Ye] = Wi.call(Pe));
                                    ii = Ar(ii)
                                }
                                Ki.apply(Pe, ii), je && !me && ii.length > 0 && Mt + U.length > 1 && Rt.uniqueSort(Pe)
                            }
                            return je && (ti = u, ee = _i), Wt
                        };
                    return J ? ki(te) : te
                }
                return z = Rt.compile = function(M, U) {
                    var J, pe = [],
                        te = [],
                        me = Cr[M + " "];
                    if (!me) {
                        for (U || (U = O(M)), J = U.length; J--;) me = Bi(U[J]), me[At] ? pe.push(me) : te.push(me);
                        me = Cr(M, ko(te, pe)), me.selector = M
                    }
                    return me
                }, G = Rt.select = function(M, U, J, pe) {
                    var te, me, xe, Re, Pe, je = typeof M == "function" && M,
                        ze = !pe && O(M = je.selector || M);
                    if (J = J || [], ze.length === 1) {
                        if (me = ze[0] = ze[0].slice(0), me.length > 2 && (xe = me[0]).type === "ID" && U.nodeType === 9 && st && g.relative[me[1].type]) {
                            if (U = (g.find.ID(xe.matches[0].replace($i, Ni), U) || [])[0], U) je && (U = U.parentNode);
                            else return J;
                            M = M.slice(me.shift().value.length)
                        }
                        for (te = fn.needsContext.test(M) ? 0 : me.length; te-- && (xe = me[te], !g.relative[Re = xe.type]);)
                            if ((Pe = g.find[Re]) && (pe = Pe(xe.matches[0].replace($i, Ni), _s.test(me[0].type) && ks(U.parentNode) || U))) {
                                if (me.splice(te, 1), M = pe.length && kr(me), !M) return Ki.apply(J, pe), J;
                                break
                            }
                    }
                    return (je || z(M, ze))(pe, U, !st, J, !U || _s.test(M) && ks(U.parentNode) || U), J
                }, h.sortStable = At.split("").sort(un).join("") === At, h.detectDuplicates = !!Ce, ae(), h.sortDetached = bi(function(M) {
                    return M.compareDocumentPosition(de.createElement("fieldset")) & 1
                }), bi(function(M) {
                    return M.innerHTML = "<a href='#'></a>", M.firstChild.getAttribute("href") === "#"
                }) || Es("type|href|height|width", function(M, U, J) {
                    if (!J) return M.getAttribute(U, U.toLowerCase() === "type" ? 1 : 2)
                }), (!h.attributes || !bi(function(M) {
                    return M.innerHTML = "<input/>", M.firstChild.setAttribute("value", ""), M.firstChild.getAttribute("value") === ""
                })) && Es("value", function(M, U, J) {
                    if (!J && M.nodeName.toLowerCase() === "input") return M.defaultValue
                }), bi(function(M) {
                    return M.getAttribute("disabled") == null
                }) || Es(vs, function(M, U, J) {
                    var pe;
                    if (!J) return M[U] === !0 ? U.toLowerCase() : (pe = M.getAttributeNode(U)) && pe.specified ? pe.value : null
                }), Rt
            }(e);
            d.find = Se, d.expr = Se.selectors, d.expr[":"] = d.expr.pseudos, d.uniqueSort = d.unique = Se.uniqueSort, d.text = Se.getText, d.isXMLDoc = Se.isXML, d.contains = Se.contains, d.escapeSelector = Se.escape;
            var Ae = function(r, a, h) {
                    for (var g = [], _ = h !== void 0;
                        (r = r[a]) && r.nodeType !== 9;)
                        if (r.nodeType === 1) {
                            if (_ && d(r).is(h)) break;
                            g.push(r)
                        } return g
                },
                at = function(r, a) {
                    for (var h = []; r; r = r.nextSibling) r.nodeType === 1 && r !== a && h.push(r);
                    return h
                },
                Ve = d.expr.match.needsContext;

            function Ke(r, a) {
                return r.nodeName && r.nodeName.toLowerCase() === a.toLowerCase()
            }
            var qe = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

            function K(r, a, h) {
                return ie(a) ? d.grep(r, function(g, _) {
                    return !!a.call(g, _, g) !== h
                }) : a.nodeType ? d.grep(r, function(g) {
                    return g === a !== h
                }) : typeof a != "string" ? d.grep(r, function(g) {
                    return w.call(a, g) > -1 !== h
                }) : d.filter(a, r, h)
            }
            d.filter = function(r, a, h) {
                var g = a[0];
                return h && (r = ":not(" + r + ")"), a.length === 1 && g.nodeType === 1 ? d.find.matchesSelector(g, r) ? [g] : [] : d.find.matches(r, d.grep(a, function(_) {
                    return _.nodeType === 1
                }))
            }, d.fn.extend({
                find: function(r) {
                    var a, h, g = this.length,
                        _ = this;
                    if (typeof r != "string") return this.pushStack(d(r).filter(function() {
                        for (a = 0; a < g; a++)
                            if (d.contains(_[a], this)) return !0
                    }));
                    for (h = this.pushStack([]), a = 0; a < g; a++) d.find(r, _[a], h);
                    return g > 1 ? d.uniqueSort(h) : h
                },
                filter: function(r) {
                    return this.pushStack(K(this, r || [], !1))
                },
                not: function(r) {
                    return this.pushStack(K(this, r || [], !0))
                },
                is: function(r) {
                    return !!K(this, typeof r == "string" && Ve.test(r) ? d(r) : r || [], !1).length
                }
            });
            var le, De = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
                Ie = d.fn.init = function(r, a, h) {
                    var g, _;
                    if (!r) return this;
                    if (h = h || le, typeof r == "string")
                        if (r[0] === "<" && r[r.length - 1] === ">" && r.length >= 3 ? g = [null, r, null] : g = De.exec(r), g && (g[1] || !a))
                            if (g[1]) {
                                if (a = a instanceof d ? a[0] : a, d.merge(this, d.parseHTML(g[1], a && a.nodeType ? a.ownerDocument || a : $, !0)), qe.test(g[1]) && d.isPlainObject(a))
                                    for (g in a) ie(this[g]) ? this[g](a[g]) : this.attr(g, a[g]);
                                return this
                            } else return _ = $.getElementById(g[2]), _ && (this[0] = _, this.length = 1), this;
                    else return !a || a.jquery ? (a || h).find(r) : this.constructor(a).find(r);
                    else {
                        if (r.nodeType) return this[0] = r, this.length = 1, this;
                        if (ie(r)) return h.ready !== void 0 ? h.ready(r) : r(d)
                    }
                    return d.makeArray(r, this)
                };
            Ie.prototype = d.fn, le = d($);
            var we = /^(?:parents|prev(?:Until|All))/,
                he = {
                    children: !0,
                    contents: !0,
                    next: !0,
                    prev: !0
                };
            d.fn.extend({
                has: function(r) {
                    var a = d(r, this),
                        h = a.length;
                    return this.filter(function() {
                        for (var g = 0; g < h; g++)
                            if (d.contains(this, a[g])) return !0
                    })
                },
                closest: function(r, a) {
                    var h, g = 0,
                        _ = this.length,
                        S = [],
                        O = typeof r != "string" && d(r);
                    if (!Ve.test(r)) {
                        for (; g < _; g++)
                            for (h = this[g]; h && h !== a; h = h.parentNode)
                                if (h.nodeType < 11 && (O ? O.index(h) > -1 : h.nodeType === 1 && d.find.matchesSelector(h, r))) {
                                    S.push(h);
                                    break
                                }
                    }
                    return this.pushStack(S.length > 1 ? d.uniqueSort(S) : S)
                },
                index: function(r) {
                    return r ? typeof r == "string" ? w.call(d(r), this[0]) : w.call(this, r.jquery ? r[0] : r) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
                },
                add: function(r, a) {
                    return this.pushStack(d.uniqueSort(d.merge(this.get(), d(r, a))))
                },
                addBack: function(r) {
                    return this.add(r == null ? this.prevObject : this.prevObject.filter(r))
                }
            });

            function ke(r, a) {
                for (;
                    (r = r[a]) && r.nodeType !== 1;);
                return r
            }
            d.each({
                parent: function(r) {
                    var a = r.parentNode;
                    return a && a.nodeType !== 11 ? a : null
                },
                parents: function(r) {
                    return Ae(r, "parentNode")
                },
                parentsUntil: function(r, a, h) {
                    return Ae(r, "parentNode", h)
                },
                next: function(r) {
                    return ke(r, "nextSibling")
                },
                prev: function(r) {
                    return ke(r, "previousSibling")
                },
                nextAll: function(r) {
                    return Ae(r, "nextSibling")
                },
                prevAll: function(r) {
                    return Ae(r, "previousSibling")
                },
                nextUntil: function(r, a, h) {
                    return Ae(r, "nextSibling", h)
                },
                prevUntil: function(r, a, h) {
                    return Ae(r, "previousSibling", h)
                },
                siblings: function(r) {
                    return at((r.parentNode || {}).firstChild, r)
                },
                children: function(r) {
                    return at(r.firstChild)
                },
                contents: function(r) {
                    return r.contentDocument != null && s(r.contentDocument) ? r.contentDocument : (Ke(r, "template") && (r = r.content || r), d.merge([], r.childNodes))
                }
            }, function(r, a) {
                d.fn[r] = function(h, g) {
                    var _ = d.map(this, a, h);
                    return r.slice(-5) !== "Until" && (g = h), g && typeof g == "string" && (_ = d.filter(g, _)), this.length > 1 && (he[r] || d.uniqueSort(_), we.test(r) && _.reverse()), this.pushStack(_)
                }
            });
            var Te = /[^\x20\t\r\n\f]+/g;

            function Fe(r) {
                var a = {};
                return d.each(r.match(Te) || [], function(h, g) {
                    a[g] = !0
                }), a
            }
            d.Callbacks = function(r) {
                r = typeof r == "string" ? Fe(r) : d.extend({}, r);
                var a, h, g, _, S = [],
                    O = [],
                    z = -1,
                    G = function() {
                        for (_ = _ || r.once, g = a = !0; O.length; z = -1)
                            for (h = O.shift(); ++z < S.length;) S[z].apply(h[0], h[1]) === !1 && r.stopOnFalse && (z = S.length, h = !1);
                        r.memory || (h = !1), a = !1, _ && (h ? S = [] : S = "")
                    },
                    ee = {
                        add: function() {
                            return S && (h && !a && (z = S.length - 1, O.push(h)), function ce(Ce) {
                                d.each(Ce, function(ae, de) {
                                    ie(de) ? (!r.unique || !ee.has(de)) && S.push(de) : de && de.length && oe(de) !== "string" && ce(de)
                                })
                            }(arguments), h && !a && G()), this
                        },
                        remove: function() {
                            return d.each(arguments, function(ce, Ce) {
                                for (var ae;
                                    (ae = d.inArray(Ce, S, ae)) > -1;) S.splice(ae, 1), ae <= z && z--
                            }), this
                        },
                        has: function(ce) {
                            return ce ? d.inArray(ce, S) > -1 : S.length > 0
                        },
                        empty: function() {
                            return S && (S = []), this
                        },
                        disable: function() {
                            return _ = O = [], S = h = "", this
                        },
                        disabled: function() {
                            return !S
                        },
                        lock: function() {
                            return _ = O = [], !h && !a && (S = h = ""), this
                        },
                        locked: function() {
                            return !!_
                        },
                        fireWith: function(ce, Ce) {
                            return _ || (Ce = Ce || [], Ce = [ce, Ce.slice ? Ce.slice() : Ce], O.push(Ce), a || G()), this
                        },
                        fire: function() {
                            return ee.fireWith(this, arguments), this
                        },
                        fired: function() {
                            return !!g
                        }
                    };
                return ee
            };

            function rt(r) {
                return r
            }

            function Tt(r) {
                throw r
            }

            function si(r, a, h, g) {
                var _;
                try {
                    r && ie(_ = r.promise) ? _.call(r).done(a).fail(h) : r && ie(_ = r.then) ? _.call(r, a, h) : a.apply(void 0, [r].slice(g))
                } catch (S) {
                    h.apply(void 0, [S])
                }
            }
            d.extend({
                Deferred: function(r) {
                    var a = [
                            ["notify", "progress", d.Callbacks("memory"), d.Callbacks("memory"), 2],
                            ["resolve", "done", d.Callbacks("once memory"), d.Callbacks("once memory"), 0, "resolved"],
                            ["reject", "fail", d.Callbacks("once memory"), d.Callbacks("once memory"), 1, "rejected"]
                        ],
                        h = "pending",
                        g = {
                            state: function() {
                                return h
                            },
                            always: function() {
                                return _.done(arguments).fail(arguments), this
                            },
                            catch: function(S) {
                                return g.then(null, S)
                            },
                            pipe: function() {
                                var S = arguments;
                                return d.Deferred(function(O) {
                                    d.each(a, function(z, G) {
                                        var ee = ie(S[G[4]]) && S[G[4]];
                                        _[G[1]](function() {
                                            var ce = ee && ee.apply(this, arguments);
                                            ce && ie(ce.promise) ? ce.promise().progress(O.notify).done(O.resolve).fail(O.reject) : O[G[0] + "With"](this, ee ? [ce] : arguments)
                                        })
                                    }), S = null
                                }).promise()
                            },
                            then: function(S, O, z) {
                                var G = 0;

                                function ee(ce, Ce, ae, de) {
                                    return function() {
                                        var Ge = this,
                                            st = arguments,
                                            We = function() {
                                                var Ut, yi;
                                                if (!(ce < G)) {
                                                    if (Ut = ae.apply(Ge, st), Ut === Ce.promise()) throw new TypeError("Thenable self-resolution");
                                                    yi = Ut && (typeof Ut == "object" || typeof Ut == "function") && Ut.then, ie(yi) ? de ? yi.call(Ut, ee(G, Ce, rt, de), ee(G, Ce, Tt, de)) : (G++, yi.call(Ut, ee(G, Ce, rt, de), ee(G, Ce, Tt, de), ee(G, Ce, rt, Ce.notifyWith))) : (ae !== rt && (Ge = void 0, st = [Ut]), (de || Ce.resolveWith)(Ge, st))
                                                }
                                            },
                                            Gt = de ? We : function() {
                                                try {
                                                    We()
                                                } catch (Ut) {
                                                    d.Deferred.exceptionHook && d.Deferred.exceptionHook(Ut, Gt.stackTrace), ce + 1 >= G && (ae !== Tt && (Ge = void 0, st = [Ut]), Ce.rejectWith(Ge, st))
                                                }
                                            };
                                        ce ? Gt() : (d.Deferred.getStackHook && (Gt.stackTrace = d.Deferred.getStackHook()), e.setTimeout(Gt))
                                    }
                                }
                                return d.Deferred(function(ce) {
                                    a[0][3].add(ee(0, ce, ie(z) ? z : rt, ce.notifyWith)), a[1][3].add(ee(0, ce, ie(S) ? S : rt)), a[2][3].add(ee(0, ce, ie(O) ? O : Tt))
                                }).promise()
                            },
                            promise: function(S) {
                                return S != null ? d.extend(S, g) : g
                            }
                        },
                        _ = {};
                    return d.each(a, function(S, O) {
                        var z = O[2],
                            G = O[5];
                        g[O[1]] = z.add, G && z.add(function() {
                            h = G
                        }, a[3 - S][2].disable, a[3 - S][3].disable, a[0][2].lock, a[0][3].lock), z.add(O[3].fire), _[O[0]] = function() {
                            return _[O[0] + "With"](this === _ ? void 0 : this, arguments), this
                        }, _[O[0] + "With"] = z.fireWith
                    }), g.promise(_), r && r.call(_, _), _
                },
                when: function(r) {
                    var a = arguments.length,
                        h = a,
                        g = Array(h),
                        _ = o.call(arguments),
                        S = d.Deferred(),
                        O = function(z) {
                            return function(G) {
                                g[z] = this, _[z] = arguments.length > 1 ? o.call(arguments) : G, --a || S.resolveWith(g, _)
                            }
                        };
                    if (a <= 1 && (si(r, S.done(O(h)).resolve, S.reject, !a), S.state() === "pending" || ie(_[h] && _[h].then))) return S.then();
                    for (; h--;) si(_[h], O(h), S.reject);
                    return S.promise()
                }
            });
            var jt = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
            d.Deferred.exceptionHook = function(r, a) {
                e.console && e.console.warn && r && jt.test(r.name) && e.console.warn("jQuery.Deferred exception: " + r.message, r.stack, a)
            }, d.readyException = function(r) {
                e.setTimeout(function() {
                    throw r
                })
            };
            var k = d.Deferred();
            d.fn.ready = function(r) {
                return k.then(r).catch(function(a) {
                    d.readyException(a)
                }), this
            }, d.extend({
                isReady: !1,
                readyWait: 1,
                ready: function(r) {
                    (r === !0 ? --d.readyWait : d.isReady) || (d.isReady = !0, !(r !== !0 && --d.readyWait > 0) && k.resolveWith($, [d]))
                }
            }), d.ready.then = k.then;

            function c() {
                $.removeEventListener("DOMContentLoaded", c), e.removeEventListener("load", c), d.ready()
            }
            $.readyState === "complete" || $.readyState !== "loading" && !$.documentElement.doScroll ? e.setTimeout(d.ready) : ($.addEventListener("DOMContentLoaded", c), e.addEventListener("load", c));
            var m = function(r, a, h, g, _, S, O) {
                    var z = 0,
                        G = r.length,
                        ee = h == null;
                    if (oe(h) === "object") {
                        _ = !0;
                        for (z in h) m(r, a, z, h[z], !0, S, O)
                    } else if (g !== void 0 && (_ = !0, ie(g) || (O = !0), ee && (O ? (a.call(r, g), a = null) : (ee = a, a = function(ce, Ce, ae) {
                            return ee.call(d(ce), ae)
                        })), a))
                        for (; z < G; z++) a(r[z], h, O ? g : g.call(r[z], z, a(r[z], h)));
                    return _ ? r : ee ? a.call(r) : G ? a(r[0], h) : S
                },
                T = /^-ms-/,
                R = /-([a-z])/g;

            function N(r, a) {
                return a.toUpperCase()
            }

            function F(r) {
                return r.replace(T, "ms-").replace(R, N)
            }
            var re = function(r) {
                return r.nodeType === 1 || r.nodeType === 9 || !+r.nodeType
            };

            function Ee() {
                this.expando = d.expando + Ee.uid++
            }
            Ee.uid = 1, Ee.prototype = {
                cache: function(r) {
                    var a = r[this.expando];
                    return a || (a = {}, re(r) && (r.nodeType ? r[this.expando] = a : Object.defineProperty(r, this.expando, {
                        value: a,
                        configurable: !0
                    }))), a
                },
                set: function(r, a, h) {
                    var g, _ = this.cache(r);
                    if (typeof a == "string") _[F(a)] = h;
                    else
                        for (g in a) _[F(g)] = a[g];
                    return _
                },
                get: function(r, a) {
                    return a === void 0 ? this.cache(r) : r[this.expando] && r[this.expando][F(a)]
                },
                access: function(r, a, h) {
                    return a === void 0 || a && typeof a == "string" && h === void 0 ? this.get(r, a) : (this.set(r, a, h), h !== void 0 ? h : a)
                },
                remove: function(r, a) {
                    var h, g = r[this.expando];
                    if (g !== void 0) {
                        if (a !== void 0)
                            for (Array.isArray(a) ? a = a.map(F) : (a = F(a), a = a in g ? [a] : a.match(Te) || []), h = a.length; h--;) delete g[a[h]];
                        (a === void 0 || d.isEmptyObject(g)) && (r.nodeType ? r[this.expando] = void 0 : delete r[this.expando])
                    }
                },
                hasData: function(r) {
                    var a = r[this.expando];
                    return a !== void 0 && !d.isEmptyObject(a)
                }
            };
            var se = new Ee,
                Oe = new Ee,
                Le = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
                gt = /[A-Z]/g;

            function ft(r) {
                return r === "true" ? !0 : r === "false" ? !1 : r === "null" ? null : r === +r + "" ? +r : Le.test(r) ? JSON.parse(r) : r
            }

            function Et(r, a, h) {
                var g;
                if (h === void 0 && r.nodeType === 1)
                    if (g = "data-" + a.replace(gt, "-$&").toLowerCase(), h = r.getAttribute(g), typeof h == "string") {
                        try {
                            h = ft(h)
                        } catch {}
                        Oe.set(r, a, h)
                    } else h = void 0;
                return h
            }
            d.extend({
                hasData: function(r) {
                    return Oe.hasData(r) || se.hasData(r)
                },
                data: function(r, a, h) {
                    return Oe.access(r, a, h)
                },
                removeData: function(r, a) {
                    Oe.remove(r, a)
                },
                _data: function(r, a, h) {
                    return se.access(r, a, h)
                },
                _removeData: function(r, a) {
                    se.remove(r, a)
                }
            }), d.fn.extend({
                data: function(r, a) {
                    var h, g, _, S = this[0],
                        O = S && S.attributes;
                    if (r === void 0) {
                        if (this.length && (_ = Oe.get(S), S.nodeType === 1 && !se.get(S, "hasDataAttrs"))) {
                            for (h = O.length; h--;) O[h] && (g = O[h].name, g.indexOf("data-") === 0 && (g = F(g.slice(5)), Et(S, g, _[g])));
                            se.set(S, "hasDataAttrs", !0)
                        }
                        return _
                    }
                    return typeof r == "object" ? this.each(function() {
                        Oe.set(this, r)
                    }) : m(this, function(z) {
                        var G;
                        if (S && z === void 0) return G = Oe.get(S, r), G !== void 0 || (G = Et(S, r), G !== void 0) ? G : void 0;
                        this.each(function() {
                            Oe.set(this, r, z)
                        })
                    }, null, a, arguments.length > 1, null, !0)
                },
                removeData: function(r) {
                    return this.each(function() {
                        Oe.remove(this, r)
                    })
                }
            }), d.extend({
                queue: function(r, a, h) {
                    var g;
                    if (r) return a = (a || "fx") + "queue", g = se.get(r, a), h && (!g || Array.isArray(h) ? g = se.access(r, a, d.makeArray(h)) : g.push(h)), g || []
                },
                dequeue: function(r, a) {
                    a = a || "fx";
                    var h = d.queue(r, a),
                        g = h.length,
                        _ = h.shift(),
                        S = d._queueHooks(r, a),
                        O = function() {
                            d.dequeue(r, a)
                        };
                    _ === "inprogress" && (_ = h.shift(), g--), _ && (a === "fx" && h.unshift("inprogress"), delete S.stop, _.call(r, O, S)), !g && S && S.empty.fire()
                },
                _queueHooks: function(r, a) {
                    var h = a + "queueHooks";
                    return se.get(r, h) || se.access(r, h, {
                        empty: d.Callbacks("once memory").add(function() {
                            se.remove(r, [a + "queue", h])
                        })
                    })
                }
            }), d.fn.extend({
                queue: function(r, a) {
                    var h = 2;
                    return typeof r != "string" && (a = r, r = "fx", h--), arguments.length < h ? d.queue(this[0], r) : a === void 0 ? this : this.each(function() {
                        var g = d.queue(this, r, a);
                        d._queueHooks(this, r), r === "fx" && g[0] !== "inprogress" && d.dequeue(this, r)
                    })
                },
                dequeue: function(r) {
                    return this.each(function() {
                        d.dequeue(this, r)
                    })
                },
                clearQueue: function(r) {
                    return this.queue(r || "fx", [])
                },
                promise: function(r, a) {
                    var h, g = 1,
                        _ = d.Deferred(),
                        S = this,
                        O = this.length,
                        z = function() {
                            --g || _.resolveWith(S, [S])
                        };
                    for (typeof r != "string" && (a = r, r = void 0), r = r || "fx"; O--;) h = se.get(S[O], r + "queueHooks"), h && h.empty && (g++, h.empty.add(z));
                    return z(), _.promise(a)
                }
            });
            var _t = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
                vt = new RegExp("^(?:([+-])=|)(" + _t + ")([a-z%]*)$", "i"),
                lt = ["Top", "Right", "Bottom", "Left"],
                oi = $.documentElement,
                ai = function(r) {
                    return d.contains(r.ownerDocument, r)
                },
                ui = {
                    composed: !0
                };
            oi.getRootNode && (ai = function(r) {
                return d.contains(r.ownerDocument, r) || r.getRootNode(ui) === r.ownerDocument
            });
            var H = function(r, a) {
                return r = a || r, r.style.display === "none" || r.style.display === "" && ai(r) && d.css(r, "display") === "none"
            };

            function V(r, a, h, g) {
                var _, S, O = 20,
                    z = g ? function() {
                        return g.cur()
                    } : function() {
                        return d.css(r, a, "")
                    },
                    G = z(),
                    ee = h && h[3] || (d.cssNumber[a] ? "" : "px"),
                    ce = r.nodeType && (d.cssNumber[a] || ee !== "px" && +G) && vt.exec(d.css(r, a));
                if (ce && ce[3] !== ee) {
                    for (G = G / 2, ee = ee || ce[3], ce = +G || 1; O--;) d.style(r, a, ce + ee), (1 - S) * (1 - (S = z() / G || .5)) <= 0 && (O = 0), ce = ce / S;
                    ce = ce * 2, d.style(r, a, ce + ee), h = h || []
                }
                return h && (ce = +ce || +G || 0, _ = h[1] ? ce + (h[1] + 1) * h[2] : +h[2], g && (g.unit = ee, g.start = ce, g.end = _)), _
            }
            var Z = {};

            function P(r) {
                var a, h = r.ownerDocument,
                    g = r.nodeName,
                    _ = Z[g];
                return _ || (a = h.body.appendChild(h.createElement(g)), _ = d.css(a, "display"), a.parentNode.removeChild(a), _ === "none" && (_ = "block"), Z[g] = _, _)
            }

            function Y(r, a) {
                for (var h, g, _ = [], S = 0, O = r.length; S < O; S++) g = r[S], g.style && (h = g.style.display, a ? (h === "none" && (_[S] = se.get(g, "display") || null, _[S] || (g.style.display = "")), g.style.display === "" && H(g) && (_[S] = P(g))) : h !== "none" && (_[S] = "none", se.set(g, "display", h)));
                for (S = 0; S < O; S++) _[S] != null && (r[S].style.display = _[S]);
                return r
            }
            d.fn.extend({
                show: function() {
                    return Y(this, !0)
                },
                hide: function() {
                    return Y(this)
                },
                toggle: function(r) {
                    return typeof r == "boolean" ? r ? this.show() : this.hide() : this.each(function() {
                        H(this) ? d(this).show() : d(this).hide()
                    })
                }
            });
            var ge = /^(?:checkbox|radio)$/i,
                be = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
                Ne = /^$|^module$|\/(?:java|ecma)script/i;
            (function() {
                var r = $.createDocumentFragment(),
                    a = r.appendChild($.createElement("div")),
                    h = $.createElement("input");
                h.setAttribute("type", "radio"), h.setAttribute("checked", "checked"), h.setAttribute("name", "t"), a.appendChild(h), j.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked, a.innerHTML = "<textarea>x</textarea>", j.noCloneChecked = !!a.cloneNode(!0).lastChild.defaultValue, a.innerHTML = "<option></option>", j.option = !!a.lastChild
            })();
            var Be = {
                thead: [1, "<table>", "</table>"],
                col: [2, "<table><colgroup>", "</colgroup></table>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: [0, "", ""]
            };
            Be.tbody = Be.tfoot = Be.colgroup = Be.caption = Be.thead, Be.th = Be.td, j.option || (Be.optgroup = Be.option = [1, "<select multiple='multiple'>", "</select>"]);

            function ht(r, a) {
                var h;
                return typeof r.getElementsByTagName < "u" ? h = r.getElementsByTagName(a || "*") : typeof r.querySelectorAll < "u" ? h = r.querySelectorAll(a || "*") : h = [], a === void 0 || a && Ke(r, a) ? d.merge([r], h) : h
            }

            function Zt(r, a) {
                for (var h = 0, g = r.length; h < g; h++) se.set(r[h], "globalEval", !a || se.get(a[h], "globalEval"))
            }
            var Ze = /<|&#?\w+;/;

            function qi(r, a, h, g, _) {
                for (var S, O, z, G, ee, ce, Ce = a.createDocumentFragment(), ae = [], de = 0, Ge = r.length; de < Ge; de++)
                    if (S = r[de], S || S === 0)
                        if (oe(S) === "object") d.merge(ae, S.nodeType ? [S] : S);
                        else if (!Ze.test(S)) ae.push(a.createTextNode(S));
                else {
                    for (O = O || Ce.appendChild(a.createElement("div")), z = (be.exec(S) || ["", ""])[1].toLowerCase(), G = Be[z] || Be._default, O.innerHTML = G[1] + d.htmlPrefilter(S) + G[2], ce = G[0]; ce--;) O = O.lastChild;
                    d.merge(ae, O.childNodes), O = Ce.firstChild, O.textContent = ""
                }
                for (Ce.textContent = "", de = 0; S = ae[de++];) {
                    if (g && d.inArray(S, g) > -1) {
                        _ && _.push(S);
                        continue
                    }
                    if (ee = ai(S), O = ht(Ce.appendChild(S), "script"), ee && Zt(O), h)
                        for (ce = 0; S = O[ce++];) Ne.test(S.type || "") && h.push(S)
                }
                return Ce
            }
            var Ui = /^([^.]*)(?:\.(.+)|)/;

            function zi() {
                return !0
            }

            function Ai() {
                return !1
            }

            function Un(r, a) {
                return r === ns() == (a === "focus")
            }

            function ns() {
                try {
                    return $.activeElement
                } catch {}
            }

            function hi(r, a, h, g, _, S) {
                var O, z;
                if (typeof a == "object") {
                    typeof h != "string" && (g = g || h, h = void 0);
                    for (z in a) hi(r, z, h, g, a[z], S);
                    return r
                }
                if (g == null && _ == null ? (_ = h, g = h = void 0) : _ == null && (typeof h == "string" ? (_ = g, g = void 0) : (_ = g, g = h, h = void 0)), _ === !1) _ = Ai;
                else if (!_) return r;
                return S === 1 && (O = _, _ = function(G) {
                    return d().off(G), O.apply(this, arguments)
                }, _.guid = O.guid || (O.guid = d.guid++)), r.each(function() {
                    d.event.add(this, a, _, g, h)
                })
            }
            d.event = {
                global: {},
                add: function(r, a, h, g, _) {
                    var S, O, z, G, ee, ce, Ce, ae, de, Ge, st, We = se.get(r);
                    if (re(r))
                        for (h.handler && (S = h, h = S.handler, _ = S.selector), _ && d.find.matchesSelector(oi, _), h.guid || (h.guid = d.guid++), (G = We.events) || (G = We.events = Object.create(null)), (O = We.handle) || (O = We.handle = function(Gt) {
                                return typeof d < "u" && d.event.triggered !== Gt.type ? d.event.dispatch.apply(r, arguments) : void 0
                            }), a = (a || "").match(Te) || [""], ee = a.length; ee--;) z = Ui.exec(a[ee]) || [], de = st = z[1], Ge = (z[2] || "").split(".").sort(), de && (Ce = d.event.special[de] || {}, de = (_ ? Ce.delegateType : Ce.bindType) || de, Ce = d.event.special[de] || {}, ce = d.extend({
                            type: de,
                            origType: st,
                            data: g,
                            handler: h,
                            guid: h.guid,
                            selector: _,
                            needsContext: _ && d.expr.match.needsContext.test(_),
                            namespace: Ge.join(".")
                        }, S), (ae = G[de]) || (ae = G[de] = [], ae.delegateCount = 0, (!Ce.setup || Ce.setup.call(r, g, Ge, O) === !1) && r.addEventListener && r.addEventListener(de, O)), Ce.add && (Ce.add.call(r, ce), ce.handler.guid || (ce.handler.guid = h.guid)), _ ? ae.splice(ae.delegateCount++, 0, ce) : ae.push(ce), d.event.global[de] = !0)
                },
                remove: function(r, a, h, g, _) {
                    var S, O, z, G, ee, ce, Ce, ae, de, Ge, st, We = se.hasData(r) && se.get(r);
                    if (!(!We || !(G = We.events))) {
                        for (a = (a || "").match(Te) || [""], ee = a.length; ee--;) {
                            if (z = Ui.exec(a[ee]) || [], de = st = z[1], Ge = (z[2] || "").split(".").sort(), !de) {
                                for (de in G) d.event.remove(r, de + a[ee], h, g, !0);
                                continue
                            }
                            for (Ce = d.event.special[de] || {}, de = (g ? Ce.delegateType : Ce.bindType) || de, ae = G[de] || [], z = z[2] && new RegExp("(^|\\.)" + Ge.join("\\.(?:.*\\.|)") + "(\\.|$)"), O = S = ae.length; S--;) ce = ae[S], (_ || st === ce.origType) && (!h || h.guid === ce.guid) && (!z || z.test(ce.namespace)) && (!g || g === ce.selector || g === "**" && ce.selector) && (ae.splice(S, 1), ce.selector && ae.delegateCount--, Ce.remove && Ce.remove.call(r, ce));
                            O && !ae.length && ((!Ce.teardown || Ce.teardown.call(r, Ge, We.handle) === !1) && d.removeEvent(r, de, We.handle), delete G[de])
                        }
                        d.isEmptyObject(G) && se.remove(r, "handle events")
                    }
                },
                dispatch: function(r) {
                    var a, h, g, _, S, O, z = new Array(arguments.length),
                        G = d.event.fix(r),
                        ee = (se.get(this, "events") || Object.create(null))[G.type] || [],
                        ce = d.event.special[G.type] || {};
                    for (z[0] = G, a = 1; a < arguments.length; a++) z[a] = arguments[a];
                    if (G.delegateTarget = this, !(ce.preDispatch && ce.preDispatch.call(this, G) === !1)) {
                        for (O = d.event.handlers.call(this, G, ee), a = 0;
                            (_ = O[a++]) && !G.isPropagationStopped();)
                            for (G.currentTarget = _.elem, h = 0;
                                (S = _.handlers[h++]) && !G.isImmediatePropagationStopped();)(!G.rnamespace || S.namespace === !1 || G.rnamespace.test(S.namespace)) && (G.handleObj = S, G.data = S.data, g = ((d.event.special[S.origType] || {}).handle || S.handler).apply(_.elem, z), g !== void 0 && (G.result = g) === !1 && (G.preventDefault(), G.stopPropagation()));
                        return ce.postDispatch && ce.postDispatch.call(this, G), G.result
                    }
                },
                handlers: function(r, a) {
                    var h, g, _, S, O, z = [],
                        G = a.delegateCount,
                        ee = r.target;
                    if (G && ee.nodeType && !(r.type === "click" && r.button >= 1)) {
                        for (; ee !== this; ee = ee.parentNode || this)
                            if (ee.nodeType === 1 && !(r.type === "click" && ee.disabled === !0)) {
                                for (S = [], O = {}, h = 0; h < G; h++) g = a[h], _ = g.selector + " ", O[_] === void 0 && (O[_] = g.needsContext ? d(_, this).index(ee) > -1 : d.find(_, this, null, [ee]).length), O[_] && S.push(g);
                                S.length && z.push({
                                    elem: ee,
                                    handlers: S
                                })
                            }
                    }
                    return ee = this, G < a.length && z.push({
                        elem: ee,
                        handlers: a.slice(G)
                    }), z
                },
                addProp: function(r, a) {
                    Object.defineProperty(d.Event.prototype, r, {
                        enumerable: !0,
                        configurable: !0,
                        get: ie(a) ? function() {
                            if (this.originalEvent) return a(this.originalEvent)
                        } : function() {
                            if (this.originalEvent) return this.originalEvent[r]
                        },
                        set: function(h) {
                            Object.defineProperty(this, r, {
                                enumerable: !0,
                                configurable: !0,
                                writable: !0,
                                value: h
                            })
                        }
                    })
                },
                fix: function(r) {
                    return r[d.expando] ? r : new d.Event(r)
                },
                special: {
                    load: {
                        noBubble: !0
                    },
                    click: {
                        setup: function(r) {
                            var a = this || r;
                            return ge.test(a.type) && a.click && Ke(a, "input") && Hi(a, "click", zi), !1
                        },
                        trigger: function(r) {
                            var a = this || r;
                            return ge.test(a.type) && a.click && Ke(a, "input") && Hi(a, "click"), !0
                        },
                        _default: function(r) {
                            var a = r.target;
                            return ge.test(a.type) && a.click && Ke(a, "input") && se.get(a, "click") || Ke(a, "a")
                        }
                    },
                    beforeunload: {
                        postDispatch: function(r) {
                            r.result !== void 0 && r.originalEvent && (r.originalEvent.returnValue = r.result)
                        }
                    }
                }
            };

            function Hi(r, a, h) {
                if (!h) {
                    se.get(r, a) === void 0 && d.event.add(r, a, zi);
                    return
                }
                se.set(r, a, !1), d.event.add(r, a, {
                    namespace: !1,
                    handler: function(g) {
                        var _, S, O = se.get(this, a);
                        if (g.isTrigger & 1 && this[a]) {
                            if (O.length)(d.event.special[a] || {}).delegateType && g.stopPropagation();
                            else if (O = o.call(arguments), se.set(this, a, O), _ = h(this, a), this[a](), S = se.get(this, a), O !== S || _ ? se.set(this, a, !1) : S = {}, O !== S) return g.stopImmediatePropagation(), g.preventDefault(), S && S.value
                        } else O.length && (se.set(this, a, {
                            value: d.event.trigger(d.extend(O[0], d.Event.prototype), O.slice(1), this)
                        }), g.stopImmediatePropagation())
                    }
                })
            }
            d.removeEvent = function(r, a, h) {
                r.removeEventListener && r.removeEventListener(a, h)
            }, d.Event = function(r, a) {
                if (!(this instanceof d.Event)) return new d.Event(r, a);
                r && r.type ? (this.originalEvent = r, this.type = r.type, this.isDefaultPrevented = r.defaultPrevented || r.defaultPrevented === void 0 && r.returnValue === !1 ? zi : Ai, this.target = r.target && r.target.nodeType === 3 ? r.target.parentNode : r.target, this.currentTarget = r.currentTarget, this.relatedTarget = r.relatedTarget) : this.type = r, a && d.extend(this, a), this.timeStamp = r && r.timeStamp || Date.now(), this[d.expando] = !0
            }, d.Event.prototype = {
                constructor: d.Event,
                isDefaultPrevented: Ai,
                isPropagationStopped: Ai,
                isImmediatePropagationStopped: Ai,
                isSimulated: !1,
                preventDefault: function() {
                    var r = this.originalEvent;
                    this.isDefaultPrevented = zi, r && !this.isSimulated && r.preventDefault()
                },
                stopPropagation: function() {
                    var r = this.originalEvent;
                    this.isPropagationStopped = zi, r && !this.isSimulated && r.stopPropagation()
                },
                stopImmediatePropagation: function() {
                    var r = this.originalEvent;
                    this.isImmediatePropagationStopped = zi, r && !this.isSimulated && r.stopImmediatePropagation(), this.stopPropagation()
                }
            }, d.each({
                altKey: !0,
                bubbles: !0,
                cancelable: !0,
                changedTouches: !0,
                ctrlKey: !0,
                detail: !0,
                eventPhase: !0,
                metaKey: !0,
                pageX: !0,
                pageY: !0,
                shiftKey: !0,
                view: !0,
                char: !0,
                code: !0,
                charCode: !0,
                key: !0,
                keyCode: !0,
                button: !0,
                buttons: !0,
                clientX: !0,
                clientY: !0,
                offsetX: !0,
                offsetY: !0,
                pointerId: !0,
                pointerType: !0,
                screenX: !0,
                screenY: !0,
                targetTouches: !0,
                toElement: !0,
                touches: !0,
                which: !0
            }, d.event.addProp), d.each({
                focus: "focusin",
                blur: "focusout"
            }, function(r, a) {
                d.event.special[r] = {
                    setup: function() {
                        return Hi(this, r, Un), !1
                    },
                    trigger: function() {
                        return Hi(this, r), !0
                    },
                    _default: function() {
                        return !0
                    },
                    delegateType: a
                }
            }), d.each({
                mouseenter: "mouseover",
                mouseleave: "mouseout",
                pointerenter: "pointerover",
                pointerleave: "pointerout"
            }, function(r, a) {
                d.event.special[r] = {
                    delegateType: a,
                    bindType: a,
                    handle: function(h) {
                        var g, _ = this,
                            S = h.relatedTarget,
                            O = h.handleObj;
                        return (!S || S !== _ && !d.contains(_, S)) && (h.type = O.origType, g = O.handler.apply(this, arguments), h.type = a), g
                    }
                }
            }), d.fn.extend({
                on: function(r, a, h, g) {
                    return hi(this, r, a, h, g)
                },
                one: function(r, a, h, g) {
                    return hi(this, r, a, h, g, 1)
                },
                off: function(r, a, h) {
                    var g, _;
                    if (r && r.preventDefault && r.handleObj) return g = r.handleObj, d(r.delegateTarget).off(g.namespace ? g.origType + "." + g.namespace : g.origType, g.selector, g.handler), this;
                    if (typeof r == "object") {
                        for (_ in r) this.off(_, a, r[_]);
                        return this
                    }
                    return (a === !1 || typeof a == "function") && (h = a, a = void 0), h === !1 && (h = Ai), this.each(function() {
                        d.event.remove(this, r, h, a)
                    })
                }
            });
            var rs = /<script|<style|<link/i,
                ss = /checked\s*(?:[^=]|=\s*.checked.)/i,
                zn = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

            function Sn(r, a) {
                return Ke(r, "table") && Ke(a.nodeType !== 11 ? a : a.firstChild, "tr") && d(r).children("tbody")[0] || r
            }

            function Hn(r) {
                return r.type = (r.getAttribute("type") !== null) + "/" + r.type, r
            }

            function os(r) {
                return (r.type || "").slice(0, 5) === "true/" ? r.type = r.type.slice(5) : r.removeAttribute("type"), r
            }

            function fr(r, a) {
                var h, g, _, S, O, z, G;
                if (a.nodeType === 1) {
                    if (se.hasData(r) && (S = se.get(r), G = S.events, G)) {
                        se.remove(a, "handle events");
                        for (_ in G)
                            for (h = 0, g = G[_].length; h < g; h++) d.event.add(a, _, G[_][h])
                    }
                    Oe.hasData(r) && (O = Oe.access(r), z = d.extend({}, O), Oe.set(a, z))
                }
            }

            function pr(r, a) {
                var h = a.nodeName.toLowerCase();
                h === "input" && ge.test(r.type) ? a.checked = r.checked : (h === "input" || h === "textarea") && (a.defaultValue = r.defaultValue)
            }

            function Gi(r, a, h, g) {
                a = p(a);
                var _, S, O, z, G, ee, ce = 0,
                    Ce = r.length,
                    ae = Ce - 1,
                    de = a[0],
                    Ge = ie(de);
                if (Ge || Ce > 1 && typeof de == "string" && !j.checkClone && ss.test(de)) return r.each(function(st) {
                    var We = r.eq(st);
                    Ge && (a[0] = de.call(this, st, We.html())), Gi(We, a, h, g)
                });
                if (Ce && (_ = qi(a, r[0].ownerDocument, !1, r, g), S = _.firstChild, _.childNodes.length === 1 && (_ = S), S || g)) {
                    for (O = d.map(ht(_, "script"), Hn), z = O.length; ce < Ce; ce++) G = _, ce !== ae && (G = d.clone(G, !0, !0), z && d.merge(O, ht(G, "script"))), h.call(r[ce], G, ce);
                    if (z)
                        for (ee = O[O.length - 1].ownerDocument, d.map(O, os), ce = 0; ce < z; ce++) G = O[ce], Ne.test(G.type || "") && !se.access(G, "globalEval") && d.contains(ee, G) && (G.src && (G.type || "").toLowerCase() !== "module" ? d._evalUrl && !G.noModule && d._evalUrl(G.src, {
                            nonce: G.nonce || G.getAttribute("nonce")
                        }, ee) : ne(G.textContent.replace(zn, ""), G, ee))
                }
                return r
            }

            function gr(r, a, h) {
                for (var g, _ = a ? d.filter(a, r) : r, S = 0;
                    (g = _[S]) != null; S++) !h && g.nodeType === 1 && d.cleanData(ht(g)), g.parentNode && (h && ai(g) && Zt(ht(g, "script")), g.parentNode.removeChild(g));
                return r
            }
            d.extend({
                htmlPrefilter: function(r) {
                    return r
                },
                clone: function(r, a, h) {
                    var g, _, S, O, z = r.cloneNode(!0),
                        G = ai(r);
                    if (!j.noCloneChecked && (r.nodeType === 1 || r.nodeType === 11) && !d.isXMLDoc(r))
                        for (O = ht(z), S = ht(r), g = 0, _ = S.length; g < _; g++) pr(S[g], O[g]);
                    if (a)
                        if (h)
                            for (S = S || ht(r), O = O || ht(z), g = 0, _ = S.length; g < _; g++) fr(S[g], O[g]);
                        else fr(r, z);
                    return O = ht(z, "script"), O.length > 0 && Zt(O, !G && ht(r, "script")), z
                },
                cleanData: function(r) {
                    for (var a, h, g, _ = d.event.special, S = 0;
                        (h = r[S]) !== void 0; S++)
                        if (re(h)) {
                            if (a = h[se.expando]) {
                                if (a.events)
                                    for (g in a.events) _[g] ? d.event.remove(h, g) : d.removeEvent(h, g, a.handle);
                                h[se.expando] = void 0
                            }
                            h[Oe.expando] && (h[Oe.expando] = void 0)
                        }
                }
            }), d.fn.extend({
                detach: function(r) {
                    return gr(this, r, !0)
                },
                remove: function(r) {
                    return gr(this, r)
                },
                text: function(r) {
                    return m(this, function(a) {
                        return a === void 0 ? d.text(this) : this.empty().each(function() {
                            (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) && (this.textContent = a)
                        })
                    }, null, r, arguments.length)
                },
                append: function() {
                    return Gi(this, arguments, function(r) {
                        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                            var a = Sn(this, r);
                            a.appendChild(r)
                        }
                    })
                },
                prepend: function() {
                    return Gi(this, arguments, function(r) {
                        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                            var a = Sn(this, r);
                            a.insertBefore(r, a.firstChild)
                        }
                    })
                },
                before: function() {
                    return Gi(this, arguments, function(r) {
                        this.parentNode && this.parentNode.insertBefore(r, this)
                    })
                },
                after: function() {
                    return Gi(this, arguments, function(r) {
                        this.parentNode && this.parentNode.insertBefore(r, this.nextSibling)
                    })
                },
                empty: function() {
                    for (var r, a = 0;
                        (r = this[a]) != null; a++) r.nodeType === 1 && (d.cleanData(ht(r, !1)), r.textContent = "");
                    return this
                },
                clone: function(r, a) {
                    return r = r ?? !1, a = a ?? r, this.map(function() {
                        return d.clone(this, r, a)
                    })
                },
                html: function(r) {
                    return m(this, function(a) {
                        var h = this[0] || {},
                            g = 0,
                            _ = this.length;
                        if (a === void 0 && h.nodeType === 1) return h.innerHTML;
                        if (typeof a == "string" && !rs.test(a) && !Be[(be.exec(a) || ["", ""])[1].toLowerCase()]) {
                            a = d.htmlPrefilter(a);
                            try {
                                for (; g < _; g++) h = this[g] || {}, h.nodeType === 1 && (d.cleanData(ht(h, !1)), h.innerHTML = a);
                                h = 0
                            } catch {}
                        }
                        h && this.empty().append(a)
                    }, null, r, arguments.length)
                },
                replaceWith: function() {
                    var r = [];
                    return Gi(this, arguments, function(a) {
                        var h = this.parentNode;
                        d.inArray(this, r) < 0 && (d.cleanData(ht(this)), h && h.replaceChild(a, this))
                    }, r)
                }
            }), d.each({
                appendTo: "append",
                prependTo: "prepend",
                insertBefore: "before",
                insertAfter: "after",
                replaceAll: "replaceWith"
            }, function(r, a) {
                d.fn[r] = function(h) {
                    for (var g, _ = [], S = d(h), O = S.length - 1, z = 0; z <= O; z++) g = z === O ? this : this.clone(!0), d(S[z])[a](g), y.apply(_, g.get());
                    return this.pushStack(_)
                }
            });
            var Gn = new RegExp("^(" + _t + ")(?!px)[a-z%]+$", "i"),
                on = function(r) {
                    var a = r.ownerDocument.defaultView;
                    return (!a || !a.opener) && (a = e), a.getComputedStyle(r)
                },
                mr = function(r, a, h) {
                    var g, _, S = {};
                    for (_ in a) S[_] = r.style[_], r.style[_] = a[_];
                    g = h.call(r);
                    for (_ in a) r.style[_] = S[_];
                    return g
                },
                as = new RegExp(lt.join("|"), "i");
            (function() {
                function r() {
                    if (ee) {
                        G.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", ee.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", oi.appendChild(G).appendChild(ee);
                        var ce = e.getComputedStyle(ee);
                        h = ce.top !== "1%", z = a(ce.marginLeft) === 12, ee.style.right = "60%", S = a(ce.right) === 36, g = a(ce.width) === 36, ee.style.position = "absolute", _ = a(ee.offsetWidth / 3) === 12, oi.removeChild(G), ee = null
                    }
                }

                function a(ce) {
                    return Math.round(parseFloat(ce))
                }
                var h, g, _, S, O, z, G = $.createElement("div"),
                    ee = $.createElement("div");
                ee.style && (ee.style.backgroundClip = "content-box", ee.cloneNode(!0).style.backgroundClip = "", j.clearCloneStyle = ee.style.backgroundClip === "content-box", d.extend(j, {
                    boxSizingReliable: function() {
                        return r(), g
                    },
                    pixelBoxStyles: function() {
                        return r(), S
                    },
                    pixelPosition: function() {
                        return r(), h
                    },
                    reliableMarginLeft: function() {
                        return r(), z
                    },
                    scrollboxSize: function() {
                        return r(), _
                    },
                    reliableTrDimensions: function() {
                        var ce, Ce, ae, de;
                        return O == null && (ce = $.createElement("table"), Ce = $.createElement("tr"), ae = $.createElement("div"), ce.style.cssText = "position:absolute;left:-11111px;border-collapse:separate", Ce.style.cssText = "border:1px solid", Ce.style.height = "1px", ae.style.height = "9px", ae.style.display = "block", oi.appendChild(ce).appendChild(Ce).appendChild(ae), de = e.getComputedStyle(Ce), O = parseInt(de.height, 10) + parseInt(de.borderTopWidth, 10) + parseInt(de.borderBottomWidth, 10) === Ce.offsetHeight, oi.removeChild(ce)), O
                    }
                }))
            })();

            function tt(r, a, h) {
                var g, _, S, O, z = r.style;
                return h = h || on(r), h && (O = h.getPropertyValue(a) || h[a], O === "" && !ai(r) && (O = d.style(r, a)), !j.pixelBoxStyles() && Gn.test(O) && as.test(a) && (g = z.width, _ = z.minWidth, S = z.maxWidth, z.minWidth = z.maxWidth = z.width = O, O = h.width, z.width = g, z.minWidth = _, z.maxWidth = S)), O !== void 0 ? O + "" : O
            }

            function b(r, a) {
                return {
                    get: function() {
                        if (r()) {
                            delete this.get;
                            return
                        }
                        return (this.get = a).apply(this, arguments)
                    }
                }
            }
            var l = ["Webkit", "Moz", "ms"],
                E = $.createElement("div").style,
                L = {};

            function Q(r) {
                for (var a = r[0].toUpperCase() + r.slice(1), h = l.length; h--;)
                    if (r = l[h] + a, r in E) return r
            }

            function _e(r) {
                var a = d.cssProps[r] || L[r];
                return a || (r in E ? r : L[r] = Q(r) || r)
            }
            var Xe = /^(none|table(?!-c[ea]).+)/,
                Nt = /^--/,
                Yt = {
                    position: "absolute",
                    visibility: "hidden",
                    display: "block"
                },
                an = {
                    letterSpacing: "0",
                    fontWeight: "400"
                };

            function kn(r, a, h) {
                var g = vt.exec(a);
                return g ? Math.max(0, g[2] - (h || 0)) + (g[3] || "px") : a
            }

            function ls(r, a, h, g, _, S) {
                var O = a === "width" ? 1 : 0,
                    z = 0,
                    G = 0;
                if (h === (g ? "border" : "content")) return 0;
                for (; O < 4; O += 2) h === "margin" && (G += d.css(r, h + lt[O], !0, _)), g ? (h === "content" && (G -= d.css(r, "padding" + lt[O], !0, _)), h !== "margin" && (G -= d.css(r, "border" + lt[O] + "Width", !0, _))) : (G += d.css(r, "padding" + lt[O], !0, _), h !== "padding" ? G += d.css(r, "border" + lt[O] + "Width", !0, _) : z += d.css(r, "border" + lt[O] + "Width", !0, _));
                return !g && S >= 0 && (G += Math.max(0, Math.ceil(r["offset" + a[0].toUpperCase() + a.slice(1)] - S - G - z - .5)) || 0), G
            }

            function cs(r, a, h) {
                var g = on(r),
                    _ = !j.boxSizingReliable() || h,
                    S = _ && d.css(r, "boxSizing", !1, g) === "border-box",
                    O = S,
                    z = tt(r, a, g),
                    G = "offset" + a[0].toUpperCase() + a.slice(1);
                if (Gn.test(z)) {
                    if (!h) return z;
                    z = "auto"
                }
                return (!j.boxSizingReliable() && S || !j.reliableTrDimensions() && Ke(r, "tr") || z === "auto" || !parseFloat(z) && d.css(r, "display", !1, g) === "inline") && r.getClientRects().length && (S = d.css(r, "boxSizing", !1, g) === "border-box", O = G in r, O && (z = r[G])), z = parseFloat(z) || 0, z + ls(r, a, h || (S ? "border" : "content"), O, g, z) + "px"
            }
            d.extend({
                cssHooks: {
                    opacity: {
                        get: function(r, a) {
                            if (a) {
                                var h = tt(r, "opacity");
                                return h === "" ? "1" : h
                            }
                        }
                    }
                },
                cssNumber: {
                    animationIterationCount: !0,
                    columnCount: !0,
                    fillOpacity: !0,
                    flexGrow: !0,
                    flexShrink: !0,
                    fontWeight: !0,
                    gridArea: !0,
                    gridColumn: !0,
                    gridColumnEnd: !0,
                    gridColumnStart: !0,
                    gridRow: !0,
                    gridRowEnd: !0,
                    gridRowStart: !0,
                    lineHeight: !0,
                    opacity: !0,
                    order: !0,
                    orphans: !0,
                    widows: !0,
                    zIndex: !0,
                    zoom: !0
                },
                cssProps: {},
                style: function(r, a, h, g) {
                    if (!(!r || r.nodeType === 3 || r.nodeType === 8 || !r.style)) {
                        var _, S, O, z = F(a),
                            G = Nt.test(a),
                            ee = r.style;
                        if (G || (a = _e(z)), O = d.cssHooks[a] || d.cssHooks[z], h !== void 0) {
                            if (S = typeof h, S === "string" && (_ = vt.exec(h)) && _[1] && (h = V(r, a, _), S = "number"), h == null || h !== h) return;
                            S === "number" && !G && (h += _ && _[3] || (d.cssNumber[z] ? "" : "px")), !j.clearCloneStyle && h === "" && a.indexOf("background") === 0 && (ee[a] = "inherit"), (!O || !("set" in O) || (h = O.set(r, h, g)) !== void 0) && (G ? ee.setProperty(a, h) : ee[a] = h)
                        } else return O && "get" in O && (_ = O.get(r, !1, g)) !== void 0 ? _ : ee[a]
                    }
                },
                css: function(r, a, h, g) {
                    var _, S, O, z = F(a),
                        G = Nt.test(a);
                    return G || (a = _e(z)), O = d.cssHooks[a] || d.cssHooks[z], O && "get" in O && (_ = O.get(r, !0, h)), _ === void 0 && (_ = tt(r, a, g)), _ === "normal" && a in an && (_ = an[a]), h === "" || h ? (S = parseFloat(_), h === !0 || isFinite(S) ? S || 0 : _) : _
                }
            }), d.each(["height", "width"], function(r, a) {
                d.cssHooks[a] = {
                    get: function(h, g, _) {
                        if (g) return Xe.test(d.css(h, "display")) && (!h.getClientRects().length || !h.getBoundingClientRect().width) ? mr(h, Yt, function() {
                            return cs(h, a, _)
                        }) : cs(h, a, _)
                    },
                    set: function(h, g, _) {
                        var S, O = on(h),
                            z = !j.scrollboxSize() && O.position === "absolute",
                            G = z || _,
                            ee = G && d.css(h, "boxSizing", !1, O) === "border-box",
                            ce = _ ? ls(h, a, _, ee, O) : 0;
                        return ee && z && (ce -= Math.ceil(h["offset" + a[0].toUpperCase() + a.slice(1)] - parseFloat(O[a]) - ls(h, a, "border", !1, O) - .5)), ce && (S = vt.exec(g)) && (S[3] || "px") !== "px" && (h.style[a] = g, g = d.css(h, a)), kn(h, g, ce)
                    }
                }
            }), d.cssHooks.marginLeft = b(j.reliableMarginLeft, function(r, a) {
                if (a) return (parseFloat(tt(r, "marginLeft")) || r.getBoundingClientRect().left - mr(r, {
                    marginLeft: 0
                }, function() {
                    return r.getBoundingClientRect().left
                })) + "px"
            }), d.each({
                margin: "",
                padding: "",
                border: "Width"
            }, function(r, a) {
                d.cssHooks[r + a] = {
                    expand: function(h) {
                        for (var g = 0, _ = {}, S = typeof h == "string" ? h.split(" ") : [h]; g < 4; g++) _[r + lt[g] + a] = S[g] || S[g - 2] || S[0];
                        return _
                    }
                }, r !== "margin" && (d.cssHooks[r + a].set = kn)
            }), d.fn.extend({
                css: function(r, a) {
                    return m(this, function(h, g, _) {
                        var S, O, z = {},
                            G = 0;
                        if (Array.isArray(g)) {
                            for (S = on(h), O = g.length; G < O; G++) z[g[G]] = d.css(h, g[G], !1, S);
                            return z
                        }
                        return _ !== void 0 ? d.style(h, g, _) : d.css(h, g)
                    }, r, a, arguments.length > 1)
                }
            });

            function di(r, a, h, g, _) {
                return new di.prototype.init(r, a, h, g, _)
            }
            d.Tween = di, di.prototype = {
                constructor: di,
                init: function(r, a, h, g, _, S) {
                    this.elem = r, this.prop = h, this.easing = _ || d.easing._default, this.options = a, this.start = this.now = this.cur(), this.end = g, this.unit = S || (d.cssNumber[h] ? "" : "px")
                },
                cur: function() {
                    var r = di.propHooks[this.prop];
                    return r && r.get ? r.get(this) : di.propHooks._default.get(this)
                },
                run: function(r) {
                    var a, h = di.propHooks[this.prop];
                    return this.options.duration ? this.pos = a = d.easing[this.easing](r, this.options.duration * r, 0, 1, this.options.duration) : this.pos = a = r, this.now = (this.end - this.start) * a + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), h && h.set ? h.set(this) : di.propHooks._default.set(this), this
                }
            }, di.prototype.init.prototype = di.prototype, di.propHooks = {
                _default: {
                    get: function(r) {
                        var a;
                        return r.elem.nodeType !== 1 || r.elem[r.prop] != null && r.elem.style[r.prop] == null ? r.elem[r.prop] : (a = d.css(r.elem, r.prop, ""), !a || a === "auto" ? 0 : a)
                    },
                    set: function(r) {
                        d.fx.step[r.prop] ? d.fx.step[r.prop](r) : r.elem.nodeType === 1 && (d.cssHooks[r.prop] || r.elem.style[_e(r.prop)] != null) ? d.style(r.elem, r.prop, r.now + r.unit) : r.elem[r.prop] = r.now
                    }
                }
            }, di.propHooks.scrollTop = di.propHooks.scrollLeft = {
                set: function(r) {
                    r.elem.nodeType && r.elem.parentNode && (r.elem[r.prop] = r.now)
                }
            }, d.easing = {
                linear: function(r) {
                    return r
                },
                swing: function(r) {
                    return .5 - Math.cos(r * Math.PI) / 2
                },
                _default: "swing"
            }, d.fx = di.prototype.init, d.fx.step = {};
            var ln, vr, Oa = /^(?:toggle|show|hide)$/,
                Ia = /queueHooks$/;

            function us() {
                vr && ($.hidden === !1 && e.requestAnimationFrame ? e.requestAnimationFrame(us) : e.setTimeout(us, d.fx.interval), d.fx.tick())
            }

            function ro() {
                return e.setTimeout(function() {
                    ln = void 0
                }), ln = Date.now()
            }

            function yr(r, a) {
                var h, g = 0,
                    _ = {
                        height: r
                    };
                for (a = a ? 1 : 0; g < 4; g += 2 - a) h = lt[g], _["margin" + h] = _["padding" + h] = r;
                return a && (_.opacity = _.width = r), _
            }

            function so(r, a, h) {
                for (var g, _ = (Oi.tweeners[a] || []).concat(Oi.tweeners["*"]), S = 0, O = _.length; S < O; S++)
                    if (g = _[S].call(h, a, r)) return g
            }

            function oo(r, a, h) {
                var g, _, S, O, z, G, ee, ce, Ce = "width" in a || "height" in a,
                    ae = this,
                    de = {},
                    Ge = r.style,
                    st = r.nodeType && H(r),
                    We = se.get(r, "fxshow");
                h.queue || (O = d._queueHooks(r, "fx"), O.unqueued == null && (O.unqueued = 0, z = O.empty.fire, O.empty.fire = function() {
                    O.unqueued || z()
                }), O.unqueued++, ae.always(function() {
                    ae.always(function() {
                        O.unqueued--, d.queue(r, "fx").length || O.empty.fire()
                    })
                }));
                for (g in a)
                    if (_ = a[g], Oa.test(_)) {
                        if (delete a[g], S = S || _ === "toggle", _ === (st ? "hide" : "show"))
                            if (_ === "show" && We && We[g] !== void 0) st = !0;
                            else continue;
                        de[g] = We && We[g] || d.style(r, g)
                    } if (G = !d.isEmptyObject(a), !(!G && d.isEmptyObject(de))) {
                    Ce && r.nodeType === 1 && (h.overflow = [Ge.overflow, Ge.overflowX, Ge.overflowY], ee = We && We.display, ee == null && (ee = se.get(r, "display")), ce = d.css(r, "display"), ce === "none" && (ee ? ce = ee : (Y([r], !0), ee = r.style.display || ee, ce = d.css(r, "display"), Y([r]))), (ce === "inline" || ce === "inline-block" && ee != null) && d.css(r, "float") === "none" && (G || (ae.done(function() {
                        Ge.display = ee
                    }), ee == null && (ce = Ge.display, ee = ce === "none" ? "" : ce)), Ge.display = "inline-block")), h.overflow && (Ge.overflow = "hidden", ae.always(function() {
                        Ge.overflow = h.overflow[0], Ge.overflowX = h.overflow[1], Ge.overflowY = h.overflow[2]
                    })), G = !1;
                    for (g in de) G || (We ? "hidden" in We && (st = We.hidden) : We = se.access(r, "fxshow", {
                        display: ee
                    }), S && (We.hidden = !st), st && Y([r], !0), ae.done(function() {
                        st || Y([r]), se.remove(r, "fxshow");
                        for (g in de) d.style(r, g, de[g])
                    })), G = so(st ? We[g] : 0, g, ae), g in We || (We[g] = G.start, st && (G.end = G.start, G.start = 0))
                }
            }

            function ao(r, a) {
                var h, g, _, S, O;
                for (h in r)
                    if (g = F(h), _ = a[g], S = r[h], Array.isArray(S) && (_ = S[1], S = r[h] = S[0]), h !== g && (r[g] = S, delete r[h]), O = d.cssHooks[g], O && "expand" in O) {
                        S = O.expand(S), delete r[g];
                        for (h in S) h in r || (r[h] = S[h], a[h] = _)
                    } else a[g] = _
            }

            function Oi(r, a, h) {
                var g, _, S = 0,
                    O = Oi.prefilters.length,
                    z = d.Deferred().always(function() {
                        delete G.elem
                    }),
                    G = function() {
                        if (_) return !1;
                        for (var Ce = ln || ro(), ae = Math.max(0, ee.startTime + ee.duration - Ce), de = ae / ee.duration || 0, Ge = 1 - de, st = 0, We = ee.tweens.length; st < We; st++) ee.tweens[st].run(Ge);
                        return z.notifyWith(r, [ee, Ge, ae]), Ge < 1 && We ? ae : (We || z.notifyWith(r, [ee, 1, 0]), z.resolveWith(r, [ee]), !1)
                    },
                    ee = z.promise({
                        elem: r,
                        props: d.extend({}, a),
                        opts: d.extend(!0, {
                            specialEasing: {},
                            easing: d.easing._default
                        }, h),
                        originalProperties: a,
                        originalOptions: h,
                        startTime: ln || ro(),
                        duration: h.duration,
                        tweens: [],
                        createTween: function(Ce, ae) {
                            var de = d.Tween(r, ee.opts, Ce, ae, ee.opts.specialEasing[Ce] || ee.opts.easing);
                            return ee.tweens.push(de), de
                        },
                        stop: function(Ce) {
                            var ae = 0,
                                de = Ce ? ee.tweens.length : 0;
                            if (_) return this;
                            for (_ = !0; ae < de; ae++) ee.tweens[ae].run(1);
                            return Ce ? (z.notifyWith(r, [ee, 1, 0]), z.resolveWith(r, [ee, Ce])) : z.rejectWith(r, [ee, Ce]), this
                        }
                    }),
                    ce = ee.props;
                for (ao(ce, ee.opts.specialEasing); S < O; S++)
                    if (g = Oi.prefilters[S].call(ee, r, ce, ee.opts), g) return ie(g.stop) && (d._queueHooks(ee.elem, ee.opts.queue).stop = g.stop.bind(g)), g;
                return d.map(ce, so, ee), ie(ee.opts.start) && ee.opts.start.call(r, ee), ee.progress(ee.opts.progress).done(ee.opts.done, ee.opts.complete).fail(ee.opts.fail).always(ee.opts.always), d.fx.timer(d.extend(G, {
                    elem: r,
                    anim: ee,
                    queue: ee.opts.queue
                })), ee
            }
            d.Animation = d.extend(Oi, {
                    tweeners: {
                        "*": [function(r, a) {
                            var h = this.createTween(r, a);
                            return V(h.elem, r, vt.exec(a), h), h
                        }]
                    },
                    tweener: function(r, a) {
                        ie(r) ? (a = r, r = ["*"]) : r = r.match(Te);
                        for (var h, g = 0, _ = r.length; g < _; g++) h = r[g], Oi.tweeners[h] = Oi.tweeners[h] || [], Oi.tweeners[h].unshift(a)
                    },
                    prefilters: [oo],
                    prefilter: function(r, a) {
                        a ? Oi.prefilters.unshift(r) : Oi.prefilters.push(r)
                    }
                }), d.speed = function(r, a, h) {
                    var g = r && typeof r == "object" ? d.extend({}, r) : {
                        complete: h || !h && a || ie(r) && r,
                        duration: r,
                        easing: h && a || a && !ie(a) && a
                    };
                    return d.fx.off ? g.duration = 0 : typeof g.duration != "number" && (g.duration in d.fx.speeds ? g.duration = d.fx.speeds[g.duration] : g.duration = d.fx.speeds._default), (g.queue == null || g.queue === !0) && (g.queue = "fx"), g.old = g.complete, g.complete = function() {
                        ie(g.old) && g.old.call(this), g.queue && d.dequeue(this, g.queue)
                    }, g
                }, d.fn.extend({
                    fadeTo: function(r, a, h, g) {
                        return this.filter(H).css("opacity", 0).show().end().animate({
                            opacity: a
                        }, r, h, g)
                    },
                    animate: function(r, a, h, g) {
                        var _ = d.isEmptyObject(r),
                            S = d.speed(a, h, g),
                            O = function() {
                                var z = Oi(this, d.extend({}, r), S);
                                (_ || se.get(this, "finish")) && z.stop(!0)
                            };
                        return O.finish = O, _ || S.queue === !1 ? this.each(O) : this.queue(S.queue, O)
                    },
                    stop: function(r, a, h) {
                        var g = function(_) {
                            var S = _.stop;
                            delete _.stop, S(h)
                        };
                        return typeof r != "string" && (h = a, a = r, r = void 0), a && this.queue(r || "fx", []), this.each(function() {
                            var _ = !0,
                                S = r != null && r + "queueHooks",
                                O = d.timers,
                                z = se.get(this);
                            if (S) z[S] && z[S].stop && g(z[S]);
                            else
                                for (S in z) z[S] && z[S].stop && Ia.test(S) && g(z[S]);
                            for (S = O.length; S--;) O[S].elem === this && (r == null || O[S].queue === r) && (O[S].anim.stop(h), _ = !1, O.splice(S, 1));
                            (_ || !h) && d.dequeue(this, r)
                        })
                    },
                    finish: function(r) {
                        return r !== !1 && (r = r || "fx"), this.each(function() {
                            var a, h = se.get(this),
                                g = h[r + "queue"],
                                _ = h[r + "queueHooks"],
                                S = d.timers,
                                O = g ? g.length : 0;
                            for (h.finish = !0, d.queue(this, r, []), _ && _.stop && _.stop.call(this, !0), a = S.length; a--;) S[a].elem === this && S[a].queue === r && (S[a].anim.stop(!0), S.splice(a, 1));
                            for (a = 0; a < O; a++) g[a] && g[a].finish && g[a].finish.call(this);
                            delete h.finish
                        })
                    }
                }), d.each(["toggle", "show", "hide"], function(r, a) {
                    var h = d.fn[a];
                    d.fn[a] = function(g, _, S) {
                        return g == null || typeof g == "boolean" ? h.apply(this, arguments) : this.animate(yr(a, !0), g, _, S)
                    }
                }), d.each({
                    slideDown: yr("show"),
                    slideUp: yr("hide"),
                    slideToggle: yr("toggle"),
                    fadeIn: {
                        opacity: "show"
                    },
                    fadeOut: {
                        opacity: "hide"
                    },
                    fadeToggle: {
                        opacity: "toggle"
                    }
                }, function(r, a) {
                    d.fn[r] = function(h, g, _) {
                        return this.animate(a, h, g, _)
                    }
                }), d.timers = [], d.fx.tick = function() {
                    var r, a = 0,
                        h = d.timers;
                    for (ln = Date.now(); a < h.length; a++) r = h[a], !r() && h[a] === r && h.splice(a--, 1);
                    h.length || d.fx.stop(), ln = void 0
                }, d.fx.timer = function(r) {
                    d.timers.push(r), d.fx.start()
                }, d.fx.interval = 13, d.fx.start = function() {
                    vr || (vr = !0, us())
                }, d.fx.stop = function() {
                    vr = null
                }, d.fx.speeds = {
                    slow: 600,
                    fast: 200,
                    _default: 400
                }, d.fn.delay = function(r, a) {
                    return r = d.fx && d.fx.speeds[r] || r, a = a || "fx", this.queue(a, function(h, g) {
                        var _ = e.setTimeout(h, r);
                        g.stop = function() {
                            e.clearTimeout(_)
                        }
                    })
                },
                function() {
                    var r = $.createElement("input"),
                        a = $.createElement("select"),
                        h = a.appendChild($.createElement("option"));
                    r.type = "checkbox", j.checkOn = r.value !== "", j.optSelected = h.selected, r = $.createElement("input"), r.value = "t", r.type = "radio", j.radioValue = r.value === "t"
                }();
            var lo, Wn = d.expr.attrHandle;
            d.fn.extend({
                attr: function(r, a) {
                    return m(this, d.attr, r, a, arguments.length > 1)
                },
                removeAttr: function(r) {
                    return this.each(function() {
                        d.removeAttr(this, r)
                    })
                }
            }), d.extend({
                attr: function(r, a, h) {
                    var g, _, S = r.nodeType;
                    if (!(S === 3 || S === 8 || S === 2)) {
                        if (typeof r.getAttribute > "u") return d.prop(r, a, h);
                        if ((S !== 1 || !d.isXMLDoc(r)) && (_ = d.attrHooks[a.toLowerCase()] || (d.expr.match.bool.test(a) ? lo : void 0)), h !== void 0) {
                            if (h === null) {
                                d.removeAttr(r, a);
                                return
                            }
                            return _ && "set" in _ && (g = _.set(r, h, a)) !== void 0 ? g : (r.setAttribute(a, h + ""), h)
                        }
                        return _ && "get" in _ && (g = _.get(r, a)) !== null ? g : (g = d.find.attr(r, a), g ?? void 0)
                    }
                },
                attrHooks: {
                    type: {
                        set: function(r, a) {
                            if (!j.radioValue && a === "radio" && Ke(r, "input")) {
                                var h = r.value;
                                return r.setAttribute("type", a), h && (r.value = h), a
                            }
                        }
                    }
                },
                removeAttr: function(r, a) {
                    var h, g = 0,
                        _ = a && a.match(Te);
                    if (_ && r.nodeType === 1)
                        for (; h = _[g++];) r.removeAttribute(h)
                }
            }), lo = {
                set: function(r, a, h) {
                    return a === !1 ? d.removeAttr(r, h) : r.setAttribute(h, h), h
                }
            }, d.each(d.expr.match.bool.source.match(/\w+/g), function(r, a) {
                var h = Wn[a] || d.find.attr;
                Wn[a] = function(g, _, S) {
                    var O, z, G = _.toLowerCase();
                    return S || (z = Wn[G], Wn[G] = O, O = h(g, _, S) != null ? G : null, Wn[G] = z), O
                }
            });
            var co = /^(?:input|select|textarea|button)$/i,
                Ra = /^(?:a|area)$/i;
            d.fn.extend({
                prop: function(r, a) {
                    return m(this, d.prop, r, a, arguments.length > 1)
                },
                removeProp: function(r) {
                    return this.each(function() {
                        delete this[d.propFix[r] || r]
                    })
                }
            }), d.extend({
                prop: function(r, a, h) {
                    var g, _, S = r.nodeType;
                    if (!(S === 3 || S === 8 || S === 2)) return (S !== 1 || !d.isXMLDoc(r)) && (a = d.propFix[a] || a, _ = d.propHooks[a]), h !== void 0 ? _ && "set" in _ && (g = _.set(r, h, a)) !== void 0 ? g : r[a] = h : _ && "get" in _ && (g = _.get(r, a)) !== null ? g : r[a]
                },
                propHooks: {
                    tabIndex: {
                        get: function(r) {
                            var a = d.find.attr(r, "tabindex");
                            return a ? parseInt(a, 10) : co.test(r.nodeName) || Ra.test(r.nodeName) && r.href ? 0 : -1
                        }
                    }
                },
                propFix: {
                    for: "htmlFor",
                    class: "className"
                }
            }), j.optSelected || (d.propHooks.selected = {
                get: function(r) {
                    var a = r.parentNode;
                    return a && a.parentNode && a.parentNode.selectedIndex, null
                },
                set: function(r) {
                    var a = r.parentNode;
                    a && (a.selectedIndex, a.parentNode && a.parentNode.selectedIndex)
                }
            }), d.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
                d.propFix[this.toLowerCase()] = this
            });

            function cn(r) {
                var a = r.match(Te) || [];
                return a.join(" ")
            }

            function Ei(r) {
                return r.getAttribute && r.getAttribute("class") || ""
            }

            function wr(r) {
                return Array.isArray(r) ? r : typeof r == "string" ? r.match(Te) || [] : []
            }
            d.fn.extend({
                addClass: function(r) {
                    var a, h, g, _, S, O, z, G = 0;
                    if (ie(r)) return this.each(function(ee) {
                        d(this).addClass(r.call(this, ee, Ei(this)))
                    });
                    if (a = wr(r), a.length) {
                        for (; h = this[G++];)
                            if (_ = Ei(h), g = h.nodeType === 1 && " " + cn(_) + " ", g) {
                                for (O = 0; S = a[O++];) g.indexOf(" " + S + " ") < 0 && (g += S + " ");
                                z = cn(g), _ !== z && h.setAttribute("class", z)
                            }
                    }
                    return this
                },
                removeClass: function(r) {
                    var a, h, g, _, S, O, z, G = 0;
                    if (ie(r)) return this.each(function(ee) {
                        d(this).removeClass(r.call(this, ee, Ei(this)))
                    });
                    if (!arguments.length) return this.attr("class", "");
                    if (a = wr(r), a.length) {
                        for (; h = this[G++];)
                            if (_ = Ei(h), g = h.nodeType === 1 && " " + cn(_) + " ", g) {
                                for (O = 0; S = a[O++];)
                                    for (; g.indexOf(" " + S + " ") > -1;) g = g.replace(" " + S + " ", " ");
                                z = cn(g), _ !== z && h.setAttribute("class", z)
                            }
                    }
                    return this
                },
                toggleClass: function(r, a) {
                    var h = typeof r,
                        g = h === "string" || Array.isArray(r);
                    return typeof a == "boolean" && g ? a ? this.addClass(r) : this.removeClass(r) : ie(r) ? this.each(function(_) {
                        d(this).toggleClass(r.call(this, _, Ei(this), a), a)
                    }) : this.each(function() {
                        var _, S, O, z;
                        if (g)
                            for (S = 0, O = d(this), z = wr(r); _ = z[S++];) O.hasClass(_) ? O.removeClass(_) : O.addClass(_);
                        else(r === void 0 || h === "boolean") && (_ = Ei(this), _ && se.set(this, "__className__", _), this.setAttribute && this.setAttribute("class", _ || r === !1 ? "" : se.get(this, "__className__") || ""))
                    })
                },
                hasClass: function(r) {
                    var a, h, g = 0;
                    for (a = " " + r + " "; h = this[g++];)
                        if (h.nodeType === 1 && (" " + cn(Ei(h)) + " ").indexOf(a) > -1) return !0;
                    return !1
                }
            });
            var Ma = /\r/g;
            d.fn.extend({
                val: function(r) {
                    var a, h, g, _ = this[0];
                    return arguments.length ? (g = ie(r), this.each(function(S) {
                        var O;
                        this.nodeType === 1 && (g ? O = r.call(this, S, d(this).val()) : O = r, O == null ? O = "" : typeof O == "number" ? O += "" : Array.isArray(O) && (O = d.map(O, function(z) {
                            return z == null ? "" : z + ""
                        })), a = d.valHooks[this.type] || d.valHooks[this.nodeName.toLowerCase()], (!a || !("set" in a) || a.set(this, O, "value") === void 0) && (this.value = O))
                    })) : _ ? (a = d.valHooks[_.type] || d.valHooks[_.nodeName.toLowerCase()], a && "get" in a && (h = a.get(_, "value")) !== void 0 ? h : (h = _.value, typeof h == "string" ? h.replace(Ma, "") : h ?? "")) : void 0
                }
            }), d.extend({
                valHooks: {
                    option: {
                        get: function(r) {
                            var a = d.find.attr(r, "value");
                            return a ?? cn(d.text(r))
                        }
                    },
                    select: {
                        get: function(r) {
                            var a, h, g, _ = r.options,
                                S = r.selectedIndex,
                                O = r.type === "select-one",
                                z = O ? null : [],
                                G = O ? S + 1 : _.length;
                            for (S < 0 ? g = G : g = O ? S : 0; g < G; g++)
                                if (h = _[g], (h.selected || g === S) && !h.disabled && (!h.parentNode.disabled || !Ke(h.parentNode, "optgroup"))) {
                                    if (a = d(h).val(), O) return a;
                                    z.push(a)
                                } return z
                        },
                        set: function(r, a) {
                            for (var h, g, _ = r.options, S = d.makeArray(a), O = _.length; O--;) g = _[O], (g.selected = d.inArray(d.valHooks.option.get(g), S) > -1) && (h = !0);
                            return h || (r.selectedIndex = -1), S
                        }
                    }
                }
            }), d.each(["radio", "checkbox"], function() {
                d.valHooks[this] = {
                    set: function(r, a) {
                        if (Array.isArray(a)) return r.checked = d.inArray(d(r).val(), a) > -1
                    }
                }, j.checkOn || (d.valHooks[this].get = function(r) {
                    return r.getAttribute("value") === null ? "on" : r.value
                })
            }), j.focusin = "onfocusin" in e;
            var br = /^(?:focusinfocus|focusoutblur)$/,
                hs = function(r) {
                    r.stopPropagation()
                };
            d.extend(d.event, {
                trigger: function(r, a, h, g) {
                    var _, S, O, z, G, ee, ce, Ce, ae = [h || $],
                        de = D.call(r, "type") ? r.type : r,
                        Ge = D.call(r, "namespace") ? r.namespace.split(".") : [];
                    if (S = Ce = O = h = h || $, !(h.nodeType === 3 || h.nodeType === 8) && !br.test(de + d.event.triggered) && (de.indexOf(".") > -1 && (Ge = de.split("."), de = Ge.shift(), Ge.sort()), G = de.indexOf(":") < 0 && "on" + de, r = r[d.expando] ? r : new d.Event(de, typeof r == "object" && r), r.isTrigger = g ? 2 : 3, r.namespace = Ge.join("."), r.rnamespace = r.namespace ? new RegExp("(^|\\.)" + Ge.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, r.result = void 0, r.target || (r.target = h), a = a == null ? [r] : d.makeArray(a, [r]), ce = d.event.special[de] || {}, !(!g && ce.trigger && ce.trigger.apply(h, a) === !1))) {
                        if (!g && !ce.noBubble && !v(h)) {
                            for (z = ce.delegateType || de, br.test(z + de) || (S = S.parentNode); S; S = S.parentNode) ae.push(S), O = S;
                            O === (h.ownerDocument || $) && ae.push(O.defaultView || O.parentWindow || e)
                        }
                        for (_ = 0;
                            (S = ae[_++]) && !r.isPropagationStopped();) Ce = S, r.type = _ > 1 ? z : ce.bindType || de, ee = (se.get(S, "events") || Object.create(null))[r.type] && se.get(S, "handle"), ee && ee.apply(S, a), ee = G && S[G], ee && ee.apply && re(S) && (r.result = ee.apply(S, a), r.result === !1 && r.preventDefault());
                        return r.type = de, !g && !r.isDefaultPrevented() && (!ce._default || ce._default.apply(ae.pop(), a) === !1) && re(h) && G && ie(h[de]) && !v(h) && (O = h[G], O && (h[G] = null), d.event.triggered = de, r.isPropagationStopped() && Ce.addEventListener(de, hs), h[de](), r.isPropagationStopped() && Ce.removeEventListener(de, hs), d.event.triggered = void 0, O && (h[G] = O)), r.result
                    }
                },
                simulate: function(r, a, h) {
                    var g = d.extend(new d.Event, h, {
                        type: r,
                        isSimulated: !0
                    });
                    d.event.trigger(g, null, a)
                }
            }), d.fn.extend({
                trigger: function(r, a) {
                    return this.each(function() {
                        d.event.trigger(r, a, this)
                    })
                },
                triggerHandler: function(r, a) {
                    var h = this[0];
                    if (h) return d.event.trigger(r, a, h, !0)
                }
            }), j.focusin || d.each({
                focus: "focusin",
                blur: "focusout"
            }, function(r, a) {
                var h = function(g) {
                    d.event.simulate(a, g.target, d.event.fix(g))
                };
                d.event.special[a] = {
                    setup: function() {
                        var g = this.ownerDocument || this.document || this,
                            _ = se.access(g, a);
                        _ || g.addEventListener(r, h, !0), se.access(g, a, (_ || 0) + 1)
                    },
                    teardown: function() {
                        var g = this.ownerDocument || this.document || this,
                            _ = se.access(g, a) - 1;
                        _ ? se.access(g, a, _) : (g.removeEventListener(r, h, !0), se.remove(g, a))
                    }
                }
            });
            var Kn = e.location,
                uo = {
                    guid: Date.now()
                },
                ds = /\?/;
            d.parseXML = function(r) {
                var a, h;
                if (!r || typeof r != "string") return null;
                try {
                    a = new e.DOMParser().parseFromString(r, "text/xml")
                } catch {}
                return h = a && a.getElementsByTagName("parsererror")[0], (!a || h) && d.error("Invalid XML: " + (h ? d.map(h.childNodes, function(g) {
                    return g.textContent
                }).join(`
`) : r)), a
            };
            var Da = /\[\]$/,
                ho = /\r?\n/g,
                La = /^(?:submit|button|image|reset|file)$/i,
                Xn = /^(?:input|select|textarea|keygen)/i;

            function fs(r, a, h, g) {
                var _;
                if (Array.isArray(a)) d.each(a, function(S, O) {
                    h || Da.test(r) ? g(r, O) : fs(r + "[" + (typeof O == "object" && O != null ? S : "") + "]", O, h, g)
                });
                else if (!h && oe(a) === "object")
                    for (_ in a) fs(r + "[" + _ + "]", a[_], h, g);
                else g(r, a)
            }
            d.param = function(r, a) {
                var h, g = [],
                    _ = function(S, O) {
                        var z = ie(O) ? O() : O;
                        g[g.length] = encodeURIComponent(S) + "=" + encodeURIComponent(z ?? "")
                    };
                if (r == null) return "";
                if (Array.isArray(r) || r.jquery && !d.isPlainObject(r)) d.each(r, function() {
                    _(this.name, this.value)
                });
                else
                    for (h in r) fs(h, r[h], a, _);
                return g.join("&")
            }, d.fn.extend({
                serialize: function() {
                    return d.param(this.serializeArray())
                },
                serializeArray: function() {
                    return this.map(function() {
                        var r = d.prop(this, "elements");
                        return r ? d.makeArray(r) : this
                    }).filter(function() {
                        var r = this.type;
                        return this.name && !d(this).is(":disabled") && Xn.test(this.nodeName) && !La.test(r) && (this.checked || !ge.test(r))
                    }).map(function(r, a) {
                        var h = d(this).val();
                        return h == null ? null : Array.isArray(h) ? d.map(h, function(g) {
                            return {
                                name: a.name,
                                value: g.replace(ho, `\r
`)
                            }
                        }) : {
                            name: a.name,
                            value: h.replace(ho, `\r
`)
                        }
                    }).get()
                }
            });
            var fo = /%20/g,
                Pa = /#.*$/,
                $a = /([?&])_=[^&]*/,
                Na = /^(.*?):[ \t]*([^\r\n]*)$/mg,
                Ba = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
                Va = /^(?:GET|HEAD)$/,
                Fa = /^\/\//,
                po = {},
                ps = {},
                go = "*/".concat("*"),
                _r = $.createElement("a");
            _r.href = Kn.href;

            function mo(r) {
                return function(a, h) {
                    typeof a != "string" && (h = a, a = "*");
                    var g, _ = 0,
                        S = a.toLowerCase().match(Te) || [];
                    if (ie(h))
                        for (; g = S[_++];) g[0] === "+" ? (g = g.slice(1) || "*", (r[g] = r[g] || []).unshift(h)) : (r[g] = r[g] || []).push(h)
                }
            }

            function Yn(r, a, h, g) {
                var _ = {},
                    S = r === ps;

                function O(z) {
                    var G;
                    return _[z] = !0, d.each(r[z] || [], function(ee, ce) {
                        var Ce = ce(a, h, g);
                        if (typeof Ce == "string" && !S && !_[Ce]) return a.dataTypes.unshift(Ce), O(Ce), !1;
                        if (S) return !(G = Ce)
                    }), G
                }
                return O(a.dataTypes[0]) || !_["*"] && O("*")
            }

            function gs(r, a) {
                var h, g, _ = d.ajaxSettings.flatOptions || {};
                for (h in a) a[h] !== void 0 && ((_[h] ? r : g || (g = {}))[h] = a[h]);
                return g && d.extend(!0, r, g), r
            }

            function ja(r, a, h) {
                for (var g, _, S, O, z = r.contents, G = r.dataTypes; G[0] === "*";) G.shift(), g === void 0 && (g = r.mimeType || a.getResponseHeader("Content-Type"));
                if (g) {
                    for (_ in z)
                        if (z[_] && z[_].test(g)) {
                            G.unshift(_);
                            break
                        }
                }
                if (G[0] in h) S = G[0];
                else {
                    for (_ in h) {
                        if (!G[0] || r.converters[_ + " " + G[0]]) {
                            S = _;
                            break
                        }
                        O || (O = _)
                    }
                    S = S || O
                }
                if (S) return S !== G[0] && G.unshift(S), h[S]
            }

            function qa(r, a, h, g) {
                var _, S, O, z, G, ee = {},
                    ce = r.dataTypes.slice();
                if (ce[1])
                    for (O in r.converters) ee[O.toLowerCase()] = r.converters[O];
                for (S = ce.shift(); S;)
                    if (r.responseFields[S] && (h[r.responseFields[S]] = a), !G && g && r.dataFilter && (a = r.dataFilter(a, r.dataType)), G = S, S = ce.shift(), S) {
                        if (S === "*") S = G;
                        else if (G !== "*" && G !== S) {
                            if (O = ee[G + " " + S] || ee["* " + S], !O) {
                                for (_ in ee)
                                    if (z = _.split(" "), z[1] === S && (O = ee[G + " " + z[0]] || ee["* " + z[0]], O)) {
                                        O === !0 ? O = ee[_] : ee[_] !== !0 && (S = z[0], ce.unshift(z[1]));
                                        break
                                    }
                            }
                            if (O !== !0)
                                if (O && r.throws) a = O(a);
                                else try {
                                    a = O(a)
                                } catch (Ce) {
                                    return {
                                        state: "parsererror",
                                        error: O ? Ce : "No conversion from " + G + " to " + S
                                    }
                                }
                        }
                    } return {
                    state: "success",
                    data: a
                }
            }
            d.extend({
                active: 0,
                lastModified: {},
                etag: {},
                ajaxSettings: {
                    url: Kn.href,
                    type: "GET",
                    isLocal: Ba.test(Kn.protocol),
                    global: !0,
                    processData: !0,
                    async: !0,
                    contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                    accepts: {
                        "*": go,
                        text: "text/plain",
                        html: "text/html",
                        xml: "application/xml, text/xml",
                        json: "application/json, text/javascript"
                    },
                    contents: {
                        xml: /\bxml\b/,
                        html: /\bhtml/,
                        json: /\bjson\b/
                    },
                    responseFields: {
                        xml: "responseXML",
                        text: "responseText",
                        json: "responseJSON"
                    },
                    converters: {
                        "* text": String,
                        "text html": !0,
                        "text json": JSON.parse,
                        "text xml": d.parseXML
                    },
                    flatOptions: {
                        url: !0,
                        context: !0
                    }
                },
                ajaxSetup: function(r, a) {
                    return a ? gs(gs(r, d.ajaxSettings), a) : gs(d.ajaxSettings, r)
                },
                ajaxPrefilter: mo(po),
                ajaxTransport: mo(ps),
                ajax: function(r, a) {
                    typeof r == "object" && (a = r, r = void 0), a = a || {};
                    var h, g, _, S, O, z, G, ee, ce, Ce, ae = d.ajaxSetup({}, a),
                        de = ae.context || ae,
                        Ge = ae.context && (de.nodeType || de.jquery) ? d(de) : d.event,
                        st = d.Deferred(),
                        We = d.Callbacks("once memory"),
                        Gt = ae.statusCode || {},
                        Ut = {},
                        yi = {},
                        At = "canceled",
                        it = {
                            readyState: 0,
                            getResponseHeader: function(mt) {
                                var Ot;
                                if (G) {
                                    if (!S)
                                        for (S = {}; Ot = Na.exec(_);) S[Ot[1].toLowerCase() + " "] = (S[Ot[1].toLowerCase() + " "] || []).concat(Ot[2]);
                                    Ot = S[mt.toLowerCase() + " "]
                                }
                                return Ot == null ? null : Ot.join(", ")
                            },
                            getAllResponseHeaders: function() {
                                return G ? _ : null
                            },
                            setRequestHeader: function(mt, Ot) {
                                return G == null && (mt = yi[mt.toLowerCase()] = yi[mt.toLowerCase()] || mt, Ut[mt] = Ot), this
                            },
                            overrideMimeType: function(mt) {
                                return G == null && (ae.mimeType = mt), this
                            },
                            statusCode: function(mt) {
                                var Ot;
                                if (mt)
                                    if (G) it.always(mt[it.status]);
                                    else
                                        for (Ot in mt) Gt[Ot] = [Gt[Ot], mt[Ot]];
                                return this
                            },
                            abort: function(mt) {
                                var Ot = mt || At;
                                return h && h.abort(Ot), ti(0, Ot), this
                            }
                        };
                    if (st.promise(it), ae.url = ((r || ae.url || Kn.href) + "").replace(Fa, Kn.protocol + "//"), ae.type = a.method || a.type || ae.method || ae.type, ae.dataTypes = (ae.dataType || "*").toLowerCase().match(Te) || [""], ae.crossDomain == null) {
                        z = $.createElement("a");
                        try {
                            z.href = ae.url, z.href = z.href, ae.crossDomain = _r.protocol + "//" + _r.host != z.protocol + "//" + z.host
                        } catch {
                            ae.crossDomain = !0
                        }
                    }
                    if (ae.data && ae.processData && typeof ae.data != "string" && (ae.data = d.param(ae.data, ae.traditional)), Yn(po, ae, a, it), G) return it;
                    ee = d.event && ae.global, ee && d.active++ === 0 && d.event.trigger("ajaxStart"), ae.type = ae.type.toUpperCase(), ae.hasContent = !Va.test(ae.type), g = ae.url.replace(Pa, ""), ae.hasContent ? ae.data && ae.processData && (ae.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && (ae.data = ae.data.replace(fo, "+")) : (Ce = ae.url.slice(g.length), ae.data && (ae.processData || typeof ae.data == "string") && (g += (ds.test(g) ? "&" : "?") + ae.data, delete ae.data), ae.cache === !1 && (g = g.replace($a, "$1"), Ce = (ds.test(g) ? "&" : "?") + "_=" + uo.guid++ + Ce), ae.url = g + Ce), ae.ifModified && (d.lastModified[g] && it.setRequestHeader("If-Modified-Since", d.lastModified[g]), d.etag[g] && it.setRequestHeader("If-None-Match", d.etag[g])), (ae.data && ae.hasContent && ae.contentType !== !1 || a.contentType) && it.setRequestHeader("Content-Type", ae.contentType), it.setRequestHeader("Accept", ae.dataTypes[0] && ae.accepts[ae.dataTypes[0]] ? ae.accepts[ae.dataTypes[0]] + (ae.dataTypes[0] !== "*" ? ", " + go + "; q=0.01" : "") : ae.accepts["*"]);
                    for (ce in ae.headers) it.setRequestHeader(ce, ae.headers[ce]);
                    if (ae.beforeSend && (ae.beforeSend.call(de, it, ae) === !1 || G)) return it.abort();
                    if (At = "abort", We.add(ae.complete), it.done(ae.success), it.fail(ae.error), h = Yn(ps, ae, a, it), !h) ti(-1, "No Transport");
                    else {
                        if (it.readyState = 1, ee && Ge.trigger("ajaxSend", [it, ae]), G) return it;
                        ae.async && ae.timeout > 0 && (O = e.setTimeout(function() {
                            it.abort("timeout")
                        }, ae.timeout));
                        try {
                            G = !1, h.send(Ut, ti)
                        } catch (mt) {
                            if (G) throw mt;
                            ti(-1, mt)
                        }
                    }

                    function ti(mt, Ot, Zn, Cr) {
                        var wi, un, hn, fi, Wi, Si = Ot;
                        G || (G = !0, O && e.clearTimeout(O), h = void 0, _ = Cr || "", it.readyState = mt > 0 ? 4 : 0, wi = mt >= 200 && mt < 300 || mt === 304, Zn && (fi = ja(ae, it, Zn)), !wi && d.inArray("script", ae.dataTypes) > -1 && d.inArray("json", ae.dataTypes) < 0 && (ae.converters["text script"] = function() {}), fi = qa(ae, fi, it, wi), wi ? (ae.ifModified && (Wi = it.getResponseHeader("Last-Modified"), Wi && (d.lastModified[g] = Wi), Wi = it.getResponseHeader("etag"), Wi && (d.etag[g] = Wi)), mt === 204 || ae.type === "HEAD" ? Si = "nocontent" : mt === 304 ? Si = "notmodified" : (Si = fi.state, un = fi.data, hn = fi.error, wi = !hn)) : (hn = Si, (mt || !Si) && (Si = "error", mt < 0 && (mt = 0))), it.status = mt, it.statusText = (Ot || Si) + "", wi ? st.resolveWith(de, [un, Si, it]) : st.rejectWith(de, [it, Si, hn]), it.statusCode(Gt), Gt = void 0, ee && Ge.trigger(wi ? "ajaxSuccess" : "ajaxError", [it, ae, wi ? un : hn]), We.fireWith(de, [it, Si]), ee && (Ge.trigger("ajaxComplete", [it, ae]), --d.active || d.event.trigger("ajaxStop")))
                    }
                    return it
                },
                getJSON: function(r, a, h) {
                    return d.get(r, a, h, "json")
                },
                getScript: function(r, a) {
                    return d.get(r, void 0, a, "script")
                }
            }), d.each(["get", "post"], function(r, a) {
                d[a] = function(h, g, _, S) {
                    return ie(g) && (S = S || _, _ = g, g = void 0), d.ajax(d.extend({
                        url: h,
                        type: a,
                        dataType: S,
                        data: g,
                        success: _
                    }, d.isPlainObject(h) && h))
                }
            }), d.ajaxPrefilter(function(r) {
                var a;
                for (a in r.headers) a.toLowerCase() === "content-type" && (r.contentType = r.headers[a] || "")
            }), d._evalUrl = function(r, a, h) {
                return d.ajax({
                    url: r,
                    type: "GET",
                    dataType: "script",
                    cache: !0,
                    async: !1,
                    global: !1,
                    converters: {
                        "text script": function() {}
                    },
                    dataFilter: function(g) {
                        d.globalEval(g, a, h)
                    }
                })
            }, d.fn.extend({
                wrapAll: function(r) {
                    var a;
                    return this[0] && (ie(r) && (r = r.call(this[0])), a = d(r, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && a.insertBefore(this[0]), a.map(function() {
                        for (var h = this; h.firstElementChild;) h = h.firstElementChild;
                        return h
                    }).append(this)), this
                },
                wrapInner: function(r) {
                    return ie(r) ? this.each(function(a) {
                        d(this).wrapInner(r.call(this, a))
                    }) : this.each(function() {
                        var a = d(this),
                            h = a.contents();
                        h.length ? h.wrapAll(r) : a.append(r)
                    })
                },
                wrap: function(r) {
                    var a = ie(r);
                    return this.each(function(h) {
                        d(this).wrapAll(a ? r.call(this, h) : r)
                    })
                },
                unwrap: function(r) {
                    return this.parent(r).not("body").each(function() {
                        d(this).replaceWith(this.childNodes)
                    }), this
                }
            }), d.expr.pseudos.hidden = function(r) {
                return !d.expr.pseudos.visible(r)
            }, d.expr.pseudos.visible = function(r) {
                return !!(r.offsetWidth || r.offsetHeight || r.getClientRects().length)
            }, d.ajaxSettings.xhr = function() {
                try {
                    return new e.XMLHttpRequest
                } catch {}
            };
            var Jn = {
                    0: 200,
                    1223: 204
                },
                Qn = d.ajaxSettings.xhr();
            j.cors = !!Qn && "withCredentials" in Qn, j.ajax = Qn = !!Qn, d.ajaxTransport(function(r) {
                var a, h;
                if (j.cors || Qn && !r.crossDomain) return {
                    send: function(g, _) {
                        var S, O = r.xhr();
                        if (O.open(r.type, r.url, r.async, r.username, r.password), r.xhrFields)
                            for (S in r.xhrFields) O[S] = r.xhrFields[S];
                        r.mimeType && O.overrideMimeType && O.overrideMimeType(r.mimeType), !r.crossDomain && !g["X-Requested-With"] && (g["X-Requested-With"] = "XMLHttpRequest");
                        for (S in g) O.setRequestHeader(S, g[S]);
                        a = function(z) {
                            return function() {
                                a && (a = h = O.onload = O.onerror = O.onabort = O.ontimeout = O.onreadystatechange = null, z === "abort" ? O.abort() : z === "error" ? typeof O.status != "number" ? _(0, "error") : _(O.status, O.statusText) : _(Jn[O.status] || O.status, O.statusText, (O.responseType || "text") !== "text" || typeof O.responseText != "string" ? {
                                    binary: O.response
                                } : {
                                    text: O.responseText
                                }, O.getAllResponseHeaders()))
                            }
                        }, O.onload = a(), h = O.onerror = O.ontimeout = a("error"), O.onabort !== void 0 ? O.onabort = h : O.onreadystatechange = function() {
                            O.readyState === 4 && e.setTimeout(function() {
                                a && h()
                            })
                        }, a = a("abort");
                        try {
                            O.send(r.hasContent && r.data || null)
                        } catch (z) {
                            if (a) throw z
                        }
                    },
                    abort: function() {
                        a && a()
                    }
                }
            }), d.ajaxPrefilter(function(r) {
                r.crossDomain && (r.contents.script = !1)
            }), d.ajaxSetup({
                accepts: {
                    script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                },
                contents: {
                    script: /\b(?:java|ecma)script\b/
                },
                converters: {
                    "text script": function(r) {
                        return d.globalEval(r), r
                    }
                }
            }), d.ajaxPrefilter("script", function(r) {
                r.cache === void 0 && (r.cache = !1), r.crossDomain && (r.type = "GET")
            }), d.ajaxTransport("script", function(r) {
                if (r.crossDomain || r.scriptAttrs) {
                    var a, h;
                    return {
                        send: function(g, _) {
                            a = d("<script>").attr(r.scriptAttrs || {}).prop({
                                charset: r.scriptCharset,
                                src: r.url
                            }).on("load error", h = function(S) {
                                a.remove(), h = null, S && _(S.type === "error" ? 404 : 200, S.type)
                            }), $.head.appendChild(a[0])
                        },
                        abort: function() {
                            h && h()
                        }
                    }
                }
            });
            var vo = [],
                ms = /(=)\?(?=&|$)|\?\?/;
            d.ajaxSetup({
                jsonp: "callback",
                jsonpCallback: function() {
                    var r = vo.pop() || d.expando + "_" + uo.guid++;
                    return this[r] = !0, r
                }
            }), d.ajaxPrefilter("json jsonp", function(r, a, h) {
                var g, _, S, O = r.jsonp !== !1 && (ms.test(r.url) ? "url" : typeof r.data == "string" && (r.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && ms.test(r.data) && "data");
                if (O || r.dataTypes[0] === "jsonp") return g = r.jsonpCallback = ie(r.jsonpCallback) ? r.jsonpCallback() : r.jsonpCallback, O ? r[O] = r[O].replace(ms, "$1" + g) : r.jsonp !== !1 && (r.url += (ds.test(r.url) ? "&" : "?") + r.jsonp + "=" + g), r.converters["script json"] = function() {
                    return S || d.error(g + " was not called"), S[0]
                }, r.dataTypes[0] = "json", _ = e[g], e[g] = function() {
                    S = arguments
                }, h.always(function() {
                    _ === void 0 ? d(e).removeProp(g) : e[g] = _, r[g] && (r.jsonpCallback = a.jsonpCallback, vo.push(g)), S && ie(_) && _(S[0]), S = _ = void 0
                }), "script"
            }), j.createHTMLDocument = function() {
                var r = $.implementation.createHTMLDocument("").body;
                return r.innerHTML = "<form></form><form></form>", r.childNodes.length === 2
            }(), d.parseHTML = function(r, a, h) {
                if (typeof r != "string") return [];
                typeof a == "boolean" && (h = a, a = !1);
                var g, _, S;
                return a || (j.createHTMLDocument ? (a = $.implementation.createHTMLDocument(""), g = a.createElement("base"), g.href = $.location.href, a.head.appendChild(g)) : a = $), _ = qe.exec(r), S = !h && [], _ ? [a.createElement(_[1])] : (_ = qi([r], a, S), S && S.length && d(S).remove(), d.merge([], _.childNodes))
            }, d.fn.load = function(r, a, h) {
                var g, _, S, O = this,
                    z = r.indexOf(" ");
                return z > -1 && (g = cn(r.slice(z)), r = r.slice(0, z)), ie(a) ? (h = a, a = void 0) : a && typeof a == "object" && (_ = "POST"), O.length > 0 && d.ajax({
                    url: r,
                    type: _ || "GET",
                    dataType: "html",
                    data: a
                }).done(function(G) {
                    S = arguments, O.html(g ? d("<div>").append(d.parseHTML(G)).find(g) : G)
                }).always(h && function(G, ee) {
                    O.each(function() {
                        h.apply(this, S || [G.responseText, ee, G])
                    })
                }), this
            }, d.expr.pseudos.animated = function(r) {
                return d.grep(d.timers, function(a) {
                    return r === a.elem
                }).length
            }, d.offset = {
                setOffset: function(r, a, h) {
                    var g, _, S, O, z, G, ee, ce = d.css(r, "position"),
                        Ce = d(r),
                        ae = {};
                    ce === "static" && (r.style.position = "relative"), z = Ce.offset(), S = d.css(r, "top"), G = d.css(r, "left"), ee = (ce === "absolute" || ce === "fixed") && (S + G).indexOf("auto") > -1, ee ? (g = Ce.position(), O = g.top, _ = g.left) : (O = parseFloat(S) || 0, _ = parseFloat(G) || 0), ie(a) && (a = a.call(r, h, d.extend({}, z))), a.top != null && (ae.top = a.top - z.top + O), a.left != null && (ae.left = a.left - z.left + _), "using" in a ? a.using.call(r, ae) : Ce.css(ae)
                }
            }, d.fn.extend({
                offset: function(r) {
                    if (arguments.length) return r === void 0 ? this : this.each(function(_) {
                        d.offset.setOffset(this, r, _)
                    });
                    var a, h, g = this[0];
                    if (g) return g.getClientRects().length ? (a = g.getBoundingClientRect(), h = g.ownerDocument.defaultView, {
                        top: a.top + h.pageYOffset,
                        left: a.left + h.pageXOffset
                    }) : {
                        top: 0,
                        left: 0
                    }
                },
                position: function() {
                    if (this[0]) {
                        var r, a, h, g = this[0],
                            _ = {
                                top: 0,
                                left: 0
                            };
                        if (d.css(g, "position") === "fixed") a = g.getBoundingClientRect();
                        else {
                            for (a = this.offset(), h = g.ownerDocument, r = g.offsetParent || h.documentElement; r && (r === h.body || r === h.documentElement) && d.css(r, "position") === "static";) r = r.parentNode;
                            r && r !== g && r.nodeType === 1 && (_ = d(r).offset(), _.top += d.css(r, "borderTopWidth", !0), _.left += d.css(r, "borderLeftWidth", !0))
                        }
                        return {
                            top: a.top - _.top - d.css(g, "marginTop", !0),
                            left: a.left - _.left - d.css(g, "marginLeft", !0)
                        }
                    }
                },
                offsetParent: function() {
                    return this.map(function() {
                        for (var r = this.offsetParent; r && d.css(r, "position") === "static";) r = r.offsetParent;
                        return r || oi
                    })
                }
            }), d.each({
                scrollLeft: "pageXOffset",
                scrollTop: "pageYOffset"
            }, function(r, a) {
                var h = a === "pageYOffset";
                d.fn[r] = function(g) {
                    return m(this, function(_, S, O) {
                        var z;
                        if (v(_) ? z = _ : _.nodeType === 9 && (z = _.defaultView), O === void 0) return z ? z[a] : _[S];
                        z ? z.scrollTo(h ? z.pageXOffset : O, h ? O : z.pageYOffset) : _[S] = O
                    }, r, g, arguments.length)
                }
            }), d.each(["top", "left"], function(r, a) {
                d.cssHooks[a] = b(j.pixelPosition, function(h, g) {
                    if (g) return g = tt(h, a), Gn.test(g) ? d(h).position()[a] + "px" : g
                })
            }), d.each({
                Height: "height",
                Width: "width"
            }, function(r, a) {
                d.each({
                    padding: "inner" + r,
                    content: a,
                    "": "outer" + r
                }, function(h, g) {
                    d.fn[g] = function(_, S) {
                        var O = arguments.length && (h || typeof _ != "boolean"),
                            z = h || (_ === !0 || S === !0 ? "margin" : "border");
                        return m(this, function(G, ee, ce) {
                            var Ce;
                            return v(G) ? g.indexOf("outer") === 0 ? G["inner" + r] : G.document.documentElement["client" + r] : G.nodeType === 9 ? (Ce = G.documentElement, Math.max(G.body["scroll" + r], Ce["scroll" + r], G.body["offset" + r], Ce["offset" + r], Ce["client" + r])) : ce === void 0 ? d.css(G, ee, z) : d.style(G, ee, ce, z)
                        }, a, O ? _ : void 0, O)
                    }
                })
            }), d.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(r, a) {
                d.fn[a] = function(h) {
                    return this.on(a, h)
                }
            }), d.fn.extend({
                bind: function(r, a, h) {
                    return this.on(r, null, a, h)
                },
                unbind: function(r, a) {
                    return this.off(r, null, a)
                },
                delegate: function(r, a, h, g) {
                    return this.on(a, r, h, g)
                },
                undelegate: function(r, a, h) {
                    return arguments.length === 1 ? this.off(r, "**") : this.off(a, r || "**", h)
                },
                hover: function(r, a) {
                    return this.mouseenter(r).mouseleave(a || r)
                }
            }), d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(r, a) {
                d.fn[a] = function(h, g) {
                    return arguments.length > 0 ? this.on(a, null, h, g) : this.trigger(a)
                }
            });
            var yo = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
            d.proxy = function(r, a) {
                var h, g, _;
                if (typeof a == "string" && (h = r[a], a = r, r = h), !!ie(r)) return g = o.call(arguments, 2), _ = function() {
                    return r.apply(a || this, g.concat(o.call(arguments)))
                }, _.guid = r.guid = r.guid || d.guid++, _
            }, d.holdReady = function(r) {
                r ? d.readyWait++ : d.ready(!0)
            }, d.isArray = Array.isArray, d.parseJSON = JSON.parse, d.nodeName = Ke, d.isFunction = ie, d.isWindow = v, d.camelCase = F, d.type = oe, d.now = Date.now, d.isNumeric = function(r) {
                var a = d.type(r);
                return (a === "number" || a === "string") && !isNaN(r - parseFloat(r))
            }, d.trim = function(r) {
                return r == null ? "" : (r + "").replace(yo, "")
            };
            var wo = e.jQuery,
                bo = e.$;
            return d.noConflict = function(r) {
                return e.$ === d && (e.$ = bo), r && e.jQuery === d && (e.jQuery = wo), d
            }, typeof i > "u" && (e.jQuery = e.$ = d), d
        })
    }(af)), zo
}
var lf = Zu();
const $e = rf(lf);
var Je = {};
(function(t) {
    (function(e) {
        var i = typeof self == "object" && self.self === self && self || typeof wt == "object" && wt.global === wt && wt; {
            var n = Nn,
                s;
            try {
                s = Zu()
            } catch {}
            e(i, t, n, s)
        }
    })(function(e, i, n, s) {
        var o = e.Backbone,
            p = Array.prototype.slice;
        i.VERSION = "1.3.3", i.$ = s, i.noConflict = function() {
            return e.Backbone = o, this
        }, i.emulateHTTP = !1, i.emulateJSON = !1;
        var y = function(k, c, m) {
                switch (k) {
                    case 1:
                        return function() {
                            return n[c](this[m])
                        };
                    case 2:
                        return function(T) {
                            return n[c](this[m], T)
                        };
                    case 3:
                        return function(T, R) {
                            return n[c](this[m], x(T, this), R)
                        };
                    case 4:
                        return function(T, R, N) {
                            return n[c](this[m], x(T, this), R, N)
                        };
                    default:
                        return function() {
                            var T = p.call(arguments);
                            return T.unshift(this[m]), n[c].apply(n, T)
                        }
                }
            },
            w = function(k, c, m) {
                n.each(c, function(T, R) {
                    n[R] && (k.prototype[R] = y(T, R, m))
                })
            },
            x = function(k, c) {
                return n.isFunction(k) ? k : n.isObject(k) && !c._isModel(k) ? A(k) : n.isString(k) ? function(m) {
                    return m.get(k)
                } : k
            },
            A = function(k) {
                var c = n.matches(k);
                return function(m) {
                    return c(m.attributes)
                }
            },
            D = i.Events = {},
            B = /\s+/,
            X = function(k, c, m, T, R) {
                var N = 0,
                    F;
                if (m && typeof m == "object")
                    for (T !== void 0 && ("context" in R) && R.context === void 0 && (R.context = T), F = n.keys(m); N < F.length; N++) c = X(k, c, F[N], m[F[N]], R);
                else if (m && B.test(m))
                    for (F = m.split(B); N < F.length; N++) c = k(c, F[N], T, R);
                else c = k(c, m, T, R);
                return c
            };
        D.on = function(k, c, m) {
            return j(this, k, c, m)
        };
        var j = function(k, c, m, T, R) {
            if (k._events = X(ie, k._events || {}, c, m, {
                    context: T,
                    ctx: k,
                    listening: R
                }), R) {
                var N = k._listeners || (k._listeners = {});
                N[R.id] = R
            }
            return k
        };
        D.listenTo = function(k, c, m) {
            if (!k) return this;
            var T = k._listenId || (k._listenId = n.uniqueId("l")),
                R = this._listeningTo || (this._listeningTo = {}),
                N = R[T];
            if (!N) {
                var F = this._listenId || (this._listenId = n.uniqueId("l"));
                N = R[T] = {
                    obj: k,
                    objId: T,
                    id: F,
                    listeningTo: R,
                    count: 0
                }
            }
            return j(k, c, m, this, N), this
        };
        var ie = function(k, c, m, T) {
            if (m) {
                var R = k[c] || (k[c] = []),
                    N = T.context,
                    F = T.ctx,
                    re = T.listening;
                re && re.count++, R.push({
                    callback: m,
                    context: N,
                    ctx: N || F,
                    listening: re
                })
            }
            return k
        };
        D.off = function(k, c, m) {
            return this._events ? (this._events = X(v, this._events, k, c, {
                context: m,
                listeners: this._listeners
            }), this) : this
        }, D.stopListening = function(k, c, m) {
            var T = this._listeningTo;
            if (!T) return this;
            for (var R = k ? [k._listenId] : n.keys(T), N = 0; N < R.length; N++) {
                var F = T[R[N]];
                if (!F) break;
                F.obj.off(c, m, this)
            }
            return this
        };
        var v = function(k, c, m, T) {
            if (k) {
                var R = 0,
                    N, F = T.context,
                    re = T.listeners;
                if (!c && !m && !F) {
                    for (var Ee = n.keys(re); R < Ee.length; R++) N = re[Ee[R]], delete re[N.id], delete N.listeningTo[N.objId];
                    return
                }
                for (var se = c ? [c] : n.keys(k); R < se.length; R++) {
                    c = se[R];
                    var Oe = k[c];
                    if (!Oe) break;
                    for (var Le = [], gt = 0; gt < Oe.length; gt++) {
                        var ft = Oe[gt];
                        m && m !== ft.callback && m !== ft.callback._callback || F && F !== ft.context ? Le.push(ft) : (N = ft.listening, N && --N.count === 0 && (delete re[N.id], delete N.listeningTo[N.objId]))
                    }
                    Le.length ? k[c] = Le : delete k[c]
                }
                return k
            }
        };
        D.once = function(k, c, m) {
            var T = X($, {}, k, c, n.bind(this.off, this));
            return typeof k == "string" && m == null && (c = void 0), this.on(T, c, m)
        }, D.listenToOnce = function(k, c, m) {
            var T = X($, {}, c, m, n.bind(this.stopListening, this, k));
            return this.listenTo(k, T)
        };
        var $ = function(k, c, m, T) {
            if (m) {
                var R = k[c] = n.once(function() {
                    T(c, R), m.apply(this, arguments)
                });
                R._callback = m
            }
            return k
        };
        D.trigger = function(k) {
            if (!this._events) return this;
            for (var c = Math.max(0, arguments.length - 1), m = Array(c), T = 0; T < c; T++) m[T] = arguments[T + 1];
            return X(W, this._events, k, void 0, m), this
        };
        var W = function(k, c, m, T) {
                if (k) {
                    var R = k[c],
                        N = k.all;
                    R && N && (N = N.slice()), R && ne(R, T), N && ne(N, [c].concat(T))
                }
                return k
            },
            ne = function(k, c) {
                var m, T = -1,
                    R = k.length,
                    N = c[0],
                    F = c[1],
                    re = c[2];
                switch (c.length) {
                    case 0:
                        for (; ++T < R;)(m = k[T]).callback.call(m.ctx);
                        return;
                    case 1:
                        for (; ++T < R;)(m = k[T]).callback.call(m.ctx, N);
                        return;
                    case 2:
                        for (; ++T < R;)(m = k[T]).callback.call(m.ctx, N, F);
                        return;
                    case 3:
                        for (; ++T < R;)(m = k[T]).callback.call(m.ctx, N, F, re);
                        return;
                    default:
                        for (; ++T < R;)(m = k[T]).callback.apply(m.ctx, c);
                        return
                }
            };
        D.bind = D.on, D.unbind = D.off, n.extend(i, D);
        var oe = i.Model = function(k, c) {
            var m = k || {};
            c || (c = {}), this.cid = n.uniqueId(this.cidPrefix), this.attributes = {}, c.collection && (this.collection = c.collection), c.parse && (m = this.parse(m, c) || {});
            var T = n.result(this, "defaults");
            m = n.defaults(n.extend({}, T, m), T), this.set(m, c), this.changed = {}, this.initialize.apply(this, arguments)
        };
        n.extend(oe.prototype, D, {
            changed: null,
            validationError: null,
            idAttribute: "id",
            cidPrefix: "c",
            initialize: function() {},
            toJSON: function(k) {
                return n.clone(this.attributes)
            },
            sync: function() {
                return i.sync.apply(this, arguments)
            },
            get: function(k) {
                return this.attributes[k]
            },
            escape: function(k) {
                return n.escape(this.get(k))
            },
            has: function(k) {
                return this.get(k) != null
            },
            matches: function(k) {
                return !!n.iteratee(k, this)(this.attributes)
            },
            set: function(k, c, m) {
                if (k == null) return this;
                var T;
                if (typeof k == "object" ? (T = k, m = c) : (T = {})[k] = c, m || (m = {}), !this._validate(T, m)) return !1;
                var R = m.unset,
                    N = m.silent,
                    F = [],
                    re = this._changing;
                this._changing = !0, re || (this._previousAttributes = n.clone(this.attributes), this.changed = {});
                var Ee = this.attributes,
                    se = this.changed,
                    Oe = this._previousAttributes;
                for (var Le in T) c = T[Le], n.isEqual(Ee[Le], c) || F.push(Le), n.isEqual(Oe[Le], c) ? delete se[Le] : se[Le] = c, R ? delete Ee[Le] : Ee[Le] = c;
                if (this.idAttribute in T && (this.id = this.get(this.idAttribute)), !N) {
                    F.length && (this._pending = m);
                    for (var gt = 0; gt < F.length; gt++) this.trigger("change:" + F[gt], this, Ee[F[gt]], m)
                }
                if (re) return this;
                if (!N)
                    for (; this._pending;) m = this._pending, this._pending = !1, this.trigger("change", this, m);
                return this._pending = !1, this._changing = !1, this
            },
            unset: function(k, c) {
                return this.set(k, void 0, n.extend({}, c, {
                    unset: !0
                }))
            },
            clear: function(k) {
                var c = {};
                for (var m in this.attributes) c[m] = void 0;
                return this.set(c, n.extend({}, k, {
                    unset: !0
                }))
            },
            hasChanged: function(k) {
                return k == null ? !n.isEmpty(this.changed) : n.has(this.changed, k)
            },
            changedAttributes: function(k) {
                if (!k) return this.hasChanged() ? n.clone(this.changed) : !1;
                var c = this._changing ? this._previousAttributes : this.attributes,
                    m = {};
                for (var T in k) {
                    var R = k[T];
                    n.isEqual(c[T], R) || (m[T] = R)
                }
                return n.size(m) ? m : !1
            },
            previous: function(k) {
                return k == null || !this._previousAttributes ? null : this._previousAttributes[k]
            },
            previousAttributes: function() {
                return n.clone(this._previousAttributes)
            },
            fetch: function(k) {
                k = n.extend({
                    parse: !0
                }, k);
                var c = this,
                    m = k.success;
                return k.success = function(T) {
                    var R = k.parse ? c.parse(T, k) : T;
                    if (!c.set(R, k)) return !1;
                    m && m.call(k.context, c, T, k), c.trigger("sync", c, T, k)
                }, jt(this, k), this.sync("read", this, k)
            },
            save: function(k, c, m) {
                var T;
                k == null || typeof k == "object" ? (T = k, m = c) : (T = {})[k] = c, m = n.extend({
                    validate: !0,
                    parse: !0
                }, m);
                var R = m.wait;
                if (T && !R) {
                    if (!this.set(T, m)) return !1
                } else if (!this._validate(T, m)) return !1;
                var N = this,
                    F = m.success,
                    re = this.attributes;
                m.success = function(Oe) {
                    N.attributes = re;
                    var Le = m.parse ? N.parse(Oe, m) : Oe;
                    if (R && (Le = n.extend({}, T, Le)), Le && !N.set(Le, m)) return !1;
                    F && F.call(m.context, N, Oe, m), N.trigger("sync", N, Oe, m)
                }, jt(this, m), T && R && (this.attributes = n.extend({}, re, T));
                var Ee = this.isNew() ? "create" : m.patch ? "patch" : "update";
                Ee === "patch" && !m.attrs && (m.attrs = T);
                var se = this.sync(Ee, this, m);
                return this.attributes = re, se
            },
            destroy: function(k) {
                k = k ? n.clone(k) : {};
                var c = this,
                    m = k.success,
                    T = k.wait,
                    R = function() {
                        c.stopListening(), c.trigger("destroy", c, c.collection, k)
                    };
                k.success = function(F) {
                    T && R(), m && m.call(k.context, c, F, k), c.isNew() || c.trigger("sync", c, F, k)
                };
                var N = !1;
                return this.isNew() ? n.defer(k.success) : (jt(this, k), N = this.sync("delete", this, k)), T || R(), N
            },
            url: function() {
                var k = n.result(this, "urlRoot") || n.result(this.collection, "url") || si();
                if (this.isNew()) return k;
                var c = this.get(this.idAttribute);
                return k.replace(/[^\/]$/, "$&/") + encodeURIComponent(c)
            },
            parse: function(k, c) {
                return k
            },
            clone: function() {
                return new this.constructor(this.attributes)
            },
            isNew: function() {
                return !this.has(this.idAttribute)
            },
            isValid: function(k) {
                return this._validate({}, n.extend({}, k, {
                    validate: !0
                }))
            },
            _validate: function(k, c) {
                if (!c.validate || !this.validate) return !0;
                k = n.extend({}, this.attributes, k);
                var m = this.validationError = this.validate(k, c) || null;
                return m ? (this.trigger("invalid", this, m, n.extend(c, {
                    validationError: m
                })), !1) : !0
            }
        });
        var ue = {
            keys: 1,
            values: 1,
            pairs: 1,
            invert: 1,
            pick: 0,
            omit: 0,
            chain: 1,
            isEmpty: 1
        };
        w(oe, ue, "attributes");
        var d = i.Collection = function(k, c) {
                c || (c = {}), c.model && (this.model = c.model), c.comparator !== void 0 && (this.comparator = c.comparator), this._reset(), this.initialize.apply(this, arguments), k && this.reset(k, n.extend({
                    silent: !0
                }, c))
            },
            ye = {
                add: !0,
                remove: !0,
                merge: !0
            },
            Se = {
                add: !0,
                remove: !1
            },
            Ae = function(k, c, m) {
                m = Math.min(Math.max(m, 0), k.length);
                var T = Array(k.length - m),
                    R = c.length,
                    N;
                for (N = 0; N < T.length; N++) T[N] = k[N + m];
                for (N = 0; N < R; N++) k[N + m] = c[N];
                for (N = 0; N < T.length; N++) k[N + R + m] = T[N]
            };
        n.extend(d.prototype, D, {
            model: oe,
            initialize: function() {},
            toJSON: function(k) {
                return this.map(function(c) {
                    return c.toJSON(k)
                })
            },
            sync: function() {
                return i.sync.apply(this, arguments)
            },
            add: function(k, c) {
                return this.set(k, n.extend({
                    merge: !1
                }, c, Se))
            },
            remove: function(k, c) {
                c = n.extend({}, c);
                var m = !n.isArray(k);
                k = m ? [k] : k.slice();
                var T = this._removeModels(k, c);
                return !c.silent && T.length && (c.changes = {
                    added: [],
                    merged: [],
                    removed: T
                }, this.trigger("update", this, c)), m ? T[0] : T
            },
            set: function(k, c) {
                if (k != null) {
                    c = n.extend({}, ye, c), c.parse && !this._isModel(k) && (k = this.parse(k, c) || []);
                    var m = !n.isArray(k);
                    k = m ? [k] : k.slice();
                    var T = c.at;
                    T != null && (T = +T), T > this.length && (T = this.length), T < 0 && (T += this.length + 1);
                    var R = [],
                        N = [],
                        F = [],
                        re = [],
                        Ee = {},
                        se = c.add,
                        Oe = c.merge,
                        Le = c.remove,
                        gt = !1,
                        ft = this.comparator && T == null && c.sort !== !1,
                        Et = n.isString(this.comparator) ? this.comparator : null,
                        _t, vt;
                    for (vt = 0; vt < k.length; vt++) {
                        _t = k[vt];
                        var lt = this.get(_t);
                        if (lt) {
                            if (Oe && _t !== lt) {
                                var oi = this._isModel(_t) ? _t.attributes : _t;
                                c.parse && (oi = lt.parse(oi, c)), lt.set(oi, c), F.push(lt), ft && !gt && (gt = lt.hasChanged(Et))
                            }
                            Ee[lt.cid] || (Ee[lt.cid] = !0, R.push(lt)), k[vt] = lt
                        } else se && (_t = k[vt] = this._prepareModel(_t, c), _t && (N.push(_t), this._addReference(_t, c), Ee[_t.cid] = !0, R.push(_t)))
                    }
                    if (Le) {
                        for (vt = 0; vt < this.length; vt++) _t = this.models[vt], Ee[_t.cid] || re.push(_t);
                        re.length && this._removeModels(re, c)
                    }
                    var ai = !1,
                        ui = !ft && se && Le;
                    if (R.length && ui ? (ai = this.length !== R.length || n.some(this.models, function(H, V) {
                            return H !== R[V]
                        }), this.models.length = 0, Ae(this.models, R, 0), this.length = this.models.length) : N.length && (ft && (gt = !0), Ae(this.models, N, T ?? this.length), this.length = this.models.length), gt && this.sort({
                            silent: !0
                        }), !c.silent) {
                        for (vt = 0; vt < N.length; vt++) T != null && (c.index = T + vt), _t = N[vt], _t.trigger("add", _t, this, c);
                        (gt || ai) && this.trigger("sort", this, c), (N.length || re.length || F.length) && (c.changes = {
                            added: N,
                            removed: re,
                            merged: F
                        }, this.trigger("update", this, c))
                    }
                    return m ? k[0] : k
                }
            },
            reset: function(k, c) {
                c = c ? n.clone(c) : {};
                for (var m = 0; m < this.models.length; m++) this._removeReference(this.models[m], c);
                return c.previousModels = this.models, this._reset(), k = this.add(k, n.extend({
                    silent: !0
                }, c)), c.silent || this.trigger("reset", this, c), k
            },
            push: function(k, c) {
                return this.add(k, n.extend({
                    at: this.length
                }, c))
            },
            pop: function(k) {
                var c = this.at(this.length - 1);
                return this.remove(c, k)
            },
            unshift: function(k, c) {
                return this.add(k, n.extend({
                    at: 0
                }, c))
            },
            shift: function(k) {
                var c = this.at(0);
                return this.remove(c, k)
            },
            slice: function() {
                return p.apply(this.models, arguments)
            },
            get: function(k) {
                if (k != null) return this._byId[k] || this._byId[this.modelId(k.attributes || k)] || k.cid && this._byId[k.cid]
            },
            has: function(k) {
                return this.get(k) != null
            },
            at: function(k) {
                return k < 0 && (k += this.length), this.models[k]
            },
            where: function(k, c) {
                return this[c ? "find" : "filter"](k)
            },
            findWhere: function(k) {
                return this.where(k, !0)
            },
            sort: function(k) {
                var c = this.comparator;
                if (!c) throw new Error("Cannot sort a set without a comparator");
                k || (k = {});
                var m = c.length;
                return n.isFunction(c) && (c = n.bind(c, this)), m === 1 || n.isString(c) ? this.models = this.sortBy(c) : this.models.sort(c), k.silent || this.trigger("sort", this, k), this
            },
            pluck: function(k) {
                return this.map(k + "")
            },
            fetch: function(k) {
                k = n.extend({
                    parse: !0
                }, k);
                var c = k.success,
                    m = this;
                return k.success = function(T) {
                    var R = k.reset ? "reset" : "set";
                    m[R](T, k), c && c.call(k.context, m, T, k), m.trigger("sync", m, T, k)
                }, jt(this, k), this.sync("read", this, k)
            },
            create: function(k, c) {
                c = c ? n.clone(c) : {};
                var m = c.wait;
                if (k = this._prepareModel(k, c), !k) return !1;
                m || this.add(k, c);
                var T = this,
                    R = c.success;
                return c.success = function(N, F, re) {
                    m && T.add(N, re), R && R.call(re.context, N, F, re)
                }, k.save(null, c), k
            },
            parse: function(k, c) {
                return k
            },
            clone: function() {
                return new this.constructor(this.models, {
                    model: this.model,
                    comparator: this.comparator
                })
            },
            modelId: function(k) {
                return k[this.model.prototype.idAttribute || "id"]
            },
            _reset: function() {
                this.length = 0, this.models = [], this._byId = {}
            },
            _prepareModel: function(k, c) {
                if (this._isModel(k)) return k.collection || (k.collection = this), k;
                c = c ? n.clone(c) : {}, c.collection = this;
                var m = new this.model(k, c);
                return m.validationError ? (this.trigger("invalid", this, m.validationError, c), !1) : m
            },
            _removeModels: function(k, c) {
                for (var m = [], T = 0; T < k.length; T++) {
                    var R = this.get(k[T]);
                    if (R) {
                        var N = this.indexOf(R);
                        this.models.splice(N, 1), this.length--, delete this._byId[R.cid];
                        var F = this.modelId(R.attributes);
                        F != null && delete this._byId[F], c.silent || (c.index = N, R.trigger("remove", R, this, c)), m.push(R), this._removeReference(R, c)
                    }
                }
                return m
            },
            _isModel: function(k) {
                return k instanceof oe
            },
            _addReference: function(k, c) {
                this._byId[k.cid] = k;
                var m = this.modelId(k.attributes);
                m != null && (this._byId[m] = k), k.on("all", this._onModelEvent, this)
            },
            _removeReference: function(k, c) {
                delete this._byId[k.cid];
                var m = this.modelId(k.attributes);
                m != null && delete this._byId[m], this === k.collection && delete k.collection, k.off("all", this._onModelEvent, this)
            },
            _onModelEvent: function(k, c, m, T) {
                if (c) {
                    if ((k === "add" || k === "remove") && m !== this) return;
                    if (k === "destroy" && this.remove(c, T), k === "change") {
                        var R = this.modelId(c.previousAttributes()),
                            N = this.modelId(c.attributes);
                        R !== N && (R != null && delete this._byId[R], N != null && (this._byId[N] = c))
                    }
                }
                this.trigger.apply(this, arguments)
            }
        });
        var at = {
            forEach: 3,
            each: 3,
            map: 3,
            collect: 3,
            reduce: 0,
            foldl: 0,
            inject: 0,
            reduceRight: 0,
            foldr: 0,
            find: 3,
            detect: 3,
            filter: 3,
            select: 3,
            reject: 3,
            every: 3,
            all: 3,
            some: 3,
            any: 3,
            include: 3,
            includes: 3,
            contains: 3,
            invoke: 0,
            max: 3,
            min: 3,
            toArray: 1,
            size: 1,
            first: 3,
            head: 3,
            take: 3,
            initial: 3,
            rest: 3,
            tail: 3,
            drop: 3,
            last: 3,
            without: 0,
            difference: 0,
            indexOf: 3,
            shuffle: 1,
            lastIndexOf: 3,
            isEmpty: 1,
            chain: 1,
            sample: 3,
            partition: 3,
            groupBy: 3,
            countBy: 3,
            sortBy: 3,
            indexBy: 3,
            findIndex: 3,
            findLastIndex: 3
        };
        w(d, at, "models");
        var Ve = i.View = function(k) {
                this.cid = n.uniqueId("view"), n.extend(this, n.pick(k, qe)), this._ensureElement(), this.initialize.apply(this, arguments)
            },
            Ke = /^(\S+)\s*(.*)$/,
            qe = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
        n.extend(Ve.prototype, D, {
            tagName: "div",
            $: function(k) {
                return this.$el.find(k)
            },
            initialize: function() {},
            render: function() {
                return this
            },
            remove: function() {
                return this._removeElement(), this.stopListening(), this
            },
            _removeElement: function() {
                this.$el.remove()
            },
            setElement: function(k) {
                return this.undelegateEvents(), this._setElement(k), this.delegateEvents(), this
            },
            _setElement: function(k) {
                this.$el = k instanceof i.$ ? k : i.$(k), this.el = this.$el[0]
            },
            delegateEvents: function(k) {
                if (k || (k = n.result(this, "events")), !k) return this;
                this.undelegateEvents();
                for (var c in k) {
                    var m = k[c];
                    if (n.isFunction(m) || (m = this[m]), !!m) {
                        var T = c.match(Ke);
                        this.delegate(T[1], T[2], n.bind(m, this))
                    }
                }
                return this
            },
            delegate: function(k, c, m) {
                return this.$el.on(k + ".delegateEvents" + this.cid, c, m), this
            },
            undelegateEvents: function() {
                return this.$el && this.$el.off(".delegateEvents" + this.cid), this
            },
            undelegate: function(k, c, m) {
                return this.$el.off(k + ".delegateEvents" + this.cid, c, m), this
            },
            _createElement: function(k) {
                return document.createElement(k)
            },
            _ensureElement: function() {
                if (this.el) this.setElement(n.result(this, "el"));
                else {
                    var k = n.extend({}, n.result(this, "attributes"));
                    this.id && (k.id = n.result(this, "id")), this.className && (k.class = n.result(this, "className")), this.setElement(this._createElement(n.result(this, "tagName"))), this._setAttributes(k)
                }
            },
            _setAttributes: function(k) {
                this.$el.attr(k)
            }
        }), i.sync = function(k, c, m) {
            var T = K[k];
            n.defaults(m || (m = {}), {
                emulateHTTP: i.emulateHTTP,
                emulateJSON: i.emulateJSON
            });
            var R = {
                type: T,
                dataType: "json"
            };
            if (m.url || (R.url = n.result(c, "url") || si()), m.data == null && c && (k === "create" || k === "update" || k === "patch") && (R.contentType = "application/json", R.data = JSON.stringify(m.attrs || c.toJSON(m))), m.emulateJSON && (R.contentType = "application/x-www-form-urlencoded", R.data = R.data ? {
                    model: R.data
                } : {}), m.emulateHTTP && (T === "PUT" || T === "DELETE" || T === "PATCH")) {
                R.type = "POST", m.emulateJSON && (R.data._method = T);
                var N = m.beforeSend;
                m.beforeSend = function(Ee) {
                    if (Ee.setRequestHeader("X-HTTP-Method-Override", T), N) return N.apply(this, arguments)
                }
            }
            R.type !== "GET" && !m.emulateJSON && (R.processData = !1);
            var F = m.error;
            m.error = function(Ee, se, Oe) {
                m.textStatus = se, m.errorThrown = Oe, F && F.call(m.context, Ee, se, Oe)
            };
            var re = m.xhr = i.ajax(n.extend(R, m));
            return c.trigger("request", c, re, m), re
        };
        var K = {
            create: "POST",
            update: "PUT",
            patch: "PATCH",
            delete: "DELETE",
            read: "GET"
        };
        i.ajax = function() {
            return i.$.ajax.apply(i.$, arguments)
        };
        var le = i.Router = function(k) {
                k || (k = {}), k.routes && (this.routes = k.routes), this._bindRoutes(), this.initialize.apply(this, arguments)
            },
            De = /\((.*?)\)/g,
            Ie = /(\(\?)?:\w+/g,
            we = /\*\w+/g,
            he = /[\-{}\[\]+?.,\\\^$|#\s]/g;
        n.extend(le.prototype, D, {
            initialize: function() {},
            route: function(k, c, m) {
                n.isRegExp(k) || (k = this._routeToRegExp(k)), n.isFunction(c) && (m = c, c = ""), m || (m = this[c]);
                var T = this;
                return i.history.route(k, function(R) {
                    var N = T._extractParameters(k, R);
                    T.execute(m, N, c) !== !1 && (T.trigger.apply(T, ["route:" + c].concat(N)), T.trigger("route", c, N), i.history.trigger("route", T, c, N))
                }), this
            },
            execute: function(k, c, m) {
                k && k.apply(this, c)
            },
            navigate: function(k, c) {
                return i.history.navigate(k, c), this
            },
            _bindRoutes: function() {
                if (this.routes) {
                    this.routes = n.result(this, "routes");
                    for (var k, c = n.keys(this.routes);
                        (k = c.pop()) != null;) this.route(k, this.routes[k])
                }
            },
            _routeToRegExp: function(k) {
                return k = k.replace(he, "\\$&").replace(De, "(?:$1)?").replace(Ie, function(c, m) {
                    return m ? c : "([^/?]+)"
                }).replace(we, "([^?]*?)"), new RegExp("^" + k + "(?:\\?([\\s\\S]*))?$")
            },
            _extractParameters: function(k, c) {
                var m = k.exec(c).slice(1);
                return n.map(m, function(T, R) {
                    return R === m.length - 1 ? T || null : T ? decodeURIComponent(T) : null
                })
            }
        });
        var ke = i.History = function() {
                this.handlers = [], this.checkUrl = n.bind(this.checkUrl, this), typeof window < "u" && (this.location = window.location, this.history = window.history)
            },
            Te = /^[#\/]|\s+$/g,
            Fe = /^\/+|\/+$/g,
            rt = /#.*$/;
        ke.started = !1, n.extend(ke.prototype, D, {
            interval: 50,
            atRoot: function() {
                var k = this.location.pathname.replace(/[^\/]$/, "$&/");
                return k === this.root && !this.getSearch()
            },
            matchRoot: function() {
                var k = this.decodeFragment(this.location.pathname),
                    c = k.slice(0, this.root.length - 1) + "/";
                return c === this.root
            },
            decodeFragment: function(k) {
                return decodeURI(k.replace(/%25/g, "%2525"))
            },
            getSearch: function() {
                var k = this.location.href.replace(/#.*/, "").match(/\?.+/);
                return k ? k[0] : ""
            },
            getHash: function(k) {
                var c = (k || this).location.href.match(/#(.*)$/);
                return c ? c[1] : ""
            },
            getPath: function() {
                var k = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
                return k.charAt(0) === "/" ? k.slice(1) : k
            },
            getFragment: function(k) {
                return k == null && (this._usePushState || !this._wantsHashChange ? k = this.getPath() : k = this.getHash()), k.replace(Te, "")
            },
            start: function(k) {
                if (ke.started) throw new Error("Backbone.history has already been started");
                if (ke.started = !0, this.options = n.extend({
                        root: "/"
                    }, this.options, k), this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._hasHashChange = "onhashchange" in window && (document.documentMode === void 0 || document.documentMode > 7), this._useHashChange = this._wantsHashChange && this._hasHashChange, this._wantsPushState = !!this.options.pushState, this._hasPushState = !!(this.history && this.history.pushState), this._usePushState = this._wantsPushState && this._hasPushState, this.fragment = this.getFragment(), this.root = ("/" + this.root + "/").replace(Fe, "/"), this._wantsHashChange && this._wantsPushState)
                    if (!this._hasPushState && !this.atRoot()) {
                        var c = this.root.slice(0, -1) || "/";
                        return this.location.replace(c + "#" + this.getPath()), !0
                    } else this._hasPushState && this.atRoot() && this.navigate(this.getHash(), {
                        replace: !0
                    });
                if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
                    this.iframe = document.createElement("iframe"), this.iframe.src = "javascript:0", this.iframe.style.display = "none", this.iframe.tabIndex = -1;
                    var m = document.body,
                        T = m.insertBefore(this.iframe, m.firstChild).contentWindow;
                    T.document.open(), T.document.close(), T.location.hash = "#" + this.fragment
                }
                var R = window.addEventListener || function(N, F) {
                    return attachEvent("on" + N, F)
                };
                if (this._usePushState ? R("popstate", this.checkUrl, !1) : this._useHashChange && !this.iframe ? R("hashchange", this.checkUrl, !1) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), !this.options.silent) return this.loadUrl()
            },
            stop: function() {
                var k = window.removeEventListener || function(c, m) {
                    return detachEvent("on" + c, m)
                };
                this._usePushState ? k("popstate", this.checkUrl, !1) : this._useHashChange && !this.iframe && k("hashchange", this.checkUrl, !1), this.iframe && (document.body.removeChild(this.iframe), this.iframe = null), this._checkUrlInterval && clearInterval(this._checkUrlInterval), ke.started = !1
            },
            route: function(k, c) {
                this.handlers.unshift({
                    route: k,
                    callback: c
                })
            },
            checkUrl: function(k) {
                var c = this.getFragment();
                if (c === this.fragment && this.iframe && (c = this.getHash(this.iframe.contentWindow)), c === this.fragment) return !1;
                this.iframe && this.navigate(c), this.loadUrl()
            },
            loadUrl: function(k) {
                return this.matchRoot() ? (k = this.fragment = this.getFragment(k), n.some(this.handlers, function(c) {
                    if (c.route.test(k)) return c.callback(k), !0
                })) : !1
            },
            navigate: function(k, c) {
                if (!ke.started) return !1;
                (!c || c === !0) && (c = {
                    trigger: !!c
                }), k = this.getFragment(k || "");
                var m = this.root;
                (k === "" || k.charAt(0) === "?") && (m = m.slice(0, -1) || "/");
                var T = m + k;
                if (k = this.decodeFragment(k.replace(rt, "")), this.fragment !== k) {
                    if (this.fragment = k, this._usePushState) this.history[c.replace ? "replaceState" : "pushState"]({}, document.title, T);
                    else if (this._wantsHashChange) {
                        if (this._updateHash(this.location, k, c.replace), this.iframe && k !== this.getHash(this.iframe.contentWindow)) {
                            var R = this.iframe.contentWindow;
                            c.replace || (R.document.open(), R.document.close()), this._updateHash(R.location, k, c.replace)
                        }
                    } else return this.location.assign(T);
                    if (c.trigger) return this.loadUrl(k)
                }
            },
            _updateHash: function(k, c, m) {
                if (m) {
                    var T = k.href.replace(/(javascript:|#).*$/, "");
                    k.replace(T + "#" + c)
                } else k.hash = "#" + c
            }
        }), i.history = new ke;
        var Tt = function(k, c) {
            var m = this,
                T;
            return k && n.has(k, "constructor") ? T = k.constructor : T = function() {
                return m.apply(this, arguments)
            }, n.extend(T, m, c), T.prototype = n.create(m.prototype, k), T.prototype.constructor = T, T.__super__ = m.prototype, T
        };
        oe.extend = d.extend = le.extend = Ve.extend = ke.extend = Tt;
        var si = function() {
                throw new Error('A "url" property or function must be specified')
            },
            jt = function(k, c) {
                var m = c.error;
                c.error = function(T) {
                    m && m.call(c.context, k, T, c), k.trigger("error", k, T, c)
                }
            };
        return i
    })
})(Je);
var Sl = {},
    cf = {
        get exports() {
            return Sl
        },
        set exports(t) {
            Sl = t
        }
    },
    Ho = {},
    uf = {
        get exports() {
            return Ho
        },
        set exports(t) {
            Ho = t
        }
    },
    Bc;

function hf() {
    return Bc || (Bc = 1, function(t, e) {
        (function(i, n) {
            t.exports = n(Nn, Je)
        })(wt, function(i, n) {
            i = "default" in i ? i.default : i, n = "default" in n ? n.default : n;
            var s = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(v) {
                    return typeof v
                } : function(v) {
                    return v && typeof Symbol == "function" && v.constructor === Symbol ? "symbol" : typeof v
                },
                o = n.Radio,
                p = n.Radio = {};
            p.VERSION = "2.0.0", p.noConflict = function() {
                return n.Radio = o, this
            }, p.DEBUG = !1, p._debugText = function(v, $, W) {
                return v + (W ? " on the " + W + " channel" : "") + ': "' + $ + '"'
            }, p.debugLog = function(v, $, W) {
                p.DEBUG && console && console.warn && console.warn(p._debugText(v, $, W))
            };
            var y = /\s+/;
            p._eventsApi = function(v, $, W, ne) {
                if (!W) return !1;
                var oe = {};
                if ((typeof W > "u" ? "undefined" : s(W)) === "object") {
                    for (var ue in W) {
                        var d = v[$].apply(v, [ue, W[ue]].concat(ne));
                        y.test(ue) ? i.extend(oe, d) : oe[ue] = d
                    }
                    return oe
                }
                if (y.test(W)) {
                    for (var ye = W.split(y), Se = 0, Ae = ye.length; Se < Ae; Se++) oe[ye[Se]] = v[$].apply(v, [ye[Se]].concat(ne));
                    return oe
                }
                return !1
            }, p._callHandler = function(v, $, W) {
                var ne = W[0],
                    oe = W[1],
                    ue = W[2];
                switch (W.length) {
                    case 0:
                        return v.call($);
                    case 1:
                        return v.call($, ne);
                    case 2:
                        return v.call($, ne, oe);
                    case 3:
                        return v.call($, ne, oe, ue);
                    default:
                        return v.apply($, W)
                }
            };

            function w(v, $, W, ne) {
                var oe = v[$];
                if ((!W || W === oe.callback || W === oe.callback._callback) && (!ne || ne === oe.context)) return delete v[$], !0
            }

            function x(v, $, W, ne) {
                v || (v = {});
                for (var oe = $ ? [$] : i.keys(v), ue = !1, d = 0, ye = oe.length; d < ye; d++) $ = oe[d], v[$] && w(v, $, W, ne) && (ue = !0);
                return ue
            }
            var A = {};

            function D(v) {
                return A[v] || (A[v] = i.bind(p.log, p, v))
            }
            i.extend(p, {
                log: function($, W) {
                    if (!(typeof console > "u")) {
                        var ne = i.toArray(arguments).slice(2);
                        console.log("[" + $ + '] "' + W + '"', ne)
                    }
                },
                tuneIn: function($) {
                    var W = p.channel($);
                    return W._tunedIn = !0, W.on("all", D($)), this
                },
                tuneOut: function($) {
                    var W = p.channel($);
                    return W._tunedIn = !1, W.off("all", D($)), delete A[$], this
                }
            });

            function B(v) {
                return i.isFunction(v) ? v : function() {
                    return v
                }
            }
            p.Requests = {
                request: function($) {
                    var W = i.toArray(arguments).slice(1),
                        ne = p._eventsApi(this, "request", $, W);
                    if (ne) return ne;
                    var oe = this.channelName,
                        ue = this._requests;
                    if (oe && this._tunedIn && p.log.apply(this, [oe, $].concat(W)), ue && (ue[$] || ue.default)) {
                        var d = ue[$] || ue.default;
                        return W = ue[$] ? W : arguments, p._callHandler(d.callback, d.context, W)
                    } else p.debugLog("An unhandled request was fired", $, oe)
                },
                reply: function($, W, ne) {
                    return p._eventsApi(this, "reply", $, [W, ne]) ? this : (this._requests || (this._requests = {}), this._requests[$] && p.debugLog("A request was overwritten", $, this.channelName), this._requests[$] = {
                        callback: B(W),
                        context: ne || this
                    }, this)
                },
                replyOnce: function($, W, ne) {
                    if (p._eventsApi(this, "replyOnce", $, [W, ne])) return this;
                    var oe = this,
                        ue = i.once(function() {
                            return oe.stopReplying($), B(W).apply(this, arguments)
                        });
                    return this.reply($, ue, ne)
                },
                stopReplying: function($, W, ne) {
                    return p._eventsApi(this, "stopReplying", $) ? this : (!$ && !W && !ne ? delete this._requests : x(this._requests, $, W, ne) || p.debugLog("Attempted to remove the unregistered request", $, this.channelName), this)
                }
            }, p._channels = {}, p.channel = function(v) {
                if (!v) throw new Error("You must provide a name for the channel.");
                return p._channels[v] ? p._channels[v] : p._channels[v] = new p.Channel(v)
            }, p.Channel = function(v) {
                this.channelName = v
            }, i.extend(p.Channel.prototype, n.Events, p.Requests, {
                reset: function() {
                    return this.off(), this.stopListening(), this.stopReplying(), this
                }
            });
            var X, j, ie = [n.Events, p.Requests];
            return i.each(ie, function(v) {
                i.each(v, function($, W) {
                    p[W] = function(ne) {
                        return j = i.toArray(arguments).slice(1), X = this.channel(ne), X[W].apply(X, j)
                    }
                })
            }), p.reset = function(v) {
                var $ = v ? [this._channels[v]] : this._channels;
                i.each($, function(W) {
                    W.reset()
                })
            }, p
        })
    }(uf)), Ho
}
/**
 * @license
 * MarionetteJS (Backbone.Marionette)
 * ----------------------------------
 * v3.5.1
 *
 * Copyright (c)2017 Derick Bailey, Muted Solutions, LLC.
 * Distributed under MIT license
 *
 * http://marionettejs.com
 */
(function(t, e) {
    (function(i, n) {
        t.exports = n(Je, Nn, hf())
    })(wt, function(i, n, s) {
        i = i && i.hasOwnProperty("default") ? i.default : i, n = n && n.hasOwnProperty("default") ? n.default : n, s = s && s.hasOwnProperty("default") ? s.default : s;
        var o = "3.5.1",
            p = function(l) {
                return function(E) {
                    for (var L = arguments.length, Q = Array(L > 1 ? L - 1 : 0), _e = 1; _e < L; _e++) Q[_e - 1] = arguments[_e];
                    return l.apply(E, Q)
                }
            },
            y = i.Model.extend,
            w = function b(l, E) {
                n.isObject(l) && (l = l.prev + " is going to be removed in the future. Please use " + l.next + " instead." + (l.url ? " See: " + l.url : "")), tt.DEV_MODE && (E === void 0 || !E) && !b._cache[l] && (b._warn("Deprecation warning: " + l), b._cache[l] = !0)
            };
        w._console = typeof console < "u" ? console : {}, w._warn = function() {
            var b = w._console.warn || w._console.log || n.noop;
            return b.apply(w._console, arguments)
        }, w._cache = {};
        var x = function(l) {
                return document.documentElement.contains(l && l.parentNode)
            },
            A = function(l, E) {
                var L = this;
                l && n.each(E, function(Q) {
                    var _e = l[Q];
                    _e !== void 0 && (L[Q] = _e)
                })
            },
            D = function(l) {
                if (l) return this.options && this.options[l] !== void 0 ? this.options[l] : this[l]
            },
            B = function(l) {
                var E = this;
                return n.reduce(l, function(L, Q, _e) {
                    return n.isFunction(Q) || (Q = E[Q]), Q && (L[_e] = Q), L
                }, {})
            },
            X = /(^|:)(\w)/gi;

        function j(b, l, E) {
            return E.toUpperCase()
        }
        var ie = n.memoize(function(b) {
            return "on" + b.replace(X, j)
        });

        function v(b) {
            for (var l = arguments.length, E = Array(l > 1 ? l - 1 : 0), L = 1; L < l; L++) E[L - 1] = arguments[L];
            var Q = ie(b),
                _e = D.call(this, Q),
                Xe = void 0;
            return n.isFunction(_e) && (Xe = _e.apply(this, E)), this.trigger.apply(this, arguments), Xe
        }

        function $(b) {
            for (var l = arguments.length, E = Array(l > 1 ? l - 1 : 0), L = 1; L < l; L++) E[L - 1] = arguments[L];
            return n.isFunction(b.triggerMethod) ? b.triggerMethod.apply(b, E) : v.apply(b, E)
        }

        function W(b, l, E) {
            b._getImmediateChildren && n.each(b._getImmediateChildren(), function(L) {
                E(L) && $(L, l, L)
            })
        }

        function ne(b) {
            return !b._isAttached
        }

        function oe(b) {
            return ne(b) ? (b._isAttached = !0, !0) : !1
        }

        function ue(b) {
            return b._isAttached
        }

        function d(b) {
            return ue(b) ? (b._isAttached = !1, !0) : !1
        }

        function ye(b) {
            b._isAttached && b._isRendered && $(b, "dom:refresh", b)
        }

        function Se(b) {
            b._isAttached && b._isRendered && $(b, "dom:remove", b)
        }

        function Ae() {
            W(this, "before:attach", ne)
        }

        function at() {
            W(this, "attach", oe), ye(this)
        }

        function Ve() {
            W(this, "before:detach", ue), Se(this)
        }

        function Ke() {
            W(this, "detach", d)
        }

        function qe() {
            Se(this)
        }

        function K() {
            ye(this)
        }

        function le(b) {
            b._areViewEventsMonitored || b.monitorViewEvents === !1 || (b._areViewEventsMonitored = !0, b.on({
                "before:attach": Ae,
                attach: at,
                "before:detach": Ve,
                detach: Ke,
                "before:render": qe,
                render: K
            }))
        }
        var De = ["description", "fileName", "lineNumber", "name", "message", "number"],
            Ie = y.call(Error, {
                urlRoot: "http://marionettejs.com/docs/v" + o + "/",
                constructor: function(l, E) {
                    n.isObject(l) ? (E = l, l = E.message) : E || (E = {});
                    var L = Error.call(this, l);
                    n.extend(this, n.pick(L, De), n.pick(E, De)), this.captureStackTrace(), E.url && (this.url = this.urlRoot + E.url)
                },
                captureStackTrace: function() {
                    Error.captureStackTrace && Error.captureStackTrace(this, Ie)
                },
                toString: function() {
                    return this.name + ": " + this.message + (this.url ? " See: " + this.url : "")
                }
            });
        Ie.extend = y;

        function we(b, l, E, L, Q) {
            var _e = L.split(/\s+/);
            _e.length > 1 && w("Multiple handlers for a single event are deprecated. If needed, use a single handler to call multiple methods."), n.each(_e, function(Xe) {
                var Nt = b[Xe];
                if (!Nt) throw new Ie('Method "' + Xe + '" was configured as an event handler, but does not exist.');
                b[Q](l, E, Nt)
            })
        }

        function he(b, l, E, L) {
            if (!n.isObject(E)) throw new Ie({
                message: "Bindings must be an object.",
                url: "marionette.functions.html#marionettebindevents"
            });
            n.each(E, function(Q, _e) {
                if (n.isString(Q)) {
                    we(b, l, _e, Q, L);
                    return
                }
                b[L](l, _e, Q)
            })
        }

        function ke(b, l) {
            return !b || !l ? this : (he(this, b, l, "listenTo"), this)
        }

        function Te(b, l) {
            return b ? l ? (he(this, b, l, "stopListening"), this) : (this.stopListening(b), this) : this
        }

        function Fe(b, l, E, L) {
            if (!n.isObject(E)) throw new Ie({
                message: "Bindings must be an object.",
                url: "marionette.functions.html#marionettebindrequests"
            });
            var Q = B.call(b, E);
            l[L](Q, b)
        }

        function rt(b, l) {
            return !b || !l ? this : (Fe(this, b, l, "reply"), this)
        }

        function Tt(b, l) {
            return b ? l ? (Fe(this, b, l, "stopReplying"), this) : (b.stopReplying(null, null, this), this) : this
        }
        var si = function(l) {
                this.options = n.extend({}, n.result(this, "options"), l)
            },
            jt = {
                normalizeMethods: B,
                _setOptions: si,
                mergeOptions: A,
                getOption: D,
                bindEvents: ke,
                unbindEvents: Te
            },
            k = {
                _initRadio: function() {
                    var l = n.result(this, "channelName");
                    if (l) {
                        if (!s) throw new Ie({
                            name: "BackboneRadioMissing",
                            message: 'The dependency "backbone.radio" is missing.'
                        });
                        var E = this._channel = s.channel(l),
                            L = n.result(this, "radioEvents");
                        this.bindEvents(E, L);
                        var Q = n.result(this, "radioRequests");
                        this.bindRequests(E, Q), this.on("destroy", this._destroyRadio)
                    }
                },
                _destroyRadio: function() {
                    this._channel.stopReplying(null, null, this)
                },
                getChannel: function() {
                    return this._channel
                },
                bindEvents: ke,
                unbindEvents: Te,
                bindRequests: rt,
                unbindRequests: Tt
            },
            c = ["channelName", "radioEvents", "radioRequests"],
            m = function(l) {
                this.hasOwnProperty("options") || this._setOptions(l), this.mergeOptions(l, c), this._setCid(), this._initRadio(), this.initialize.apply(this, arguments)
            };
        m.extend = y, n.extend(m.prototype, i.Events, jt, k, {
            cidPrefix: "mno",
            _isDestroyed: !1,
            isDestroyed: function() {
                return this._isDestroyed
            },
            initialize: function() {},
            _setCid: function() {
                this.cid || (this.cid = n.uniqueId(this.cidPrefix))
            },
            destroy: function() {
                if (this._isDestroyed) return this;
                for (var l = arguments.length, E = Array(l), L = 0; L < l; L++) E[L] = arguments[L];
                return this.triggerMethod.apply(this, ["before:destroy", this].concat(E)), this._isDestroyed = !0, this.triggerMethod.apply(this, ["destroy", this].concat(E)), this.stopListening(), this
            },
            triggerMethod: v
        });
        var T = function(l) {
            this.templateId = l
        };
        n.extend(T, {
            templateCaches: {},
            get: function(l, E) {
                var L = this.templateCaches[l];
                return L || (L = new T(l), this.templateCaches[l] = L), L.load(E)
            },
            clear: function() {
                for (var l = void 0, E = arguments.length, L = Array(E), Q = 0; Q < E; Q++) L[Q] = arguments[Q];
                var _e = L.length;
                if (_e > 0)
                    for (l = 0; l < _e; l++) delete this.templateCaches[L[l]];
                else this.templateCaches = {}
            }
        }), n.extend(T.prototype, {
            load: function(l) {
                if (this.compiledTemplate) return this.compiledTemplate;
                var E = this.loadTemplate(this.templateId, l);
                return this.compiledTemplate = this.compileTemplate(E, l), this.compiledTemplate
            },
            loadTemplate: function(l, E) {
                var L = i.$(l);
                if (!L.length) throw new Ie({
                    name: "NoTemplateError",
                    message: 'Could not find template: "' + l + '"'
                });
                return L.html()
            },
            compileTemplate: function(l, E) {
                return n.template(l, E)
            }
        });
        var R = n.invokeMap || n.invoke;

        function N(b, l) {
            return b.behaviorClass ? b.behaviorClass : n.isFunction(b) ? b : n.isFunction(tt.Behaviors.behaviorsLookup) ? tt.Behaviors.behaviorsLookup(b, l)[l] : tt.Behaviors.behaviorsLookup[l]
        }

        function F(b, l) {
            return n.chain(l).map(function(E, L) {
                var Q = N(E, L),
                    _e = E === Q ? {} : E,
                    Xe = new Q(_e, b),
                    Nt = F(b, n.result(Xe, "behaviors"));
                return [Xe].concat(Nt)
            }).flatten().value()
        }
        var re = {
                _initBehaviors: function() {
                    this._behaviors = this._getBehaviors()
                },
                _getBehaviors: function() {
                    var l = n.result(this, "behaviors");
                    return n.isObject(l) ? F(this, l) : {}
                },
                _getBehaviorTriggers: function() {
                    var l = R(this._behaviors, "getTriggers");
                    return n.reduce(l, function(E, L) {
                        return n.extend(E, L)
                    }, {})
                },
                _getBehaviorEvents: function() {
                    var l = R(this._behaviors, "getEvents");
                    return n.reduce(l, function(E, L) {
                        return n.extend(E, L)
                    }, {})
                },
                _proxyBehaviorViewProperties: function() {
                    R(this._behaviors, "proxyViewProperties")
                },
                _delegateBehaviorEntityEvents: function() {
                    R(this._behaviors, "delegateEntityEvents")
                },
                _undelegateBehaviorEntityEvents: function() {
                    R(this._behaviors, "undelegateEntityEvents")
                },
                _destroyBehaviors: function() {
                    for (var l = arguments.length, E = Array(l), L = 0; L < l; L++) E[L] = arguments[L];
                    R.apply(void 0, [this._behaviors, "destroy"].concat(E))
                },
                _removeBehavior: function(l) {
                    this._isDestroyed || (this.undelegate(".trig" + l.cid + " ." + l.cid), this._behaviors = n.without(this._behaviors, l))
                },
                _bindBehaviorUIElements: function() {
                    R(this._behaviors, "bindUIElements")
                },
                _unbindBehaviorUIElements: function() {
                    R(this._behaviors, "unbindUIElements")
                },
                _triggerEventOnBehaviors: function() {
                    for (var l = this._behaviors, E = 0, L = l && l.length; E < L; E++) v.apply(l[E], arguments)
                }
            },
            Ee = {
                _delegateEntityEvents: function(l, E) {
                    var L = n.result(this, "modelEvents");
                    L && (Te.call(this, l, L), ke.call(this, l, L));
                    var Q = n.result(this, "collectionEvents");
                    Q && (Te.call(this, E, Q), ke.call(this, E, Q))
                },
                _undelegateEntityEvents: function(l, E) {
                    var L = n.result(this, "modelEvents");
                    Te.call(this, l, L);
                    var Q = n.result(this, "collectionEvents");
                    Te.call(this, E, Q)
                }
            },
            se = /^(\S+)\s*(.*)$/,
            Oe = function(l, E) {
                var L = l.match(se);
                return L[1] + "." + E + " " + L[2]
            },
            Le = {
                childViewEventPrefix: !0,
                triggersStopPropagation: !0,
                triggersPreventDefault: !0
            };

        function gt(b) {
            return !!Le[b]
        }

        function ft(b, l) {
            return Le[b] = l
        }

        function Et(b, l) {
            n.isString(l) && (l = {
                event: l
            });
            var E = l.event,
                L = !!l.preventDefault;
            gt("triggersPreventDefault") && (L = l.preventDefault !== !1);
            var Q = !!l.stopPropagation;
            return gt("triggersStopPropagation") && (Q = l.stopPropagation !== !1),
                function(_e) {
                    L && _e.preventDefault(), Q && _e.stopPropagation(), b.triggerMethod(E, b, _e)
                }
        }
        var _t = {
                _getViewTriggers: function(l, E) {
                    var L = this;
                    return n.reduce(E, function(Q, _e, Xe) {
                        return Xe = Oe(Xe, "trig" + L.cid), Q[Xe] = Et(l, _e), Q
                    }, {})
                }
            },
            vt = function(l, E) {
                return n.reduce(l, function(L, Q, _e) {
                    var Xe = lt(_e, E);
                    return L[Xe] = Q, L
                }, {})
            },
            lt = function(l, E) {
                return l.replace(/@ui\.[a-zA-Z-_$0-9]*/g, function(L) {
                    return E[L.slice(4)]
                })
            },
            oi = function b(l, E, L) {
                return n.each(l, function(Q, _e) {
                    n.isString(Q) ? l[_e] = lt(Q, E) : n.isObject(Q) && n.isArray(L) && (n.extend(Q, b(n.pick(Q, L), E)), n.each(L, function(Xe) {
                        var Nt = Q[Xe];
                        n.isString(Nt) && (Q[Xe] = lt(Nt, E))
                    }))
                }), l
            },
            ai = {
                normalizeUIKeys: function(l) {
                    var E = this._getUIBindings();
                    return vt(l, E)
                },
                normalizeUIString: function(l) {
                    var E = this._getUIBindings();
                    return lt(l, E)
                },
                normalizeUIValues: function(l, E) {
                    var L = this._getUIBindings();
                    return oi(l, L, E)
                },
                _getUIBindings: function() {
                    var l = n.result(this, "_uiBindings"),
                        E = n.result(this, "ui");
                    return l || E
                },
                _bindUIElements: function() {
                    var l = this;
                    if (this.ui) {
                        this._uiBindings || (this._uiBindings = this.ui);
                        var E = n.result(this, "_uiBindings");
                        this._ui = {}, n.each(E, function(L, Q) {
                            l._ui[Q] = l.$(L)
                        }), this.ui = this._ui
                    }
                },
                _unbindUIElements: function() {
                    var l = this;
                    !this.ui || !this._uiBindings || (n.each(this.ui, function(E, L) {
                        delete l.ui[L]
                    }), this.ui = this._uiBindings, delete this._uiBindings, delete this._ui)
                },
                _getUI: function(l) {
                    return this._ui[l]
                }
            };

        function ui(b) {
            return b instanceof i.$ ? b : i.$(b)
        }

        function H(b) {
            return this.prototype.Dom = n.extend({}, this.prototype.Dom, b), this
        }
        var V = {
                createBuffer: function() {
                    return document.createDocumentFragment()
                },
                getEl: function(l) {
                    return ui(l)
                },
                findEl: function(l, E) {
                    var L = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : ui(l);
                    return L.find(E)
                },
                hasEl: function(l, E) {
                    return l.contains(E && E.parentNode)
                },
                detachEl: function(l) {
                    var E = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : ui(l);
                    E.detach()
                },
                replaceEl: function(l, E) {
                    if (l !== E) {
                        var L = E.parentNode;
                        L && L.replaceChild(l, E)
                    }
                },
                swapEl: function(l, E) {
                    if (l !== E) {
                        var L = l.parentNode,
                            Q = E.parentNode;
                        if (!(!L || !Q)) {
                            var _e = l.nextSibling,
                                Xe = E.nextSibling;
                            L.insertBefore(E, _e), Q.insertBefore(l, Xe)
                        }
                    }
                },
                setContents: function(l, E) {
                    var L = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : ui(l);
                    L.html(E)
                },
                appendContents: function(l, E) {
                    var L = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
                        Q = L._$el,
                        _e = Q === void 0 ? ui(l) : Q,
                        Xe = L._$contents,
                        Nt = Xe === void 0 ? ui(E) : Xe;
                    _e.append(Nt)
                },
                hasContents: function(l) {
                    return !!l && l.hasChildNodes()
                },
                detachContents: function(l) {
                    var E = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : ui(l);
                    E.contents().detach()
                }
            },
            Z = {
                Dom: V,
                supportsRenderLifecycle: !0,
                supportsDestroyLifecycle: !0,
                _isDestroyed: !1,
                isDestroyed: function() {
                    return !!this._isDestroyed
                },
                _isRendered: !1,
                isRendered: function() {
                    return !!this._isRendered
                },
                _isAttached: !1,
                isAttached: function() {
                    return !!this._isAttached
                },
                delegateEvents: function(l) {
                    this._proxyBehaviorViewProperties(), this._buildEventProxies();
                    var E = this._getEvents(l);
                    typeof l > "u" && (this.events = E);
                    var L = n.extend({}, this._getBehaviorEvents(), E, this._getBehaviorTriggers(), this.getTriggers());
                    return i.View.prototype.delegateEvents.call(this, L), this
                },
                _getEvents: function(l) {
                    var E = l || this.events;
                    return n.isFunction(E) ? this.normalizeUIKeys(E.call(this)) : this.normalizeUIKeys(E)
                },
                getTriggers: function() {
                    if (this.triggers) {
                        var l = this.normalizeUIKeys(n.result(this, "triggers"));
                        return this._getViewTriggers(this, l)
                    }
                },
                delegateEntityEvents: function() {
                    return this._delegateEntityEvents(this.model, this.collection), this._delegateBehaviorEntityEvents(), this
                },
                undelegateEntityEvents: function() {
                    return this._undelegateEntityEvents(this.model, this.collection), this._undelegateBehaviorEntityEvents(), this
                },
                destroy: function() {
                    if (this._isDestroyed) return this;
                    for (var l = this._isAttached && !this._shouldDisableEvents, E = arguments.length, L = Array(E), Q = 0; Q < E; Q++) L[Q] = arguments[Q];
                    return this.triggerMethod.apply(this, ["before:destroy", this].concat(L)), l && this.triggerMethod("before:detach", this), this.unbindUIElements(), this._removeElement(), l && (this._isAttached = !1, this.triggerMethod("detach", this)), this._removeChildren(), this._isDestroyed = !0, this._isRendered = !1, this._destroyBehaviors.apply(this, L), this.triggerMethod.apply(this, ["destroy", this].concat(L)), this.stopListening(), this
                },
                _removeElement: function() {
                    this.$el.off().removeData(), this.Dom.detachEl(this.el, this.$el)
                },
                bindUIElements: function() {
                    return this._bindUIElements(), this._bindBehaviorUIElements(), this
                },
                unbindUIElements: function() {
                    return this._unbindUIElements(), this._unbindBehaviorUIElements(), this
                },
                getUI: function(l) {
                    return this._getUI(l)
                },
                childViewEventPrefix: function() {
                    return gt("childViewEventPrefix") ? "childview" : !1
                },
                triggerMethod: function() {
                    var l = v.apply(this, arguments);
                    return this._triggerEventOnBehaviors.apply(this, arguments), l
                },
                _buildEventProxies: function() {
                    this._childViewEvents = n.result(this, "childViewEvents"), this._childViewTriggers = n.result(this, "childViewTriggers")
                },
                _proxyChildViewEvents: function(l) {
                    this.listenTo(l, "all", this._childViewEventHandler)
                },
                _childViewEventHandler: function(l) {
                    for (var E = this.normalizeMethods(this._childViewEvents), L = arguments.length, Q = Array(L > 1 ? L - 1 : 0), _e = 1; _e < L; _e++) Q[_e - 1] = arguments[_e];
                    typeof E < "u" && n.isFunction(E[l]) && E[l].apply(this, Q);
                    var Xe = this._childViewTriggers;
                    Xe && n.isString(Xe[l]) && this.triggerMethod.apply(this, [Xe[l]].concat(Q));
                    var Nt = n.result(this, "childViewEventPrefix");
                    if (Nt !== !1) {
                        var Yt = Nt + ":" + l;
                        this.triggerMethod.apply(this, [Yt].concat(Q))
                    }
                }
            };
        n.extend(Z, re, jt, Ee, _t, ai);

        function P(b) {
            b._isRendered || (b.supportsRenderLifecycle || $(b, "before:render", b), b.render(), b.supportsRenderLifecycle || (b._isRendered = !0, $(b, "render", b)))
        }

        function Y(b) {
            if (b.destroy) {
                b.destroy();
                return
            }
            b.supportsDestroyLifecycle || $(b, "before:destroy", b);
            var l = b._isAttached && !b._shouldDisableEvents;
            l && $(b, "before:detach", b), b.remove(), l && (b._isAttached = !1, $(b, "detach", b)), b._isDestroyed = !0, b.supportsDestroyLifecycle || $(b, "destroy", b)
        }
        var ge = ["allowMissingEl", "parentEl", "replaceElement"],
            be = m.extend({
                Dom: V,
                cidPrefix: "mnr",
                replaceElement: !1,
                _isReplaced: !1,
                _isSwappingView: !1,
                constructor: function(l) {
                    if (this._setOptions(l), this.mergeOptions(l, ge), this._initEl = this.el = this.getOption("el"), this.el = this.el instanceof i.$ ? this.el[0] : this.el, !this.el) throw new Ie({
                        name: "NoElError",
                        message: 'An "el" must be specified for a region.'
                    });
                    this.$el = this.getEl(this.el), m.call(this, l)
                },
                show: function(l, E) {
                    if (this._ensureElement(E)) return l = this._getView(l, E), l === this.currentView ? this : (this._isSwappingView = !!this.currentView, this.triggerMethod("before:show", this, l, E), l._isAttached || this.empty(E), this._setupChildView(l), this.currentView = l, P(l), this._attachView(l, E), this.triggerMethod("show", this, l, E), this._isSwappingView = !1, this)
                },
                _setupChildView: function(l) {
                    le(l), this._proxyChildViewEvents(l), l.on("destroy", this._empty, this)
                },
                _proxyChildViewEvents: function(l) {
                    var E = this._parentView;
                    E && E._proxyChildViewEvents(l)
                },
                _shouldDisableMonitoring: function() {
                    return this._parentView && this._parentView.monitorViewEvents === !1
                },
                _attachView: function(l) {
                    var E = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                        L = !l._isAttached && x(this.el) && !this._shouldDisableMonitoring(),
                        Q = typeof E.replaceElement > "u" ? !!n.result(this, "replaceElement") : !!E.replaceElement;
                    L && $(l, "before:attach", l), Q ? this._replaceEl(l) : this.attachHtml(l), L && (l._isAttached = !0, $(l, "attach", l))
                },
                _ensureElement: function() {
                    var l = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
                    if (n.isObject(this.el) || (this.$el = this.getEl(this.el), this.el = this.$el[0], this.$el = this.Dom.getEl(this.el)), !this.$el || this.$el.length === 0) {
                        var E = typeof l.allowMissingEl > "u" ? !!n.result(this, "allowMissingEl") : !!l.allowMissingEl;
                        if (E) return !1;
                        throw new Ie('An "el" must exist in DOM for this region ' + this.cid)
                    }
                    return !0
                },
                _getView: function(l) {
                    if (!l) throw new Ie({
                        name: "ViewNotValid",
                        message: "The view passed is undefined and therefore invalid. You must pass a view instance to show."
                    });
                    if (l._isDestroyed) throw new Ie({
                        name: "ViewDestroyedError",
                        message: 'View (cid: "' + l.cid + '") has already been destroyed and cannot be used.'
                    });
                    if (l instanceof i.View) return l;
                    var E = this._getViewOptions(l);
                    return new Ui(E)
                },
                _getViewOptions: function(l) {
                    if (n.isFunction(l)) return {
                        template: l
                    };
                    if (n.isObject(l)) return l;
                    var E = function() {
                        return l
                    };
                    return {
                        template: E
                    }
                },
                getEl: function(l) {
                    var E = n.result(this, "parentEl");
                    return E && n.isString(l) ? this.Dom.findEl(E, l) : this.Dom.getEl(l)
                },
                _replaceEl: function(l) {
                    this._restoreEl(), l.on("before:destroy", this._restoreEl, this), this.Dom.replaceEl(l.el, this.el), this._isReplaced = !0
                },
                _restoreEl: function() {
                    if (this._isReplaced) {
                        var l = this.currentView;
                        l && (this._detachView(l), this._isReplaced = !1)
                    }
                },
                isReplaced: function() {
                    return !!this._isReplaced
                },
                isSwappingView: function() {
                    return !!this._isSwappingView
                },
                attachHtml: function(l) {
                    this.Dom.appendContents(this.el, l.el, {
                        _$el: this.$el,
                        _$contents: l.$el
                    })
                },
                empty: function() {
                    var l = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {
                            allowMissingEl: !0
                        },
                        E = this.currentView;
                    if (!E) return this._ensureElement(l) && this.detachHtml(), this;
                    var L = !l.preventDestroy;
                    return L || w("The preventDestroy option is deprecated. Use Region#detachView"), this._empty(E, L), this
                },
                _empty: function(l, E) {
                    l.off("destroy", this._empty, this), this.triggerMethod("before:empty", this, l), this._restoreEl(), delete this.currentView, l._isDestroyed || (E ? this.removeView(l) : this._detachView(l), this._stopChildViewEvents(l)), this.triggerMethod("empty", this, l)
                },
                _stopChildViewEvents: function(l) {
                    var E = this._parentView;
                    E && this._parentView.stopListening(l)
                },
                destroyView: function(l) {
                    return l._isDestroyed || (l._shouldDisableEvents = this._shouldDisableMonitoring(), Y(l)), l
                },
                removeView: function(l) {
                    this.destroyView(l)
                },
                detachView: function() {
                    var l = this.currentView;
                    if (l) return this._empty(l), l
                },
                _detachView: function(l) {
                    var E = l._isAttached && !this._shouldDisableMonitoring(),
                        L = this._isReplaced;
                    E && $(l, "before:detach", l), L ? this.Dom.replaceEl(this.el, l.el) : this.detachHtml(), E && (l._isAttached = !1, $(l, "detach", l))
                },
                detachHtml: function() {
                    this.Dom.detachContents(this.el, this.$el)
                },
                hasView: function() {
                    return !!this.currentView
                },
                reset: function(l) {
                    return this.empty(l), this.$el && (this.el = this._initEl), delete this.$el, this
                },
                destroy: function(l) {
                    return this._isDestroyed ? this : (this.reset(l), this._name && this._parentView._removeReferences(this._name), delete this._parentView, delete this._name, m.prototype.destroy.apply(this, arguments))
                }
            }, {
                setDomApi: H
            }),
            Ne = function(b, l) {
                return b instanceof be ? b : Be(b, l)
            };

        function Be(b, l) {
            var E = n.extend({}, l);
            if (n.isString(b)) return n.extend(E, {
                el: b
            }), ht(E);
            if (n.isFunction(b)) return n.extend(E, {
                regionClass: b
            }), ht(E);
            if (n.isObject(b)) return b.selector && w("The selector option on a Region definition object is deprecated. Use el to pass a selector string"), n.extend(E, {
                el: b.selector
            }, b), ht(E);
            throw new Ie({
                message: "Improper region configuration type.",
                url: "marionette.region.html#region-configuration-types"
            })
        }

        function ht(b) {
            var l = b.regionClass,
                E = n.omit(b, "regionClass");
            return new l(E)
        }
        var Zt = {
                regionClass: be,
                _initRegions: function() {
                    this.regions = this.regions || {}, this._regions = {}, this.addRegions(n.result(this, "regions"))
                },
                _reInitRegions: function() {
                    R(this._regions, "reset")
                },
                addRegion: function(l, E) {
                    var L = {};
                    return L[l] = E, this.addRegions(L)[l]
                },
                addRegions: function(l) {
                    if (!n.isEmpty(l)) return l = this.normalizeUIValues(l, ["selector", "el"]), this.regions = n.extend({}, this.regions, l), this._addRegions(l)
                },
                _addRegions: function(l) {
                    var E = this,
                        L = {
                            regionClass: this.regionClass,
                            parentEl: n.partial(n.result, this, "el")
                        };
                    return n.reduce(l, function(Q, _e, Xe) {
                        return Q[Xe] = Ne(_e, L), E._addRegion(Q[Xe], Xe), Q
                    }, {})
                },
                _addRegion: function(l, E) {
                    this.triggerMethod("before:add:region", this, E, l), l._parentView = this, l._name = E, this._regions[E] = l, this.triggerMethod("add:region", this, E, l)
                },
                removeRegion: function(l) {
                    var E = this._regions[l];
                    return this._removeRegion(E, l), E
                },
                removeRegions: function() {
                    var l = this._getRegions();
                    return n.each(this._regions, n.bind(this._removeRegion, this)), l
                },
                _removeRegion: function(l, E) {
                    this.triggerMethod("before:remove:region", this, E, l), l.destroy(), this.triggerMethod("remove:region", this, E, l)
                },
                _removeReferences: function(l) {
                    delete this.regions[l], delete this._regions[l]
                },
                emptyRegions: function() {
                    var l = this.getRegions();
                    return R(l, "empty"), l
                },
                hasRegion: function(l) {
                    return !!this.getRegion(l)
                },
                getRegion: function(l) {
                    return this._isRendered || this.render(), this._regions[l]
                },
                _getRegions: function() {
                    return n.clone(this._regions)
                },
                getRegions: function() {
                    return this._isRendered || this.render(), this._getRegions()
                },
                showChildView: function(l, E) {
                    for (var L = this.getRegion(l), Q = arguments.length, _e = Array(Q > 2 ? Q - 2 : 0), Xe = 2; Xe < Q; Xe++) _e[Xe - 2] = arguments[Xe];
                    return L.show.apply(L, [E].concat(_e))
                },
                detachChildView: function(l) {
                    return this.getRegion(l).detachView()
                },
                getChildView: function(l) {
                    return this.getRegion(l).currentView
                }
            },
            Ze = {
                render: function(l, E) {
                    if (!l) throw new Ie({
                        name: "TemplateNotFoundError",
                        message: "Cannot render the template since its false, null or undefined."
                    });
                    var L = n.isFunction(l) ? l : T.get(l);
                    return L(E)
                }
            },
            qi = ["behaviors", "childViewEventPrefix", "childViewEvents", "childViewTriggers", "collectionEvents", "events", "modelEvents", "regionClass", "regions", "template", "templateContext", "triggers", "ui"],
            Ui = i.View.extend({
                constructor: function(l) {
                    this.render = n.bind(this.render, this), this._setOptions(l), this.mergeOptions(l, qi), le(this), this._initBehaviors(), this._initRegions();
                    var E = Array.prototype.slice.call(arguments);
                    E[0] = this.options, i.View.prototype.constructor.apply(this, E), this.delegateEntityEvents(), this._triggerEventOnBehaviors("initialize", this)
                },
                serializeData: function() {
                    return !this.model && !this.collection ? {} : this.model ? this.serializeModel() : {
                        items: this.serializeCollection()
                    }
                },
                serializeModel: function() {
                    return this.model ? n.clone(this.model.attributes) : {}
                },
                serializeCollection: function() {
                    return this.collection ? this.collection.map(function(l) {
                        return n.clone(l.attributes)
                    }) : {}
                },
                setElement: function() {
                    return i.View.prototype.setElement.apply(this, arguments), this._isRendered = this.Dom.hasContents(this.el), this._isAttached = x(this.el), this._isRendered && this.bindUIElements(), this
                },
                render: function() {
                    return this._isDestroyed ? this : (this.triggerMethod("before:render", this), this._isRendered && this._reInitRegions(), this._renderTemplate(), this.bindUIElements(), this._isRendered = !0, this.triggerMethod("render", this), this)
                },
                _renderTemplate: function() {
                    var l = this.getTemplate();
                    if (l === !1) {
                        w("template:false is deprecated.  Use _.noop.");
                        return
                    }
                    var E = this.mixinTemplateContext(this.serializeData()),
                        L = this._renderHtml(l, E);
                    this.attachElContent(L)
                },
                _renderHtml: function(l, E) {
                    return Ze.render(l, E, this)
                },
                getTemplate: function() {
                    return this.template
                },
                mixinTemplateContext: function() {
                    var l = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},
                        E = n.result(this, "templateContext");
                    return n.extend(l, E)
                },
                attachElContent: function(l) {
                    return this.Dom.setContents(this.el, l, this.$el), this
                },
                _removeChildren: function() {
                    this.removeRegions()
                },
                _getImmediateChildren: function() {
                    return n.chain(this._getRegions()).map("currentView").compact().value()
                }
            }, {
                setRenderer: function(l) {
                    return this.prototype._renderHtml = l, this
                },
                setDomApi: H
            });
        n.extend(Ui.prototype, Z, Zt);
        var zi = ["forEach", "each", "map", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "toArray", "first", "initial", "rest", "last", "without", "isEmpty", "pluck", "reduce", "partition"],
            Ai = function(l, E) {
                n.each(zi, function(L) {
                    l[L] = function() {
                        var Q = n.result(this, E),
                            _e = Array.prototype.slice.call(arguments);
                        return n[L].apply(n, [Q].concat(_e))
                    }
                })
            },
            Un = function(l) {
                this._views = {}, this._indexByModel = {}, this._indexByCustom = {}, this._updateLength(), n.each(l, n.bind(this.add, this))
            };
        Ai(Un.prototype, "_getViews"), n.extend(Un.prototype, {
            _getViews: function() {
                return n.values(this._views)
            },
            add: function(l, E) {
                return this._add(l, E)._updateLength()
            },
            _add: function(l, E) {
                var L = l.cid;
                return this._views[L] = l, l.model && (this._indexByModel[l.model.cid] = L), E && (this._indexByCustom[E] = L), this
            },
            findByModel: function(l) {
                return this.findByModelCid(l.cid)
            },
            findByModelCid: function(l) {
                var E = this._indexByModel[l];
                return this.findByCid(E)
            },
            findByCustom: function(l) {
                var E = this._indexByCustom[l];
                return this.findByCid(E)
            },
            findByIndex: function(l) {
                return n.values(this._views)[l]
            },
            findByCid: function(l) {
                return this._views[l]
            },
            remove: function(l) {
                return this._remove(l)._updateLength()
            },
            _remove: function(l) {
                var E = l.cid;
                return l.model && delete this._indexByModel[l.model.cid], n.some(this._indexByCustom, n.bind(function(L, Q) {
                    if (L === E) return delete this._indexByCustom[Q], !0
                }, this)), delete this._views[E], this
            },
            _updateLength: function() {
                return this.length = n.size(this._views), this
            }
        });
        var ns = ["behaviors", "childView", "childViewEventPrefix", "childViewEvents", "childViewOptions", "childViewTriggers", "collectionEvents", "events", "filter", "emptyView", "emptyViewOptions", "modelEvents", "reorderOnSort", "sort", "triggers", "ui", "viewComparator"],
            hi = i.View.extend({
                sort: !0,
                constructor: function(l) {
                    this.render = n.bind(this.render, this), this._setOptions(l), this.mergeOptions(l, ns), le(this), this._initBehaviors(), this.once("render", this._initialEvents), this._initChildViewStorage(), this._bufferedChildren = [];
                    var E = Array.prototype.slice.call(arguments);
                    E[0] = this.options, i.View.prototype.constructor.apply(this, E), this.delegateEntityEvents(), this._triggerEventOnBehaviors("initialize", this)
                },
                _startBuffering: function() {
                    this._isBuffering = !0
                },
                _endBuffering: function() {
                    var l = this._isAttached && this.monitorViewEvents !== !1,
                        E = l ? this._getImmediateChildren() : [];
                    this._isBuffering = !1, n.each(E, function(L) {
                        $(L, "before:attach", L)
                    }), this.attachBuffer(this, this._createBuffer()), n.each(E, function(L) {
                        L._isAttached = !0, $(L, "attach", L)
                    }), this._bufferedChildren = []
                },
                _getImmediateChildren: function() {
                    return n.values(this.children._views)
                },
                _initialEvents: function() {
                    this.collection && (this.listenTo(this.collection, "add", this._onCollectionAdd), this.listenTo(this.collection, "update", this._onCollectionUpdate), this.listenTo(this.collection, "reset", this.render), this.sort && this.listenTo(this.collection, "sort", this._sortViews))
                },
                _onCollectionAdd: function(l, E, L) {
                    var Q = L.at !== void 0 && (L.index || E.indexOf(l));
                    (this.filter || Q === !1) && (Q = n.indexOf(this._filteredSortedModels(Q), l)), this._shouldAddChild(l, Q) && (this._destroyEmptyView(), this._addChild(l, Q))
                },
                _onCollectionUpdate: function(l, E) {
                    var L = E.changes;
                    this._removeChildModels(L.removed)
                },
                _removeChildModels: function(l) {
                    var E = this._getRemovedViews(l);
                    E.length && (this.children._updateLength(), this._updateIndices(E, !1), this.isEmpty() && this._showEmptyView())
                },
                _getRemovedViews: function(l) {
                    var E = this;
                    return n.reduce(l, function(L, Q) {
                        var _e = Q && E.children.findByModel(Q);
                        return !_e || _e._isDestroyed || (E._removeChildView(_e), L.push(_e)), L
                    }, [])
                },
                _removeChildView: function(l) {
                    this.triggerMethod("before:remove:child", this, l), this.children._remove(l), l._shouldDisableEvents = this.monitorViewEvents === !1, Y(l), this.stopListening(l), this.triggerMethod("remove:child", this, l)
                },
                setElement: function() {
                    return i.View.prototype.setElement.apply(this, arguments), this._isAttached = x(this.el), this
                },
                render: function() {
                    return this._isDestroyed ? this : (this.triggerMethod("before:render", this), this._renderChildren(), this._isRendered = !0, this.triggerMethod("render", this), this)
                },
                setFilter: function(l) {
                    var E = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                        L = E.preventRender,
                        Q = this._isRendered && !this._isDestroyed,
                        _e = this.filter !== l,
                        Xe = Q && _e && !L;
                    if (Xe) {
                        var Nt = this._filteredSortedModels();
                        this.filter = l;
                        var Yt = this._filteredSortedModels();
                        this._applyModelDeltas(Yt, Nt)
                    } else this.filter = l;
                    return this
                },
                removeFilter: function(l) {
                    return this.setFilter(null, l)
                },
                _applyModelDeltas: function(l, E) {
                    var L = this,
                        Q = {};
                    n.each(l, function(Xe, Nt) {
                        var Yt = !L.children.findByModel(Xe);
                        Yt && L._onCollectionAdd(Xe, L.collection, {
                            at: Nt
                        }), Q[Xe.cid] = !0
                    });
                    var _e = n.filter(E, function(Xe) {
                        return !Q[Xe.cid] && L.children.findByModel(Xe)
                    });
                    this._removeChildModels(_e)
                },
                reorder: function() {
                    var l = this,
                        E = this.children,
                        L = this._filteredSortedModels();
                    if (!L.length && this._showingEmptyView) return this;
                    var Q = n.some(L, function(Yt) {
                        return !E.findByModel(Yt)
                    });
                    if (Q) this.render();
                    else {
                        var _e = [],
                            Xe = n.reduce(this.children._views, function(Yt, an) {
                                var kn = n.indexOf(L, an.model);
                                return kn === -1 ? (_e.push(an.model), Yt) : (an._index = kn, Yt[kn] = an.el, Yt)
                            }, new Array(L.length));
                        this.triggerMethod("before:reorder", this);
                        var Nt = this.Dom.createBuffer();
                        n.each(Xe, function(Yt) {
                            l.Dom.appendContents(Nt, Yt)
                        }), this._appendReorderedChildren(Nt), this._removeChildModels(_e), this.triggerMethod("reorder", this)
                    }
                    return this
                },
                resortView: function() {
                    return this.reorderOnSort ? this.reorder() : this._renderChildren(), this
                },
                _sortViews: function() {
                    var l = this,
                        E = this._filteredSortedModels(),
                        L = n.find(E, function(Q, _e) {
                            var Xe = l.children.findByModel(Q);
                            return !Xe || Xe._index !== _e
                        });
                    L && this.resortView()
                },
                _emptyViewIndex: -1,
                _appendReorderedChildren: function(l) {
                    this.Dom.appendContents(this.el, l, {
                        _$el: this.$el
                    })
                },
                _renderChildren: function() {
                    this._isRendered && (this._destroyEmptyView(), this._destroyChildren());
                    var l = this._filteredSortedModels();
                    this.isEmpty({
                        processedModels: l
                    }) ? this._showEmptyView() : (this.triggerMethod("before:render:children", this), this._startBuffering(), this._showCollection(l), this._endBuffering(), this.triggerMethod("render:children", this))
                },
                _createView: function(l, E) {
                    var L = this._getChildView(l),
                        Q = this._getChildViewOptions(l, E),
                        _e = this.buildChildView(l, L, Q);
                    return _e
                },
                _setupChildView: function(l, E) {
                    le(l), this._proxyChildViewEvents(l), this.sort && (l._index = E)
                },
                _showCollection: function(l) {
                    n.each(l, n.bind(this._addChild, this)), this.children._updateLength()
                },
                _filteredSortedModels: function(l) {
                    if (!this.collection || !this.collection.length) return [];
                    var E = this.getViewComparator(),
                        L = this.collection.models;
                    if (l = Math.min(Math.max(l, 0), L.length - 1), E) {
                        var Q = void 0;
                        l && (Q = L[l], L = L.slice(0, l).concat(L.slice(l + 1))), L = this._sortModelsBy(L, E), Q && L.splice(l, 0, Q)
                    }
                    return L = this._filterModels(L), L
                },
                getViewComparator: function() {
                    return this.viewComparator
                },
                _filterModels: function(l) {
                    var E = this;
                    return this.filter && (l = n.filter(l, function(L, Q) {
                        return E._shouldAddChild(L, Q)
                    })), l
                },
                _sortModelsBy: function(l, E) {
                    return typeof E == "string" ? n.sortBy(l, function(L) {
                        return L.get(E)
                    }) : E.length === 1 ? n.sortBy(l, n.bind(E, this)) : n.clone(l).sort(n.bind(E, this))
                },
                _showEmptyView: function() {
                    var l = this._getEmptyView();
                    if (l && !this._showingEmptyView) {
                        this._showingEmptyView = !0;
                        var E = new i.Model,
                            L = this.emptyViewOptions || this.childViewOptions;
                        n.isFunction(L) && (L = L.call(this, E, this._emptyViewIndex));
                        var Q = this.buildChildView(E, l, L);
                        this.triggerMethod("before:render:empty", this, Q), this.addChildView(Q, 0), this.triggerMethod("render:empty", this, Q)
                    }
                },
                _destroyEmptyView: function() {
                    this._showingEmptyView && (this.triggerMethod("before:remove:empty", this), this._destroyChildren(), delete this._showingEmptyView, this.triggerMethod("remove:empty", this))
                },
                _getEmptyView: function() {
                    var l = this.emptyView;
                    if (l) return this._getView(l)
                },
                _getChildView: function(l) {
                    var E = this.childView;
                    if (!E) throw new Ie({
                        name: "NoChildViewError",
                        message: 'A "childView" must be specified'
                    });
                    if (E = this._getView(E, l), !E) throw new Ie({
                        name: "InvalidChildViewError",
                        message: '"childView" must be a view class or a function that returns a view class'
                    });
                    return E
                },
                _getView: function(l, E) {
                    if (l.prototype instanceof i.View || l === i.View) return l;
                    if (n.isFunction(l)) return l.call(this, E)
                },
                _addChild: function(l, E) {
                    var L = this._createView(l, E);
                    return this.addChildView(L, E), L
                },
                _getChildViewOptions: function(l, E) {
                    return n.isFunction(this.childViewOptions) ? this.childViewOptions(l, E) : this.childViewOptions
                },
                addChildView: function(l, E) {
                    return this.triggerMethod("before:add:child", this, l), this._setupChildView(l, E), this._isBuffering ? this.children._add(l) : (this._updateIndices(l, !0), this.children.add(l)), P(l), this._attachView(l, E), this.triggerMethod("add:child", this, l), l
                },
                _updateIndices: function(l, E) {
                    if (this.sort) {
                        if (!E) {
                            n.each(n.sortBy(this.children._views, "_index"), function(Q, _e) {
                                Q._index = _e
                            });
                            return
                        }
                        var L = n.isArray(l) ? n.max(l, "_index") : l;
                        n.isObject(L) && n.each(this.children._views, function(Q) {
                            Q._index >= L._index && (Q._index += 1)
                        })
                    }
                },
                _attachView: function(l, E) {
                    var L = !l._isAttached && !this._isBuffering && this._isAttached && this.monitorViewEvents !== !1;
                    L && $(l, "before:attach", l), this.attachHtml(this, l, E), L && (l._isAttached = !0, $(l, "attach", l))
                },
                buildChildView: function(l, E, L) {
                    var Q = n.extend({
                        model: l
                    }, L);
                    return new E(Q)
                },
                removeChildView: function(l) {
                    return !l || l._isDestroyed || (this._removeChildView(l), this.children._updateLength(), this._updateIndices(l, !1)), l
                },
                isEmpty: function(l) {
                    var E = void 0;
                    return n.result(l, "processedModels") ? E = l.processedModels : (E = this.collection ? this.collection.models : [], E = this._filterModels(E)), E.length === 0
                },
                attachBuffer: function(l, E) {
                    this.Dom.appendContents(l.el, E, {
                        _$el: l.$el
                    })
                },
                _createBuffer: function() {
                    var l = this,
                        E = this.Dom.createBuffer();
                    return n.each(this._bufferedChildren, function(L) {
                        l.Dom.appendContents(E, L.el, {
                            _$contents: L.$el
                        })
                    }), E
                },
                attachHtml: function(l, E, L) {
                    l._isBuffering ? l._bufferedChildren.splice(L, 0, E) : l._insertBefore(E, L) || l._insertAfter(E)
                },
                _insertBefore: function(l, E) {
                    var L = void 0,
                        Q = this.sort && E < this.children.length - 1;
                    return Q && (L = n.find(this.children._views, function(_e) {
                        return _e._index === E + 1
                    })), L ? (this.beforeEl(L.el, l.el), !0) : !1
                },
                beforeEl: function(l, E) {
                    this.$(l).before(E)
                },
                _insertAfter: function(l) {
                    this.Dom.appendContents(this.el, l.el, {
                        _$el: this.$el,
                        _$contents: l.$el
                    })
                },
                _initChildViewStorage: function() {
                    this.children = new Un
                },
                _removeChildren: function() {
                    this._destroyChildren()
                },
                _destroyChildren: function(l) {
                    this.children.length && (this.triggerMethod("before:destroy:children", this), n.each(this.children._views, n.bind(this._removeChildView, this)), this.children._updateLength(), this.triggerMethod("destroy:children", this))
                },
                _shouldAddChild: function(l, E) {
                    var L = this.filter;
                    return !n.isFunction(L) || L.call(this, l, E, this.collection)
                }
            }, {
                setDomApi: H
            });
        n.extend(hi.prototype, Z);
        var Hi = function() {
            this._init()
        };
        Ai(Hi.prototype, "_views");

        function rs(b, l) {
            return l.model && l.model.get(b)
        }
        n.extend(Hi.prototype, {
            _init: function() {
                this._views = [], this._viewsByCid = {}, this._indexByModel = {}, this._updateLength()
            },
            _add: function(l) {
                var E = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this._views.length,
                    L = l.cid;
                this._viewsByCid[L] = l, l.model && (this._indexByModel[l.model.cid] = L), this._views.splice(E, 0, l), this._updateLength()
            },
            _sort: function(l, E) {
                return typeof l == "string" ? (l = n.partial(rs, l), this._sortBy(l)) : l.length === 1 ? this._sortBy(n.bind(l, E)) : this._views.sort(n.bind(l, E))
            },
            _sortBy: function(l) {
                var E = n.sortBy(this._views, l);
                return this._set(E), E
            },
            _set: function(l) {
                this._views.length = 0, this._views.push.apply(this._views, l.slice(0)), this._updateLength()
            },
            _swap: function(l, E) {
                var L = this.findIndexByView(l),
                    Q = this.findIndexByView(E);
                if (!(L === -1 || Q === -1)) {
                    var _e = this._views[L];
                    this._views[L] = this._views[Q], this._views[Q] = _e
                }
            },
            findByModel: function(l) {
                return this.findByModelCid(l.cid)
            },
            findByModelCid: function(l) {
                var E = this._indexByModel[l];
                return this.findByCid(E)
            },
            findByIndex: function(l) {
                return this._views[l]
            },
            findIndexByView: function(l) {
                return this._views.indexOf(l)
            },
            findByCid: function(l) {
                return this._viewsByCid[l]
            },
            hasView: function(l) {
                return !!this.findByCid(l.cid)
            },
            _remove: function(l) {
                if (this._viewsByCid[l.cid]) {
                    l.model && delete this._indexByModel[l.model.cid], delete this._viewsByCid[l.cid];
                    var E = this.findIndexByView(l);
                    this._views.splice(E, 1), this._updateLength()
                }
            },
            _updateLength: function() {
                this.length = this._views.length
            }
        });
        var ss = ["behaviors", "childView", "childViewEventPrefix", "childViewEvents", "childViewOptions", "childViewTriggers", "collectionEvents", "emptyView", "emptyViewOptions", "events", "modelEvents", "sortWithCollection", "triggers", "ui", "viewComparator", "viewFilter"],
            zn = i.View.extend({
                sortWithCollection: !0,
                constructor: function(l) {
                    this._setOptions(l), this.mergeOptions(l, ss), le(this), this.once("render", this._initialEvents), this._initChildViewStorage(), this._initBehaviors();
                    var E = Array.prototype.slice.call(arguments);
                    E[0] = this.options, i.View.prototype.constructor.apply(this, E), this.getEmptyRegion(), this.delegateEntityEvents(), this._triggerEventOnBehaviors("initialize", this)
                },
                _initChildViewStorage: function() {
                    this.children = new Hi
                },
                getEmptyRegion: function() {
                    return this._emptyRegion && !this._emptyRegion.isDestroyed() ? this._emptyRegion : (this._emptyRegion = new be({
                        el: this.el,
                        replaceElement: !1
                    }), this._emptyRegion._parentView = this, this._emptyRegion)
                },
                _initialEvents: function() {
                    this.listenTo(this.collection, {
                        sort: this._onCollectionSort,
                        reset: this._onCollectionReset,
                        update: this._onCollectionUpdate
                    })
                },
                _onCollectionSort: function(l, E) {
                    var L = E.add,
                        Q = E.merge,
                        _e = E.remove;
                    !this.sortWithCollection || this.viewComparator === !1 || L || _e || Q || this.sort()
                },
                _onCollectionReset: function() {
                    this.render()
                },
                _onCollectionUpdate: function(l, E) {
                    var L = E.changes,
                        Q = L.removed.length && this._removeChildModels(L.removed);
                    this._addedViews = L.added.length && this._addChildModels(L.added), this._detachChildren(Q), this._showChildren(), this._removeChildViews(Q)
                },
                _removeChildModels: function(l) {
                    var E = this;
                    return n.reduce(l, function(L, Q) {
                        var _e = E._removeChildModel(Q);
                        return _e && L.push(_e), L
                    }, [])
                },
                _removeChildModel: function(l) {
                    var E = this.children.findByModel(l);
                    return E && this._removeChild(E), E
                },
                _removeChild: function(l) {
                    this.triggerMethod("before:remove:child", this, l), this.children._remove(l), this.triggerMethod("remove:child", this, l)
                },
                _addChildModels: function(l) {
                    return n.map(l, n.bind(this._addChildModel, this))
                },
                _addChildModel: function(l) {
                    var E = this._createChildView(l);
                    return this._addChild(E), E
                },
                _createChildView: function(l) {
                    var E = this._getChildView(l),
                        L = this._getChildViewOptions(l),
                        Q = this.buildChildView(l, E, L);
                    return Q
                },
                _addChild: function(l, E) {
                    this.triggerMethod("before:add:child", this, l), this._setupChildView(l), this.children._add(l, E), this.triggerMethod("add:child", this, l)
                },
                _getChildView: function(l) {
                    var E = this.childView;
                    if (!E) throw new Ie({
                        name: "NoChildViewError",
                        message: 'A "childView" must be specified'
                    });
                    if (E = this._getView(E, l), !E) throw new Ie({
                        name: "InvalidChildViewError",
                        message: '"childView" must be a view class or a function that returns a view class'
                    });
                    return E
                },
                _getView: function(l, E) {
                    if (l.prototype instanceof i.View || l === i.View) return l;
                    if (n.isFunction(l)) return l.call(this, E)
                },
                _getChildViewOptions: function(l) {
                    return n.isFunction(this.childViewOptions) ? this.childViewOptions(l) : this.childViewOptions
                },
                buildChildView: function(l, E, L) {
                    var Q = n.extend({
                        model: l
                    }, L);
                    return new E(Q)
                },
                _setupChildView: function(l) {
                    le(l), l.on("destroy", this.removeChildView, this), this._proxyChildViewEvents(l)
                },
                _getImmediateChildren: function() {
                    return this.children._views
                },
                setElement: function() {
                    return i.View.prototype.setElement.apply(this, arguments), this._isAttached = x(this.el), this
                },
                render: function() {
                    return this._isDestroyed ? this : (this.triggerMethod("before:render", this), this._destroyChildren(), this.children._init(), this.collection && this._addChildModels(this.collection.models), this._showChildren(), this._isRendered = !0, this.triggerMethod("render", this), this)
                },
                sort: function() {
                    return this._isDestroyed ? this : this.children.length ? (this._showChildren(), this) : this
                },
                _showChildren: function() {
                    if (this.isEmpty()) {
                        this._showEmptyView();
                        return
                    }
                    this._sortChildren(), this.filter()
                },
                isEmpty: function(l) {
                    return l || !this.children.length
                },
                _showEmptyView: function() {
                    var l = this._getEmptyView();
                    if (l) {
                        var E = this._getEmptyViewOptions(),
                            L = this.getEmptyRegion();
                        L.show(new l(E))
                    }
                },
                _getEmptyView: function() {
                    var l = this.emptyView;
                    if (l) return this._getView(l)
                },
                _destroyEmptyView: function() {
                    var l = this.getEmptyRegion();
                    l.hasView() && l.empty()
                },
                _getEmptyViewOptions: function() {
                    var l = this.emptyViewOptions || this.childViewOptions;
                    return n.isFunction(l) ? l.call(this) : l
                },
                _sortChildren: function() {
                    var l = this.getComparator();
                    l && (delete this._addedViews, this.triggerMethod("before:sort", this), this.children._sort(l, this), this.triggerMethod("sort", this))
                },
                setComparator: function(l) {
                    var E = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                        L = E.preventRender,
                        Q = this.viewComparator !== l,
                        _e = Q && !L;
                    return this.viewComparator = l, _e && this.sort(), this
                },
                removeComparator: function(l) {
                    return this.setComparator(null, l)
                },
                getComparator: function() {
                    return this.viewComparator ? this.viewComparator : !this.sortWithCollection || this.viewComparator === !1 || !this.collection ? !1 : this._viewComparator
                },
                _viewComparator: function(l) {
                    return this.collection.indexOf(l.model)
                },
                filter: function() {
                    if (this._isDestroyed) return this;
                    if (!this.children.length) return this;
                    var l = this._filterChildren();
                    return this._renderChildren(l), this
                },
                _filterChildren: function() {
                    var l = this,
                        E = this._getFilter(),
                        L = this._addedViews;
                    if (delete this._addedViews, !E) return L || this.children._views;
                    this.triggerMethod("before:filter", this);
                    var Q = [],
                        _e = [];
                    return n.each(this.children._views, function(Xe, Nt, Yt) {
                        (E.call(l, Xe, Nt, Yt) ? Q : _e).push(Xe)
                    }), this._detachChildren(_e), this.triggerMethod("filter", this, Q, _e), Q
                },
                _getFilter: function() {
                    var l = this.getFilter();
                    if (!l) return !1;
                    if (n.isFunction(l)) return l;
                    if (n.isObject(l)) {
                        var E = n.matches(l);
                        return function(L) {
                            return E(L.model && L.model.attributes)
                        }
                    }
                    if (n.isString(l)) return function(L) {
                        return L.model && L.model.get(l)
                    };
                    throw new Ie({
                        name: "InvalidViewFilterError",
                        message: '"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy'
                    })
                },
                getFilter: function() {
                    return this.viewFilter
                },
                setFilter: function(l) {
                    var E = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                        L = E.preventRender,
                        Q = this.viewFilter !== l,
                        _e = Q && !L;
                    return this.viewFilter = l, _e && this.filter(), this
                },
                removeFilter: function(l) {
                    return this.setFilter(null, l)
                },
                _detachChildren: function(l) {
                    n.each(l, n.bind(this._detachChildView, this))
                },
                _detachChildView: function(l) {
                    var E = l._isAttached && this.monitorViewEvents !== !1;
                    E && $(l, "before:detach", l), this.detachHtml(l), E && (l._isAttached = !1, $(l, "detach", l))
                },
                detachHtml: function(l) {
                    this.Dom.detachEl(l.el, l.$el)
                },
                _renderChildren: function(l) {
                    if (this.isEmpty(!l.length)) {
                        this._showEmptyView();
                        return
                    }
                    this._destroyEmptyView(), this.triggerMethod("before:render:children", this, l);
                    var E = this._getBuffer(l);
                    this._attachChildren(E, l), this.triggerMethod("render:children", this, l)
                },
                _attachChildren: function(l, E) {
                    var L = this._isAttached && this.monitorViewEvents !== !1;
                    E = L ? E : [], n.each(E, function(Q) {
                        Q._isAttached || $(Q, "before:attach", Q)
                    }), this.attachHtml(l), n.each(E, function(Q) {
                        Q._isAttached || (Q._isAttached = !0, $(Q, "attach", Q))
                    })
                },
                _getBuffer: function(l) {
                    var E = this,
                        L = this.Dom.createBuffer();
                    return n.each(l, function(Q) {
                        P(Q), E.Dom.appendContents(L, Q.el, {
                            _$contents: Q.$el
                        })
                    }), L
                },
                attachHtml: function(l) {
                    this.Dom.appendContents(this.el, l, {
                        _$el: this.$el
                    })
                },
                swapChildViews: function(l, E) {
                    if (!this.children.hasView(l) || !this.children.hasView(E)) throw new Ie({
                        name: "ChildSwapError",
                        message: "Both views must be children of the collection view"
                    });
                    return this.children._swap(l, E), this.Dom.swapEl(l.el, E.el), this.Dom.hasEl(this.el, l.el) !== this.Dom.hasEl(this.el, E.el) && this.filter(), this
                },
                addChildView: function(l, E) {
                    return !l || l._isDestroyed || ((!E || E >= this.children.length) && (this._addedViews = [l]), this._addChild(l, E), this._showChildren()), l
                },
                detachChildView: function(l) {
                    return this.removeChildView(l, {
                        shouldDetach: !0
                    }), l
                },
                removeChildView: function(l, E) {
                    return l && (this._removeChildView(l, E), this._removeChild(l), this.isEmpty() && this._showEmptyView(), l)
                },
                _removeChildViews: function(l) {
                    n.each(l, n.bind(this._removeChildView, this))
                },
                _removeChildView: function(l) {
                    var E = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
                        L = E.shouldDetach;
                    l.off("destroy", this.removeChildView, this), L ? this._detachChildView(l) : this._destroyChildView(l), this.stopListening(l)
                },
                _destroyChildView: function(l) {
                    l._isDestroyed || (l._shouldDisableEvents = this.monitorViewEvents === !1, Y(l))
                },
                _removeChildren: function() {
                    this._destroyChildren();
                    var l = this.getEmptyRegion();
                    l.destroy(), delete this._addedViews
                },
                _destroyChildren: function() {
                    !this.children || !this.children.length || (this.triggerMethod("before:destroy:children", this), this.monitorViewEvents === !1 && this.Dom.detachContents(this.el, this.$el), n.each(this.children._views, n.bind(this._removeChildView, this)), this.triggerMethod("destroy:children", this))
                }
            }, {
                setDomApi: H
            });
        n.extend(zn.prototype, Z);
        var Sn = ["childViewContainer", "template", "templateContext"],
            Hn = hi.extend({
                constructor: function(l) {
                    w("CompositeView is deprecated. Convert to View at your earliest convenience"), this.mergeOptions(l, Sn), hi.prototype.constructor.apply(this, arguments)
                },
                _initialEvents: function() {
                    this.collection && (this.listenTo(this.collection, "add", this._onCollectionAdd), this.listenTo(this.collection, "update", this._onCollectionUpdate), this.listenTo(this.collection, "reset", this.renderChildren), this.sort && this.listenTo(this.collection, "sort", this._sortViews))
                },
                _getChildView: function(l) {
                    var E = this.childView;
                    if (!E) return this.constructor;
                    if (E = this._getView(E, l), !E) throw new Ie({
                        name: "InvalidChildViewError",
                        message: '"childView" must be a view class or a function that returns a view class'
                    });
                    return E
                },
                serializeData: function() {
                    return this.serializeModel()
                },
                render: function() {
                    return this._isDestroyed ? this : (this._isRendering = !0, this.resetChildViewContainer(), this.triggerMethod("before:render", this), this._renderTemplate(), this.bindUIElements(), this.renderChildren(), this._isRendering = !1, this._isRendered = !0, this.triggerMethod("render", this), this)
                },
                renderChildren: function() {
                    (this._isRendered || this._isRendering) && hi.prototype._renderChildren.call(this)
                },
                attachBuffer: function(l, E) {
                    var L = this.getChildViewContainer(l);
                    this.Dom.appendContents(L[0], E, {
                        _$el: L
                    })
                },
                _insertAfter: function(l) {
                    var E = this.getChildViewContainer(this, l);
                    this.Dom.appendContents(E[0], l.el, {
                        _$el: E,
                        _$contents: l.$el
                    })
                },
                _appendReorderedChildren: function(l) {
                    var E = this.getChildViewContainer(this);
                    this.Dom.appendContents(E[0], l, {
                        _$el: E
                    })
                },
                getChildViewContainer: function(l, E) {
                    if (l.$childViewContainer) return l.$childViewContainer;
                    var L = void 0,
                        Q = l.childViewContainer;
                    if (Q) {
                        var _e = n.result(l, "childViewContainer");
                        if (_e.charAt(0) === "@" && l.ui ? L = l.ui[_e.substr(4)] : L = this.$(_e), L.length <= 0) throw new Ie({
                            name: "ChildViewContainerMissingError",
                            message: 'The specified "childViewContainer" was not found: ' + l.childViewContainer
                        })
                    } else L = l.$el;
                    return l.$childViewContainer = L, L
                },
                resetChildViewContainer: function() {
                    this.$childViewContainer && (this.$childViewContainer = void 0)
                }
            }),
            os = n.pick(Ui.prototype, "serializeModel", "getTemplate", "_renderTemplate", "_renderHtml", "mixinTemplateContext", "attachElContent");
        n.extend(Hn.prototype, os);
        var fr = ["collectionEvents", "events", "modelEvents", "triggers", "ui"],
            pr = m.extend({
                cidPrefix: "mnb",
                constructor: function(l, E) {
                    this.view = E, this.defaults && w("Behavior defaults are deprecated. For similar functionality set options on the Behavior class."), this.defaults = n.clone(n.result(this, "defaults", {})), this._setOptions(n.extend({}, this.defaults, l)), this.mergeOptions(this.options, fr), this.ui = n.extend({}, n.result(this, "ui"), n.result(E, "ui")), m.apply(this, arguments)
                },
                $: function() {
                    return this.view.$.apply(this.view, arguments)
                },
                destroy: function() {
                    return this.stopListening(), this.view._removeBehavior(this), this
                },
                proxyViewProperties: function() {
                    return this.$el = this.view.$el, this.el = this.view.el, this
                },
                bindUIElements: function() {
                    return this._bindUIElements(), this
                },
                unbindUIElements: function() {
                    return this._unbindUIElements(), this
                },
                getUI: function(l) {
                    return this._getUI(l)
                },
                delegateEntityEvents: function() {
                    return this._delegateEntityEvents(this.view.model, this.view.collection), this
                },
                undelegateEntityEvents: function() {
                    return this._undelegateEntityEvents(this.view.model, this.view.collection), this
                },
                getEvents: function() {
                    var l = this,
                        E = this.normalizeUIKeys(n.result(this, "events"));
                    return n.reduce(E, function(L, Q, _e) {
                        return n.isFunction(Q) || (Q = l[Q]), Q && (_e = Oe(_e, l.cid), L[_e] = n.bind(Q, l)), L
                    }, {})
                },
                getTriggers: function() {
                    if (this.triggers) {
                        var l = this.normalizeUIKeys(n.result(this, "triggers"));
                        return this._getViewTriggers(this.view, l)
                    }
                }
            });
        n.extend(pr.prototype, Ee, _t, ai);
        var Gi = ["region", "regionClass"],
            gr = m.extend({
                cidPrefix: "mna",
                constructor: function(l) {
                    this._setOptions(l), this.mergeOptions(l, Gi), this._initRegion(), m.prototype.constructor.apply(this, arguments)
                },
                regionClass: be,
                _initRegion: function() {
                    var l = this.region;
                    if (l) {
                        var E = {
                            regionClass: this.regionClass
                        };
                        this._region = Ne(l, E)
                    }
                },
                getRegion: function() {
                    return this._region
                },
                showView: function(l) {
                    for (var E = this.getRegion(), L = arguments.length, Q = Array(L > 1 ? L - 1 : 0), _e = 1; _e < L; _e++) Q[_e - 1] = arguments[_e];
                    return E.show.apply(E, [l].concat(Q))
                },
                getView: function() {
                    return this.getRegion().currentView
                },
                start: function(l) {
                    return this.triggerMethod("before:start", this, l), this.triggerMethod("start", this, l), this
                }
            }),
            Gn = ["appRoutes", "controller"],
            on = i.Router.extend({
                constructor: function(l) {
                    this._setOptions(l), this.mergeOptions(l, Gn), i.Router.apply(this, arguments);
                    var E = this.appRoutes,
                        L = this._getController();
                    this.processAppRoutes(L, E), this.on("route", this._processOnRoute, this)
                },
                appRoute: function(l, E) {
                    var L = this._getController();
                    return this._addAppRoute(L, l, E), this
                },
                _processOnRoute: function(l, E) {
                    if (n.isFunction(this.onRoute)) {
                        var L = n.invert(this.appRoutes)[l];
                        this.onRoute(l, L, E)
                    }
                },
                processAppRoutes: function(l, E) {
                    var L = this;
                    if (!E) return this;
                    var Q = n.keys(E).reverse();
                    return n.each(Q, function(_e) {
                        L._addAppRoute(l, _e, E[_e])
                    }), this
                },
                _getController: function() {
                    return this.controller
                },
                _addAppRoute: function(l, E, L) {
                    var Q = l[L];
                    if (!Q) throw new Ie('Method "' + L + '" was not found on the controller');
                    this.route(E, L, n.bind(Q, l))
                },
                triggerMethod: v
            });
        n.extend(on.prototype, jt);

        function mr() {
            throw new Ie({
                message: "You must define where your behaviors are stored.",
                url: "marionette.behaviors.md#behaviorslookup"
            })
        }
        var as = i.Marionette,
            tt = i.Marionette = {};
        return tt.noConflict = function() {
            return i.Marionette = as, this
        }, tt.bindEvents = p(ke), tt.unbindEvents = p(Te), tt.bindRequests = p(rt), tt.unbindRequests = p(Tt), tt.mergeOptions = p(A), tt.getOption = p(D), tt.normalizeMethods = p(B), tt.extend = y, tt.isNodeAttached = x, tt.deprecate = w, tt.triggerMethod = p(v), tt.triggerMethodOn = $, tt.isEnabled = gt, tt.setEnabled = ft, tt.monitorViewEvents = le, tt.Behaviors = {}, tt.Behaviors.behaviorsLookup = mr, tt.Application = gr, tt.AppRouter = on, tt.Renderer = Ze, tt.TemplateCache = T, tt.View = Ui, tt.CollectionView = hi, tt.NextCollectionView = zn, tt.CompositeView = Hn, tt.Behavior = pr, tt.Region = be, tt.Error = Ie, tt.Object = m, tt.DEV_MODE = !1, tt.FEATURES = Le, tt.VERSION = o, tt.DomApi = V, tt.setDomApi = function(b) {
            hi.setDomApi(b), Hn.setDomApi(b), zn.setDomApi(b), be.setDomApi(b), Ui.setDomApi(b)
        }, tt
    }), wt && wt.Marionette && (wt.Mn = wt.Marionette)
})(cf);
const xt = Sl;
var $n = {
        DEBUG: !1,
        LIB_VERSION: "2.45.0"
    },
    mi;
if (typeof window > "u") {
    var Vc = {
        hostname: ""
    };
    mi = {
        navigator: {
            userAgent: ""
        },
        document: {
            location: Vc,
            referrer: ""
        },
        screen: {
            width: 0,
            height: 0
        },
        location: Vc
    }
} else mi = window;
var pa = Array.prototype,
    df = Function.prototype,
    eh = Object.prototype,
    Dn = pa.slice,
    Js = eh.toString,
    ga = eh.hasOwnProperty,
    Jt = mi.console,
    yn = mi.navigator,
    $t = mi.document,
    Os = mi.opera,
    Go = mi.screen,
    Fi = yn.userAgent,
    el = df.bind,
    Fc = pa.forEach,
    jc = pa.indexOf,
    qc = pa.map,
    ff = Array.isArray,
    kl = {},
    I = {
        trim: function(t) {
            return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
        }
    },
    Lt = {
        log: function() {
            if ($n.DEBUG && !I.isUndefined(Jt) && Jt) try {
                Jt.log.apply(Jt, arguments)
            } catch {
                I.each(arguments, function(e) {
                    Jt.log(e)
                })
            }
        },
        warn: function() {
            if ($n.DEBUG && !I.isUndefined(Jt) && Jt) {
                var t = ["Mixpanel warning:"].concat(I.toArray(arguments));
                try {
                    Jt.warn.apply(Jt, t)
                } catch {
                    I.each(t, function(i) {
                        Jt.warn(i)
                    })
                }
            }
        },
        error: function() {
            if ($n.DEBUG && !I.isUndefined(Jt) && Jt) {
                var t = ["Mixpanel error:"].concat(I.toArray(arguments));
                try {
                    Jt.error.apply(Jt, t)
                } catch {
                    I.each(t, function(i) {
                        Jt.error(i)
                    })
                }
            }
        },
        critical: function() {
            if (!I.isUndefined(Jt) && Jt) {
                var t = ["Mixpanel error:"].concat(I.toArray(arguments));
                try {
                    Jt.error.apply(Jt, t)
                } catch {
                    I.each(t, function(i) {
                        Jt.error(i)
                    })
                }
            }
        }
    },
    tl = function(t, e) {
        return function() {
            return arguments[0] = "[" + e + "] " + arguments[0], t.apply(Lt, arguments)
        }
    },
    Hl = function(t) {
        return {
            log: tl(Lt.log, t),
            error: tl(Lt.error, t),
            critical: tl(Lt.critical, t)
        }
    };
I.bind = function(t, e) {
    var i, n;
    if (el && t.bind === el) return el.apply(t, Dn.call(arguments, 1));
    if (!I.isFunction(t)) throw new TypeError;
    return i = Dn.call(arguments, 2), n = function() {
        if (!(this instanceof n)) return t.apply(e, i.concat(Dn.call(arguments)));
        var s = {};
        s.prototype = t.prototype;
        var o = new s;
        s.prototype = null;
        var p = t.apply(o, i.concat(Dn.call(arguments)));
        return Object(p) === p ? p : o
    }, n
};
I.each = function(t, e, i) {
    if (t != null) {
        if (Fc && t.forEach === Fc) t.forEach(e, i);
        else if (t.length === +t.length) {
            for (var n = 0, s = t.length; n < s; n++)
                if (n in t && e.call(i, t[n], n, t) === kl) return
        } else
            for (var o in t)
                if (ga.call(t, o) && e.call(i, t[o], o, t) === kl) return
    }
};
I.extend = function(t) {
    return I.each(Dn.call(arguments, 1), function(e) {
        for (var i in e) e[i] !== void 0 && (t[i] = e[i])
    }), t
};
I.isArray = ff || function(t) {
    return Js.call(t) === "[object Array]"
};
I.isFunction = function(t) {
    try {
        return /^\s*\bfunction\b/.test(t)
    } catch {
        return !1
    }
};
I.isArguments = function(t) {
    return !!(t && ga.call(t, "callee"))
};
I.toArray = function(t) {
    return t ? t.toArray ? t.toArray() : I.isArray(t) || I.isArguments(t) ? Dn.call(t) : I.values(t) : []
};
I.map = function(t, e, i) {
    if (qc && t.map === qc) return t.map(e, i);
    var n = [];
    return I.each(t, function(s) {
        n.push(e.call(i, s))
    }), n
};
I.keys = function(t) {
    var e = [];
    return t === null || I.each(t, function(i, n) {
        e[e.length] = n
    }), e
};
I.values = function(t) {
    var e = [];
    return t === null || I.each(t, function(i) {
        e[e.length] = i
    }), e
};
I.include = function(t, e) {
    var i = !1;
    return t === null ? i : jc && t.indexOf === jc ? t.indexOf(e) != -1 : (I.each(t, function(n) {
        if (i || (i = n === e)) return kl
    }), i)
};
I.includes = function(t, e) {
    return t.indexOf(e) !== -1
};
I.inherit = function(t, e) {
    return t.prototype = new e, t.prototype.constructor = t, t.superclass = e.prototype, t
};
I.isObject = function(t) {
    return t === Object(t) && !I.isArray(t)
};
I.isEmptyObject = function(t) {
    if (I.isObject(t)) {
        for (var e in t)
            if (ga.call(t, e)) return !1;
        return !0
    }
    return !1
};
I.isUndefined = function(t) {
    return t === void 0
};
I.isString = function(t) {
    return Js.call(t) == "[object String]"
};
I.isDate = function(t) {
    return Js.call(t) == "[object Date]"
};
I.isNumber = function(t) {
    return Js.call(t) == "[object Number]"
};
I.isElement = function(t) {
    return !!(t && t.nodeType === 1)
};
I.encodeDates = function(t) {
    return I.each(t, function(e, i) {
        I.isDate(e) ? t[i] = I.formatDate(e) : I.isObject(e) && (t[i] = I.encodeDates(e))
    }), t
};
I.timestamp = function() {
    return Date.now = Date.now || function() {
        return +new Date
    }, Date.now()
};
I.formatDate = function(t) {
    function e(i) {
        return i < 10 ? "0" + i : i
    }
    return t.getUTCFullYear() + "-" + e(t.getUTCMonth() + 1) + "-" + e(t.getUTCDate()) + "T" + e(t.getUTCHours()) + ":" + e(t.getUTCMinutes()) + ":" + e(t.getUTCSeconds())
};
I.strip_empty_properties = function(t) {
    var e = {};
    return I.each(t, function(i, n) {
        I.isString(i) && i.length > 0 && (e[n] = i)
    }), e
};
I.truncate = function(t, e) {
    var i;
    return typeof t == "string" ? i = t.slice(0, e) : I.isArray(t) ? (i = [], I.each(t, function(n) {
        i.push(I.truncate(n, e))
    })) : I.isObject(t) ? (i = {}, I.each(t, function(n, s) {
        i[s] = I.truncate(n, e)
    })) : i = t, i
};
I.JSONEncode = function() {
    return function(t) {
        var e = t,
            i = function(s) {
                var o = /[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
                    p = {
                        "\b": "\\b",
                        "	": "\\t",
                        "\n": "\\n",
                        "\f": "\\f",
                        "\r": "\\r",
                        '"': '\\"',
                        "\\": "\\\\"
                    };
                return o.lastIndex = 0, o.test(s) ? '"' + s.replace(o, function(y) {
                    var w = p[y];
                    return typeof w == "string" ? w : "\\u" + ("0000" + y.charCodeAt(0).toString(16)).slice(-4)
                }) + '"' : '"' + s + '"'
            },
            n = function(s, o) {
                var p = "",
                    y = "    ",
                    w = 0,
                    x = "",
                    A = "",
                    D = 0,
                    B = p,
                    X = [],
                    j = o[s];
                switch (j && typeof j == "object" && typeof j.toJSON == "function" && (j = j.toJSON(s)), typeof j) {
                    case "string":
                        return i(j);
                    case "number":
                        return isFinite(j) ? String(j) : "null";
                    case "boolean":
                    case "null":
                        return String(j);
                    case "object":
                        if (!j) return "null";
                        if (p += y, X = [], Js.apply(j) === "[object Array]") {
                            for (D = j.length, w = 0; w < D; w += 1) X[w] = n(w, j) || "null";
                            return A = X.length === 0 ? "[]" : p ? `[
` + p + X.join(`,
` + p) + `
` + B + "]" : "[" + X.join(",") + "]", p = B, A
                        }
                        for (x in j) ga.call(j, x) && (A = n(x, j), A && X.push(i(x) + (p ? ": " : ":") + A));
                        return A = X.length === 0 ? "{}" : p ? "{" + X.join(",") + B + "}" : "{" + X.join(",") + "}", p = B, A
                }
            };
        return n("", {
            "": e
        })
    }
}();
I.JSONDecode = function() {
    var t, e, i = {
            '"': '"',
            "\\": "\\",
            "/": "/",
            b: "\b",
            f: "\f",
            n: `
`,
            r: "\r",
            t: "	"
        },
        n, s = function(X) {
            var j = new SyntaxError(X);
            throw j.at = t, j.text = n, j
        },
        o = function(X) {
            return X && X !== e && s("Expected '" + X + "' instead of '" + e + "'"), e = n.charAt(t), t += 1, e
        },
        p = function() {
            var X, j = "";
            for (e === "-" && (j = "-", o("-")); e >= "0" && e <= "9";) j += e, o();
            if (e === ".")
                for (j += "."; o() && e >= "0" && e <= "9";) j += e;
            if (e === "e" || e === "E")
                for (j += e, o(), (e === "-" || e === "+") && (j += e, o()); e >= "0" && e <= "9";) j += e, o();
            if (X = +j, !isFinite(X)) s("Bad number");
            else return X
        },
        y = function() {
            var X, j, ie = "",
                v;
            if (e === '"')
                for (; o();) {
                    if (e === '"') return o(), ie;
                    if (e === "\\")
                        if (o(), e === "u") {
                            for (v = 0, j = 0; j < 4 && (X = parseInt(o(), 16), !!isFinite(X)); j += 1) v = v * 16 + X;
                            ie += String.fromCharCode(v)
                        } else if (typeof i[e] == "string") ie += i[e];
                    else break;
                    else ie += e
                }
            s("Bad string")
        },
        w = function() {
            for (; e && e <= " ";) o()
        },
        x = function() {
            switch (e) {
                case "t":
                    return o("t"), o("r"), o("u"), o("e"), !0;
                case "f":
                    return o("f"), o("a"), o("l"), o("s"), o("e"), !1;
                case "n":
                    return o("n"), o("u"), o("l"), o("l"), null
            }
            s('Unexpected "' + e + '"')
        },
        A, D = function() {
            var X = [];
            if (e === "[") {
                if (o("["), w(), e === "]") return o("]"), X;
                for (; e;) {
                    if (X.push(A()), w(), e === "]") return o("]"), X;
                    o(","), w()
                }
            }
            s("Bad array")
        },
        B = function() {
            var X, j = {};
            if (e === "{") {
                if (o("{"), w(), e === "}") return o("}"), j;
                for (; e;) {
                    if (X = y(), w(), o(":"), Object.hasOwnProperty.call(j, X) && s('Duplicate key "' + X + '"'), j[X] = A(), w(), e === "}") return o("}"), j;
                    o(","), w()
                }
            }
            s("Bad object")
        };
    return A = function() {
            switch (w(), e) {
                case "{":
                    return B();
                case "[":
                    return D();
                case '"':
                    return y();
                case "-":
                    return p();
                default:
                    return e >= "0" && e <= "9" ? p() : x()
            }
        },
        function(X) {
            var j;
            return n = X, t = 0, e = " ", j = A(), w(), e && s("Syntax error"), j
        }
}();
I.base64Encode = function(t) {
    var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
        i, n, s, o, p, y, w, x, A = 0,
        D = 0,
        B = "",
        X = [];
    if (!t) return t;
    t = I.utf8Encode(t);
    do i = t.charCodeAt(A++), n = t.charCodeAt(A++), s = t.charCodeAt(A++), x = i << 16 | n << 8 | s, o = x >> 18 & 63, p = x >> 12 & 63, y = x >> 6 & 63, w = x & 63, X[D++] = e.charAt(o) + e.charAt(p) + e.charAt(y) + e.charAt(w); while (A < t.length);
    switch (B = X.join(""), t.length % 3) {
        case 1:
            B = B.slice(0, -2) + "==";
            break;
        case 2:
            B = B.slice(0, -1) + "=";
            break
    }
    return B
};
I.utf8Encode = function(t) {
    t = (t + "").replace(/\r\n/g, `
`).replace(/\r/g, `
`);
    var e = "",
        i, n, s = 0,
        o;
    for (i = n = 0, s = t.length, o = 0; o < s; o++) {
        var p = t.charCodeAt(o),
            y = null;
        p < 128 ? n++ : p > 127 && p < 2048 ? y = String.fromCharCode(p >> 6 | 192, p & 63 | 128) : y = String.fromCharCode(p >> 12 | 224, p >> 6 & 63 | 128, p & 63 | 128), y !== null && (n > i && (e += t.substring(i, n)), e += y, i = n = o + 1)
    }
    return n > i && (e += t.substring(i, t.length)), e
};
I.UUID = function() {
    var t = function() {
            for (var n = 1 * new Date, s = 0; n == 1 * new Date;) s++;
            return n.toString(16) + s.toString(16)
        },
        e = function() {
            return Math.random().toString(16).replace(".", "")
        },
        i = function() {
            var n = Fi,
                s, o, p = [],
                y = 0;

            function w(x, A) {
                var D, B = 0;
                for (D = 0; D < A.length; D++) B |= p[D] << D * 8;
                return x ^ B
            }
            for (s = 0; s < n.length; s++) o = n.charCodeAt(s), p.unshift(o & 255), p.length >= 4 && (y = w(y, p), p = []);
            return p.length > 0 && (y = w(y, p)), y.toString(16)
        };
    return function() {
        var n = (Go.height * Go.width).toString(16);
        return t() + "-" + e() + "-" + i() + "-" + n + "-" + t()
    }
}();
var Uc = ["ahrefsbot", "baiduspider", "bingbot", "bingpreview", "facebookexternal", "petalbot", "pinterest", "screaming frog", "yahoo! slurp", "yandexbot", "adsbot-google", "apis-google", "duplexweb-google", "feedfetcher-google", "google favicon", "google web preview", "google-read-aloud", "googlebot", "googleweblight", "mediapartners-google", "storebot-google"];
I.isBlockedUA = function(t) {
    var e;
    for (t = t.toLowerCase(), e = 0; e < Uc.length; e++)
        if (t.indexOf(Uc[e]) !== -1) return !0;
    return !1
};
I.HTTPBuildQuery = function(t, e) {
    var i, n, s = [];
    return I.isUndefined(e) && (e = "&"), I.each(t, function(o, p) {
        i = encodeURIComponent(o.toString()), n = encodeURIComponent(p), s[s.length] = n + "=" + i
    }), s.join(e)
};
I.getQueryParam = function(t, e) {
    e = e.replace(/[[]/, "\\[").replace(/[\]]/, "\\]");
    var i = "[\\?&]" + e + "=([^&#]*)",
        n = new RegExp(i),
        s = n.exec(t);
    if (s === null || s && typeof s[1] != "string" && s[1].length) return "";
    var o = s[1];
    try {
        o = decodeURIComponent(o)
    } catch {
        Lt.error("Skipping decoding for malformed query param: " + o)
    }
    return o.replace(/\+/g, " ")
};
I.cookie = {
    get: function(t) {
        for (var e = t + "=", i = $t.cookie.split(";"), n = 0; n < i.length; n++) {
            for (var s = i[n]; s.charAt(0) == " ";) s = s.substring(1, s.length);
            if (s.indexOf(e) === 0) return decodeURIComponent(s.substring(e.length, s.length))
        }
        return null
    },
    parse: function(t) {
        var e;
        try {
            e = I.JSONDecode(I.cookie.get(t)) || {}
        } catch {}
        return e
    },
    set_seconds: function(t, e, i, n, s, o, p) {
        var y = "",
            w = "",
            x = "";
        if (p) y = "; domain=" + p;
        else if (n) {
            var A = zc($t.location.hostname);
            y = A ? "; domain=." + A : ""
        }
        if (i) {
            var D = new Date;
            D.setTime(D.getTime() + i * 1e3), w = "; expires=" + D.toGMTString()
        }
        o && (s = !0, x = "; SameSite=None"), s && (x += "; secure"), $t.cookie = t + "=" + encodeURIComponent(e) + w + "; path=/" + y + x
    },
    set: function(t, e, i, n, s, o, p) {
        var y = "",
            w = "",
            x = "";
        if (p) y = "; domain=" + p;
        else if (n) {
            var A = zc($t.location.hostname);
            y = A ? "; domain=." + A : ""
        }
        if (i) {
            var D = new Date;
            D.setTime(D.getTime() + i * 24 * 60 * 60 * 1e3), w = "; expires=" + D.toGMTString()
        }
        o && (s = !0, x = "; SameSite=None"), s && (x += "; secure");
        var B = t + "=" + encodeURIComponent(e) + w + "; path=/" + y + x;
        return $t.cookie = B, B
    },
    remove: function(t, e, i) {
        I.cookie.set(t, "", -1, e, !1, !1, i)
    }
};
var il = null,
    Wo = function(t, e) {
        if (il !== null && !e) return il;
        var i = !0;
        try {
            t = t || window.localStorage;
            var n = "__mplss_" + Gl(8),
                s = "xyz";
            t.setItem(n, s), t.getItem(n) !== s && (i = !1), t.removeItem(n)
        } catch {
            i = !1
        }
        return il = i, i
    };
I.localStorage = {
    is_supported: function(t) {
        var e = Wo(null, t);
        return e || Lt.error("localStorage unsupported; falling back to cookie store"), e
    },
    error: function(t) {
        Lt.error("localStorage error: " + t)
    },
    get: function(t) {
        try {
            return window.localStorage.getItem(t)
        } catch (e) {
            I.localStorage.error(e)
        }
        return null
    },
    parse: function(t) {
        try {
            return I.JSONDecode(I.localStorage.get(t)) || {}
        } catch {}
        return null
    },
    set: function(t, e) {
        try {
            window.localStorage.setItem(t, e)
        } catch (i) {
            I.localStorage.error(i)
        }
    },
    remove: function(t) {
        try {
            window.localStorage.removeItem(t)
        } catch (e) {
            I.localStorage.error(e)
        }
    }
};
I.register_event = function() {
    var t = function(n, s, o, p, y) {
        if (!n) {
            Lt.error("No valid element provided to register_event");
            return
        }
        if (n.addEventListener && !p) n.addEventListener(s, o, !!y);
        else {
            var w = "on" + s,
                x = n[w];
            n[w] = e(n, o, x)
        }
    };

    function e(n, s, o) {
        var p = function(y) {
            if (y = y || i(window.event), !!y) {
                var w = !0,
                    x, A;
                return I.isFunction(o) && (x = o(y)), A = s.call(n, y), (x === !1 || A === !1) && (w = !1), w
            }
        };
        return p
    }

    function i(n) {
        return n && (n.preventDefault = i.preventDefault, n.stopPropagation = i.stopPropagation), n
    }
    return i.preventDefault = function() {
        this.returnValue = !1
    }, i.stopPropagation = function() {
        this.cancelBubble = !0
    }, t
}();
var pf = new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');
I.dom_query = function() {
    function t(s) {
        return s.all ? s.all : s.getElementsByTagName("*")
    }
    var e = /[\t\r\n]/g;

    function i(s, o) {
        var p = " " + o + " ";
        return (" " + s.className + " ").replace(e, " ").indexOf(p) >= 0
    }

    function n(s) {
        if (!$t.getElementsByTagName) return [];
        var o = s.split(" "),
            p, y, w, x, A, D, B, X, j, ie, v = [$t];
        for (D = 0; D < o.length; D++) {
            if (p = o[D].replace(/^\s+/, "").replace(/\s+$/, ""), p.indexOf("#") > -1) {
                y = p.split("#"), w = y[0];
                var $ = y[1],
                    W = $t.getElementById($);
                if (!W || w && W.nodeName.toLowerCase() != w) return [];
                v = [W];
                continue
            }
            if (p.indexOf(".") > -1) {
                y = p.split("."), w = y[0];
                var ne = y[1];
                for (w || (w = "*"), x = [], A = 0, B = 0; B < v.length; B++)
                    for (w == "*" ? j = t(v[B]) : j = v[B].getElementsByTagName(w), X = 0; X < j.length; X++) x[A++] = j[X];
                for (v = [], ie = 0, B = 0; B < x.length; B++) x[B].className && I.isString(x[B].className) && i(x[B], ne) && (v[ie++] = x[B]);
                continue
            }
            var oe = p.match(pf);
            if (oe) {
                w = oe[1];
                var ue = oe[2],
                    d = oe[3],
                    ye = oe[4];
                for (w || (w = "*"), x = [], A = 0, B = 0; B < v.length; B++)
                    for (w == "*" ? j = t(v[B]) : j = v[B].getElementsByTagName(w), X = 0; X < j.length; X++) x[A++] = j[X];
                v = [], ie = 0;
                var Se;
                switch (d) {
                    case "=":
                        Se = function(Ae) {
                            return Ae.getAttribute(ue) == ye
                        };
                        break;
                    case "~":
                        Se = function(Ae) {
                            return Ae.getAttribute(ue).match(new RegExp("\\b" + ye + "\\b"))
                        };
                        break;
                    case "|":
                        Se = function(Ae) {
                            return Ae.getAttribute(ue).match(new RegExp("^" + ye + "-?"))
                        };
                        break;
                    case "^":
                        Se = function(Ae) {
                            return Ae.getAttribute(ue).indexOf(ye) === 0
                        };
                        break;
                    case "$":
                        Se = function(Ae) {
                            return Ae.getAttribute(ue).lastIndexOf(ye) == Ae.getAttribute(ue).length - ye.length
                        };
                        break;
                    case "*":
                        Se = function(Ae) {
                            return Ae.getAttribute(ue).indexOf(ye) > -1
                        };
                        break;
                    default:
                        Se = function(Ae) {
                            return Ae.getAttribute(ue)
                        }
                }
                for (v = [], ie = 0, B = 0; B < x.length; B++) Se(x[B]) && (v[ie++] = x[B]);
                continue
            }
            for (w = p, x = [], A = 0, B = 0; B < v.length; B++)
                for (j = v[B].getElementsByTagName(w), X = 0; X < j.length; X++) x[A++] = j[X];
            v = x
        }
        return v
    }
    return function(s) {
        return I.isElement(s) ? [s] : I.isObject(s) && !I.isUndefined(s.length) ? s : n.call(this, s)
    }
}();
I.info = {
    campaignParams: function() {
        var t = "utm_source utm_medium utm_campaign utm_content utm_term".split(" "),
            e = "",
            i = {};
        return I.each(t, function(n) {
            e = I.getQueryParam($t.URL, n), e.length && (i[n] = e)
        }), i
    },
    searchEngine: function(t) {
        return t.search("https?://(.*)google.([^/?]*)") === 0 ? "google" : t.search("https?://(.*)bing.com") === 0 ? "bing" : t.search("https?://(.*)yahoo.com") === 0 ? "yahoo" : t.search("https?://(.*)duckduckgo.com") === 0 ? "duckduckgo" : null
    },
    searchInfo: function(t) {
        var e = I.info.searchEngine(t),
            i = e != "yahoo" ? "q" : "p",
            n = {};
        if (e !== null) {
            n.$search_engine = e;
            var s = I.getQueryParam(t, i);
            s.length && (n.mp_keyword = s)
        }
        return n
    },
    browser: function(t, e, i) {
        return e = e || "", i || I.includes(t, " OPR/") ? I.includes(t, "Mini") ? "Opera Mini" : "Opera" : /(BlackBerry|PlayBook|BB10)/i.test(t) ? "BlackBerry" : I.includes(t, "IEMobile") || I.includes(t, "WPDesktop") ? "Internet Explorer Mobile" : I.includes(t, "SamsungBrowser/") ? "Samsung Internet" : I.includes(t, "Edge") || I.includes(t, "Edg/") ? "Microsoft Edge" : I.includes(t, "FBIOS") ? "Facebook Mobile" : I.includes(t, "Chrome") ? "Chrome" : I.includes(t, "CriOS") ? "Chrome iOS" : I.includes(t, "UCWEB") || I.includes(t, "UCBrowser") ? "UC Browser" : I.includes(t, "FxiOS") ? "Firefox iOS" : I.includes(e, "Apple") ? I.includes(t, "Mobile") ? "Mobile Safari" : "Safari" : I.includes(t, "Android") ? "Android Mobile" : I.includes(t, "Konqueror") ? "Konqueror" : I.includes(t, "Firefox") ? "Firefox" : I.includes(t, "MSIE") || I.includes(t, "Trident/") ? "Internet Explorer" : I.includes(t, "Gecko") ? "Mozilla" : ""
    },
    browserVersion: function(t, e, i) {
        var n = I.info.browser(t, e, i),
            s = {
                "Internet Explorer Mobile": /rv:(\d+(\.\d+)?)/,
                "Microsoft Edge": /Edge?\/(\d+(\.\d+)?)/,
                Chrome: /Chrome\/(\d+(\.\d+)?)/,
                "Chrome iOS": /CriOS\/(\d+(\.\d+)?)/,
                "UC Browser": /(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,
                Safari: /Version\/(\d+(\.\d+)?)/,
                "Mobile Safari": /Version\/(\d+(\.\d+)?)/,
                Opera: /(Opera|OPR)\/(\d+(\.\d+)?)/,
                Firefox: /Firefox\/(\d+(\.\d+)?)/,
                "Firefox iOS": /FxiOS\/(\d+(\.\d+)?)/,
                Konqueror: /Konqueror:(\d+(\.\d+)?)/,
                BlackBerry: /BlackBerry (\d+(\.\d+)?)/,
                "Android Mobile": /android\s(\d+(\.\d+)?)/,
                "Samsung Internet": /SamsungBrowser\/(\d+(\.\d+)?)/,
                "Internet Explorer": /(rv:|MSIE )(\d+(\.\d+)?)/,
                Mozilla: /rv:(\d+(\.\d+)?)/
            },
            o = s[n];
        if (o === void 0) return null;
        var p = t.match(o);
        return p ? parseFloat(p[p.length - 2]) : null
    },
    os: function() {
        var t = Fi;
        return /Windows/i.test(t) ? /Phone/.test(t) || /WPDesktop/.test(t) ? "Windows Phone" : "Windows" : /(iPhone|iPad|iPod)/.test(t) ? "iOS" : /Android/.test(t) ? "Android" : /(BlackBerry|PlayBook|BB10)/i.test(t) ? "BlackBerry" : /Mac/i.test(t) ? "Mac OS X" : /Linux/.test(t) ? "Linux" : /CrOS/.test(t) ? "Chrome OS" : ""
    },
    device: function(t) {
        return /Windows Phone/i.test(t) || /WPDesktop/.test(t) ? "Windows Phone" : /iPad/.test(t) ? "iPad" : /iPod/.test(t) ? "iPod Touch" : /iPhone/.test(t) ? "iPhone" : /(BlackBerry|PlayBook|BB10)/i.test(t) ? "BlackBerry" : /Android/.test(t) ? "Android" : ""
    },
    referringDomain: function(t) {
        var e = t.split("/");
        return e.length >= 3 ? e[2] : ""
    },
    properties: function() {
        return I.extend(I.strip_empty_properties({
            $os: I.info.os(),
            $browser: I.info.browser(Fi, yn.vendor, Os),
            $referrer: $t.referrer,
            $referring_domain: I.info.referringDomain($t.referrer),
            $device: I.info.device(Fi)
        }), {
            $current_url: mi.location.href,
            $browser_version: I.info.browserVersion(Fi, yn.vendor, Os),
            $screen_height: Go.height,
            $screen_width: Go.width,
            mp_lib: "web",
            $lib_version: $n.LIB_VERSION,
            $insert_id: Gl(),
            time: I.timestamp() / 1e3
        })
    },
    people_properties: function() {
        return I.extend(I.strip_empty_properties({
            $os: I.info.os(),
            $browser: I.info.browser(Fi, yn.vendor, Os)
        }), {
            $browser_version: I.info.browserVersion(Fi, yn.vendor, Os)
        })
    },
    pageviewInfo: function(t) {
        return I.strip_empty_properties({
            mp_page: t,
            mp_referrer: $t.referrer,
            mp_browser: I.info.browser(Fi, yn.vendor, Os),
            mp_platform: I.info.os()
        })
    }
};
var Gl = function(t) {
        var e = Math.random().toString(36).substring(2, 10) + Math.random().toString(36).substring(2, 10);
        return t ? e.substring(0, t) : e
    },
    gf = /[a-z0-9][a-z0-9-]*\.[a-z]+$/i,
    mf = /[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,
    zc = function(t) {
        var e = mf,
            i = t.split("."),
            n = i[i.length - 1];
        (n.length > 4 || n === "com" || n === "org") && (e = gf);
        var s = t.match(e);
        return s ? s[0] : ""
    },
    Ko = null,
    Xo = null;
typeof JSON < "u" && (Ko = JSON.stringify, Xo = JSON.parse);
Ko = Ko || I.JSONEncode;
Xo = Xo || I.JSONDecode;
I.toArray = I.toArray;
I.isObject = I.isObject;
I.JSONEncode = I.JSONEncode;
I.JSONDecode = I.JSONDecode;
I.isBlockedUA = I.isBlockedUA;
I.isEmptyObject = I.isEmptyObject;
I.info = I.info;
I.info.device = I.info.device;
I.info.browser = I.info.browser;
I.info.browserVersion = I.info.browserVersion;
I.info.properties = I.info.properties;
var xn = function() {};
xn.prototype.create_properties = function() {};
xn.prototype.event_handler = function() {};
xn.prototype.after_track_handler = function() {};
xn.prototype.init = function(t) {
    return this.mp = t, this
};
xn.prototype.track = function(t, e, i, n) {
    var s = this,
        o = I.dom_query(t);
    if (o.length === 0) {
        Lt.error("The DOM query (" + t + ") returned 0 elements");
        return
    }
    return I.each(o, function(p) {
        I.register_event(p, this.override_event, function(y) {
            var w = {},
                x = s.create_properties(i, this),
                A = s.mp.get_config("track_links_timeout");
            s.event_handler(y, this, w), window.setTimeout(s.track_callback(n, x, w, !0), A), s.mp.track(e, x, s.track_callback(n, x, w))
        })
    }, this), !0
};
xn.prototype.track_callback = function(t, e, i, n) {
    n = n || !1;
    var s = this;
    return function() {
        i.callback_fired || (i.callback_fired = !0, !(t && t(n, e) === !1) && s.after_track_handler(e, i, n))
    }
};
xn.prototype.create_properties = function(t, e) {
    var i;
    return typeof t == "function" ? i = t(e) : i = I.extend({}, t), i
};
var zr = function() {
    this.override_event = "click"
};
I.inherit(zr, xn);
zr.prototype.create_properties = function(t, e) {
    var i = zr.superclass.create_properties.apply(this, arguments);
    return e.href && (i.url = e.href), i
};
zr.prototype.event_handler = function(t, e, i) {
    i.new_tab = t.which === 2 || t.metaKey || t.ctrlKey || e.target === "_blank", i.href = e.href, i.new_tab || t.preventDefault()
};
zr.prototype.after_track_handler = function(t, e) {
    e.new_tab || setTimeout(function() {
        window.location = e.href
    }, 0)
};
var ma = function() {
    this.override_event = "submit"
};
I.inherit(ma, xn);
ma.prototype.event_handler = function(t, e, i) {
    i.element = e, t.preventDefault()
};
ma.prototype.after_track_handler = function(t, e) {
    setTimeout(function() {
        e.element.submit()
    }, 0)
};
var vf = Hl("lock"),
    th = function(t, e) {
        e = e || {}, this.storageKey = t, this.storage = e.storage || window.localStorage, this.pollIntervalMS = e.pollIntervalMS || 100, this.timeoutMS = e.timeoutMS || 2e3
    };
th.prototype.withLock = function(t, e, i) {
    !i && typeof e != "function" && (i = e, e = null);
    var n = i || new Date().getTime() + "|" + Math.random(),
        s = new Date().getTime(),
        o = this.storageKey,
        p = this.pollIntervalMS,
        y = this.timeoutMS,
        w = this.storage,
        x = o + ":X",
        A = o + ":Y",
        D = o + ":Z",
        B = function(W) {
            e && e(W)
        },
        X = function(W) {
            if (new Date().getTime() - s > y) {
                vf.error("Timeout waiting for mutex on " + o + "; clearing lock. [" + n + "]"), w.removeItem(D), w.removeItem(A), v();
                return
            }
            setTimeout(function() {
                try {
                    W()
                } catch (ne) {
                    B(ne)
                }
            }, p * (Math.random() + .1))
        },
        j = function(W, ne) {
            W() ? ne() : X(function() {
                j(W, ne)
            })
        },
        ie = function() {
            var W = w.getItem(A);
            if (W && W !== n) return !1;
            if (w.setItem(A, n), w.getItem(A) === n) return !0;
            if (!Wo(w, !0)) throw new Error("localStorage support dropped while acquiring lock");
            return !1
        },
        v = function() {
            w.setItem(x, n), j(ie, function() {
                if (w.getItem(x) === n) {
                    $();
                    return
                }
                X(function() {
                    if (w.getItem(A) !== n) {
                        v();
                        return
                    }
                    j(function() {
                        return !w.getItem(D)
                    }, $)
                })
            })
        },
        $ = function() {
            w.setItem(D, "1");
            try {
                t()
            } finally {
                w.removeItem(D), w.getItem(A) === n && w.removeItem(A), w.getItem(x) === n && w.removeItem(x)
            }
        };
    try {
        if (Wo(w, !0)) v();
        else throw new Error("localStorage support check failed")
    } catch (W) {
        B(W)
    }
};
var Hc = Hl("batch"),
    Fn = function(t, e) {
        e = e || {}, this.storageKey = t, this.storage = e.storage || window.localStorage, this.reportError = e.errorReporter || I.bind(Hc.error, Hc), this.lock = new th(t, {
            storage: this.storage
        }), this.pid = e.pid || null, this.memQueue = []
    };
Fn.prototype.enqueue = function(t, e, i) {
    var n = {
        id: Gl(),
        flushAfter: new Date().getTime() + e * 2,
        payload: t
    };
    this.lock.withLock(I.bind(function() {
        var o;
        try {
            var p = this.readFromStorage();
            p.push(n), o = this.saveToStorage(p), o && this.memQueue.push(n)
        } catch {
            this.reportError("Error enqueueing item", t), o = !1
        }
        i && i(o)
    }, this), I.bind(function(o) {
        this.reportError("Error acquiring storage lock", o), i && i(!1)
    }, this), this.pid)
};
Fn.prototype.fillBatch = function(t) {
    var e = this.memQueue.slice(0, t);
    if (e.length < t) {
        var i = this.readFromStorage();
        if (i.length) {
            var n = {};
            I.each(e, function(p) {
                n[p.id] = !0
            });
            for (var s = 0; s < i.length; s++) {
                var o = i[s];
                if (new Date().getTime() > o.flushAfter && !n[o.id] && (o.orphaned = !0, e.push(o), e.length >= t)) break
            }
        }
    }
    return e
};
var Gc = function(t, e) {
    var i = [];
    return I.each(t, function(n) {
        n.id && !e[n.id] && i.push(n)
    }), i
};
Fn.prototype.removeItemsByID = function(t, e) {
    var i = {};
    I.each(t, function(s) {
        i[s] = !0
    }), this.memQueue = Gc(this.memQueue, i);
    var n = I.bind(function() {
        var s;
        try {
            var o = this.readFromStorage();
            if (o = Gc(o, i), s = this.saveToStorage(o), s) {
                o = this.readFromStorage();
                for (var p = 0; p < o.length; p++) {
                    var y = o[p];
                    if (y.id && i[y.id]) return this.reportError("Item not removed from storage"), !1
                }
            }
        } catch {
            this.reportError("Error removing items", t), s = !1
        }
        return s
    }, this);
    this.lock.withLock(function() {
        var o = n();
        e && e(o)
    }, I.bind(function(o) {
        var p = !1;
        if (this.reportError("Error acquiring storage lock", o), !Wo(this.storage, !0) && (p = n(), !p)) try {
            this.storage.removeItem(this.storageKey)
        } catch (y) {
            this.reportError("Error clearing queue", y)
        }
        e && e(p)
    }, this), this.pid)
};
var Wc = function(t, e) {
    var i = [];
    return I.each(t, function(n) {
        var s = n.id;
        if (s in e) {
            var o = e[s];
            o !== null && (n.payload = o, i.push(n))
        } else i.push(n)
    }), i
};
Fn.prototype.updatePayloads = function(t, e) {
    this.memQueue = Wc(this.memQueue, t), this.lock.withLock(I.bind(function() {
        var n;
        try {
            var s = this.readFromStorage();
            s = Wc(s, t), n = this.saveToStorage(s)
        } catch {
            this.reportError("Error updating items", t), n = !1
        }
        e && e(n)
    }, this), I.bind(function(n) {
        this.reportError("Error acquiring storage lock", n), e && e(!1)
    }, this), this.pid)
};
Fn.prototype.readFromStorage = function() {
    var t;
    try {
        t = this.storage.getItem(this.storageKey), t && (t = Xo(t), I.isArray(t) || (this.reportError("Invalid storage entry:", t), t = null))
    } catch (e) {
        this.reportError("Error retrieving queue", e), t = null
    }
    return t || []
};
Fn.prototype.saveToStorage = function(t) {
    try {
        return this.storage.setItem(this.storageKey, Ko(t)), !0
    } catch (e) {
        return this.reportError("Error saving queue", e), !1
    }
};
Fn.prototype.clear = function() {
    this.memQueue = [], this.storage.removeItem(this.storageKey)
};
var yf = 10 * 60 * 1e3,
    Ns = Hl("batch"),
    sn = function(t, e) {
        this.errorReporter = e.errorReporter, this.queue = new Fn(t, {
            errorReporter: I.bind(this.reportError, this),
            storage: e.storage
        }), this.libConfig = e.libConfig, this.sendRequest = e.sendRequestFunc, this.beforeSendHook = e.beforeSendHook, this.stopAllBatching = e.stopAllBatchingFunc, this.batchSize = this.libConfig.batch_size, this.flushInterval = this.libConfig.batch_flush_interval_ms, this.stopped = !this.libConfig.batch_autostart, this.consecutiveRemovalFailures = 0
    };
sn.prototype.enqueue = function(t, e) {
    this.queue.enqueue(t, this.flushInterval, e)
};
sn.prototype.start = function() {
    this.stopped = !1, this.consecutiveRemovalFailures = 0, this.flush()
};
sn.prototype.stop = function() {
    this.stopped = !0, this.timeoutID && (clearTimeout(this.timeoutID), this.timeoutID = null)
};
sn.prototype.clear = function() {
    this.queue.clear()
};
sn.prototype.resetBatchSize = function() {
    this.batchSize = this.libConfig.batch_size
};
sn.prototype.resetFlush = function() {
    this.scheduleFlush(this.libConfig.batch_flush_interval_ms)
};
sn.prototype.scheduleFlush = function(t) {
    this.flushInterval = t, this.stopped || (this.timeoutID = setTimeout(I.bind(this.flush, this), this.flushInterval))
};
sn.prototype.flush = function(t) {
    try {
        if (this.requestInProgress) {
            Ns.log("Flush: Request already in progress");
            return
        }
        t = t || {};
        var e = this.libConfig.batch_request_timeout_ms,
            i = new Date().getTime(),
            n = this.batchSize,
            s = this.queue.fillBatch(n),
            o = [],
            p = {};
        if (I.each(s, function(x) {
                var A = x.payload;
                this.beforeSendHook && !x.orphaned && (A = this.beforeSendHook(A)), A && o.push(A), p[x.id] = A
            }, this), o.length < 1) {
            this.resetFlush();
            return
        }
        this.requestInProgress = !0;
        var y = I.bind(function(x) {
                this.requestInProgress = !1;
                try {
                    var A = !1;
                    if (t.unloading) this.queue.updatePayloads(p);
                    else if (I.isObject(x) && x.error === "timeout" && new Date().getTime() - i >= e) this.reportError("Network timeout; retrying"), this.flush();
                    else if (I.isObject(x) && x.xhr_req && (x.xhr_req.status >= 500 || x.xhr_req.status === 429 || x.error === "timeout")) {
                        var D = this.flushInterval * 2,
                            B = x.xhr_req.responseHeaders;
                        if (B) {
                            var X = B["Retry-After"];
                            X && (D = parseInt(X, 10) * 1e3 || D)
                        }
                        D = Math.min(yf, D), this.reportError("Error; retry in " + D + " ms"), this.scheduleFlush(D)
                    } else if (I.isObject(x) && x.xhr_req && x.xhr_req.status === 413)
                        if (s.length > 1) {
                            var j = Math.max(1, Math.floor(n / 2));
                            this.batchSize = Math.min(this.batchSize, j, s.length - 1), this.reportError("413 response; reducing batch size to " + this.batchSize), this.resetFlush()
                        } else this.reportError("Single-event request too large; dropping", s), this.resetBatchSize(), A = !0;
                    else A = !0;
                    A && this.queue.removeItemsByID(I.map(s, function(ie) {
                        return ie.id
                    }), I.bind(function(ie) {
                        ie ? (this.consecutiveRemovalFailures = 0, this.flush()) : (this.reportError("Failed to remove items from queue"), ++this.consecutiveRemovalFailures > 5 ? (this.reportError("Too many queue failures; disabling batching system."), this.stopAllBatching()) : this.resetFlush())
                    }, this))
                } catch (ie) {
                    this.reportError("Error handling API response", ie), this.resetFlush()
                }
            }, this),
            w = {
                method: "POST",
                verbose: !0,
                ignore_json_errors: !0,
                timeout_ms: e
            };
        t.unloading && (w.transport = "sendBeacon"), Ns.log("MIXPANEL REQUEST:", o), this.sendRequest(o, w, y)
    } catch (x) {
        this.reportError("Error flushing request queue", x), this.resetFlush()
    }
};
sn.prototype.reportError = function(t, e) {
    if (Ns.error.apply(Ns.error, arguments), this.errorReporter) try {
        e instanceof Error || (e = new Error(t)), this.errorReporter(t, e)
    } catch (i) {
        Ns.error(i)
    }
};
var wf = "__mp_opt_in_out_";

function bf(t, e) {
    rh(!0, t, e)
}

function _f(t, e) {
    rh(!1, t, e)
}

function Cf(t, e) {
    return nh(t, e) === "1"
}

function ih(t, e) {
    if (Ef(e)) return Lt.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'), !0;
    var i = nh(t, e) === "0";
    return i && Lt.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."), i
}

function Qs(t) {
    return Xl(t, function(e) {
        return this.get_config(e)
    })
}

function jn(t) {
    return Xl(t, function(e) {
        return this._get_config(e)
    })
}

function Yr(t) {
    return Xl(t, function(e) {
        return this._get_config(e)
    })
}

function xf(t, e) {
    e = e || {}, Wl(e).remove(Kl(t, e), !!e.crossSubdomainCookie, e.cookieDomain)
}

function Wl(t) {
    return t = t || {}, t.persistenceType === "localStorage" ? I.localStorage : I.cookie
}

function Kl(t, e) {
    return e = e || {}, (e.persistencePrefix || wf) + t
}

function nh(t, e) {
    return Wl(e).get(Kl(t, e))
}

function Ef(t) {
    if (t && t.ignoreDnt) return !1;
    var e = t && t.window || mi,
        i = e.navigator || {},
        n = !1;
    return I.each([i.doNotTrack, i.msDoNotTrack, e.doNotTrack], function(s) {
        I.includes([!0, 1, "1", "yes"], s) && (n = !0)
    }), n
}

function rh(t, e, i) {
    if (!I.isString(e) || !e.length) {
        Lt.error("gdpr." + (t ? "optIn" : "optOut") + " called with an invalid token");
        return
    }
    i = i || {}, Wl(i).set(Kl(e, i), t ? 1 : 0, I.isNumber(i.cookieExpiration) ? i.cookieExpiration : null, !!i.crossSubdomainCookie, !!i.secureCookie, !!i.crossSiteCookie, i.cookieDomain), i.track && t && i.track(i.trackEventName || "$opt_in", i.trackProperties, {
        send_immediately: !0
    })
}

function Xl(t, e) {
    return function() {
        var i = !1;
        try {
            var n = e.call(this, "token"),
                s = e.call(this, "ignore_dnt"),
                o = e.call(this, "opt_out_tracking_persistence_type"),
                p = e.call(this, "opt_out_tracking_cookie_prefix"),
                y = e.call(this, "window");
            n && (i = ih(n, {
                ignoreDnt: s,
                persistenceType: o,
                persistencePrefix: p,
                window: y
            }))
        } catch (x) {
            Lt.error("Unexpected error when checking tracking opt-out status: " + x)
        }
        if (!i) return t.apply(this, arguments);
        var w = arguments[arguments.length - 1];
        typeof w == "function" && w(0)
    }
}
var Bn = "$set",
    Hr = "$set_once",
    ji = "$unset",
    cr = "$add",
    bn = "$append",
    ur = "$union",
    Vn = "$remove",
    Sf = "$delete",
    sh = {
        set_action: function(t, e) {
            var i = {},
                n = {};
            return I.isObject(t) ? I.each(t, function(s, o) {
                this._is_reserved_property(o) || (n[o] = s)
            }, this) : n[t] = e, i[Bn] = n, i
        },
        unset_action: function(t) {
            var e = {},
                i = [];
            return I.isArray(t) || (t = [t]), I.each(t, function(n) {
                this._is_reserved_property(n) || i.push(n)
            }, this), e[ji] = i, e
        },
        set_once_action: function(t, e) {
            var i = {},
                n = {};
            return I.isObject(t) ? I.each(t, function(s, o) {
                this._is_reserved_property(o) || (n[o] = s)
            }, this) : n[t] = e, i[Hr] = n, i
        },
        union_action: function(t, e) {
            var i = {},
                n = {};
            return I.isObject(t) ? I.each(t, function(s, o) {
                this._is_reserved_property(o) || (n[o] = I.isArray(s) ? s : [s])
            }, this) : n[t] = I.isArray(e) ? e : [e], i[ur] = n, i
        },
        append_action: function(t, e) {
            var i = {},
                n = {};
            return I.isObject(t) ? I.each(t, function(s, o) {
                this._is_reserved_property(o) || (n[o] = s)
            }, this) : n[t] = e, i[bn] = n, i
        },
        remove_action: function(t, e) {
            var i = {},
                n = {};
            return I.isObject(t) ? I.each(t, function(s, o) {
                this._is_reserved_property(o) || (n[o] = s)
            }, this) : n[t] = e, i[Vn] = n, i
        },
        delete_action: function() {
            var t = {};
            return t[Sf] = "", t
        }
    },
    Vt = function() {};
I.extend(Vt.prototype, sh);
Vt.prototype._init = function(t, e, i) {
    this._mixpanel = t, this._group_key = e, this._group_id = i
};
Vt.prototype.set = Yr(function(t, e, i) {
    var n = this.set_action(t, e);
    return I.isObject(t) && (i = e), this._send_request(n, i)
});
Vt.prototype.set_once = Yr(function(t, e, i) {
    var n = this.set_once_action(t, e);
    return I.isObject(t) && (i = e), this._send_request(n, i)
});
Vt.prototype.unset = Yr(function(t, e) {
    var i = this.unset_action(t);
    return this._send_request(i, e)
});
Vt.prototype.union = Yr(function(t, e, i) {
    I.isObject(t) && (i = e);
    var n = this.union_action(t, e);
    return this._send_request(n, i)
});
Vt.prototype.delete = Yr(function(t) {
    var e = this.delete_action();
    return this._send_request(e, t)
});
Vt.prototype.remove = Yr(function(t, e, i) {
    var n = this.remove_action(t, e);
    return this._send_request(n, i)
});
Vt.prototype._send_request = function(t, e) {
    t.$group_key = this._group_key, t.$group_id = this._group_id, t.$token = this._get_config("token");
    var i = I.encodeDates(t);
    return this._mixpanel._track_or_batch({
        type: "groups",
        data: i,
        endpoint: this._get_config("api_host") + "/groups/",
        batcher: this._mixpanel.request_batchers.groups
    }, e)
};
Vt.prototype._is_reserved_property = function(t) {
    return t === "$group_key" || t === "$group_id"
};
Vt.prototype._get_config = function(t) {
    return this._mixpanel.get_config(t)
};
Vt.prototype.toString = function() {
    return this._mixpanel.toString() + ".group." + this._group_key + "." + this._group_id
};
Vt.prototype.remove = Vt.prototype.remove;
Vt.prototype.set = Vt.prototype.set;
Vt.prototype.set_once = Vt.prototype.set_once;
Vt.prototype.union = Vt.prototype.union;
Vt.prototype.unset = Vt.prototype.unset;
Vt.prototype.toString = Vt.prototype.toString;
var ct = function() {};
I.extend(ct.prototype, sh);
ct.prototype._init = function(t) {
    this._mixpanel = t
};
ct.prototype.set = jn(function(t, e, i) {
    var n = this.set_action(t, e);
    return I.isObject(t) && (i = e), this._get_config("save_referrer") && this._mixpanel.persistence.update_referrer_info(document.referrer), n[Bn] = I.extend({}, I.info.people_properties(), this._mixpanel.persistence.get_referrer_info(), n[Bn]), this._send_request(n, i)
});
ct.prototype.set_once = jn(function(t, e, i) {
    var n = this.set_once_action(t, e);
    return I.isObject(t) && (i = e), this._send_request(n, i)
});
ct.prototype.unset = jn(function(t, e) {
    var i = this.unset_action(t);
    return this._send_request(i, e)
});
ct.prototype.increment = jn(function(t, e, i) {
    var n = {},
        s = {};
    return I.isObject(t) ? (I.each(t, function(o, p) {
        if (!this._is_reserved_property(p))
            if (isNaN(parseFloat(o))) {
                Lt.error("Invalid increment value passed to mixpanel.people.increment - must be a number");
                return
            } else s[p] = o
    }, this), i = e) : (I.isUndefined(e) && (e = 1), s[t] = e), n[cr] = s, this._send_request(n, i)
});
ct.prototype.append = jn(function(t, e, i) {
    I.isObject(t) && (i = e);
    var n = this.append_action(t, e);
    return this._send_request(n, i)
});
ct.prototype.remove = jn(function(t, e, i) {
    I.isObject(t) && (i = e);
    var n = this.remove_action(t, e);
    return this._send_request(n, i)
});
ct.prototype.union = jn(function(t, e, i) {
    I.isObject(t) && (i = e);
    var n = this.union_action(t, e);
    return this._send_request(n, i)
});
ct.prototype.track_charge = jn(function(t, e, i) {
    if (!I.isNumber(t) && (t = parseFloat(t), isNaN(t))) {
        Lt.error("Invalid value passed to mixpanel.people.track_charge - must be a number");
        return
    }
    return this.append("$transactions", I.extend({
        $amount: t
    }, e), i)
});
ct.prototype.clear_charges = function(t) {
    return this.set("$transactions", [], t)
};
ct.prototype.delete_user = function() {
    if (!this._identify_called()) {
        Lt.error("mixpanel.people.delete_user() requires you to call identify() first");
        return
    }
    var t = {
        $delete: this._mixpanel.get_distinct_id()
    };
    return this._send_request(t)
};
ct.prototype.toString = function() {
    return this._mixpanel.toString() + ".people"
};
ct.prototype._send_request = function(t, e) {
    t.$token = this._get_config("token"), t.$distinct_id = this._mixpanel.get_distinct_id();
    var i = this._mixpanel.get_property("$device_id"),
        n = this._mixpanel.get_property("$user_id"),
        s = this._mixpanel.get_property("$had_persisted_distinct_id");
    i && (t.$device_id = i), n && (t.$user_id = n), s && (t.$had_persisted_distinct_id = s);
    var o = I.encodeDates(t);
    return this._identify_called() ? this._mixpanel._track_or_batch({
        type: "people",
        data: o,
        endpoint: this._get_config("api_host") + "/engage/",
        batcher: this._mixpanel.request_batchers.people
    }, e) : (this._enqueue(t), I.isUndefined(e) || (this._get_config("verbose") ? e({
        status: -1,
        error: null
    }) : e(-1)), I.truncate(o, 255))
};
ct.prototype._get_config = function(t) {
    return this._mixpanel.get_config(t)
};
ct.prototype._identify_called = function() {
    return this._mixpanel._flags.identify_called === !0
};
ct.prototype._enqueue = function(t) {
    Bn in t ? this._mixpanel.persistence._add_to_people_queue(Bn, t) : Hr in t ? this._mixpanel.persistence._add_to_people_queue(Hr, t) : ji in t ? this._mixpanel.persistence._add_to_people_queue(ji, t) : cr in t ? this._mixpanel.persistence._add_to_people_queue(cr, t) : bn in t ? this._mixpanel.persistence._add_to_people_queue(bn, t) : Vn in t ? this._mixpanel.persistence._add_to_people_queue(Vn, t) : ur in t ? this._mixpanel.persistence._add_to_people_queue(ur, t) : Lt.error("Invalid call to _enqueue():", t)
};
ct.prototype._flush_one_queue = function(t, e, i, n) {
    var s = this,
        o = I.extend({}, this._mixpanel.persistence._get_queue(t)),
        p = o;
    !I.isUndefined(o) && I.isObject(o) && !I.isEmptyObject(o) && (s._mixpanel.persistence._pop_from_people_queue(t, o), n && (p = n(o)), e.call(s, p, function(y, w) {
        y === 0 && s._mixpanel.persistence._add_to_people_queue(t, o), I.isUndefined(i) || i(y, w)
    }))
};
ct.prototype._flush = function(t, e, i, n, s, o, p) {
    var y = this,
        w = this._mixpanel.persistence._get_queue(bn),
        x = this._mixpanel.persistence._get_queue(Vn);
    if (this._flush_one_queue(Bn, this.set, t), this._flush_one_queue(Hr, this.set_once, n), this._flush_one_queue(ji, this.unset, o, function(v) {
            return I.keys(v)
        }), this._flush_one_queue(cr, this.increment, e), this._flush_one_queue(ur, this.union, s), !I.isUndefined(w) && I.isArray(w) && w.length) {
        for (var A, D = function(v, $) {
                v === 0 && y._mixpanel.persistence._add_to_people_queue(bn, A), I.isUndefined(i) || i(v, $)
            }, B = w.length - 1; B >= 0; B--) A = w.pop(), I.isEmptyObject(A) || y.append(A, D);
        y._mixpanel.persistence.save()
    }
    if (!I.isUndefined(x) && I.isArray(x) && x.length) {
        for (var X, j = function(v, $) {
                v === 0 && y._mixpanel.persistence._add_to_people_queue(Vn, X), I.isUndefined(p) || p(v, $)
            }, ie = x.length - 1; ie >= 0; ie--) X = x.pop(), I.isEmptyObject(X) || y.remove(X, j);
        y._mixpanel.persistence.save()
    }
};
ct.prototype._is_reserved_property = function(t) {
    return t === "$distinct_id" || t === "$token" || t === "$device_id" || t === "$user_id" || t === "$had_persisted_distinct_id"
};
ct.prototype.set = ct.prototype.set;
ct.prototype.set_once = ct.prototype.set_once;
ct.prototype.unset = ct.prototype.unset;
ct.prototype.increment = ct.prototype.increment;
ct.prototype.append = ct.prototype.append;
ct.prototype.remove = ct.prototype.remove;
ct.prototype.union = ct.prototype.union;
ct.prototype.track_charge = ct.prototype.track_charge;
ct.prototype.clear_charges = ct.prototype.clear_charges;
ct.prototype.delete_user = ct.prototype.delete_user;
ct.prototype.toString = ct.prototype.toString;
var Yl = "__mps",
    Jl = "__mpso",
    Ql = "__mpus",
    Zl = "__mpa",
    ec = "__mpap",
    tc = "__mpr",
    ic = "__mpu",
    oh = "$people_distinct_id",
    Yo = "__alias",
    Ks = "__timers",
    kf = [Yl, Jl, Ql, Zl, ec, tc, ic, oh, Yo, Ks],
    pt = function(t) {
        this.props = {}, this.campaign_params_saved = !1, t.persistence_name ? this.name = "mp_" + t.persistence_name : this.name = "mp_" + t.token + "_mixpanel";
        var e = t.persistence;
        e !== "cookie" && e !== "localStorage" && (Lt.critical("Unknown persistence type " + e + "; falling back to cookie"), e = t.persistence = "cookie"), e === "localStorage" && I.localStorage.is_supported() ? this.storage = I.localStorage : this.storage = I.cookie, this.load(), this.update_config(t), this.upgrade(t), this.save()
    };
pt.prototype.properties = function() {
    var t = {};
    return I.each(this.props, function(e, i) {
        I.include(kf, i) || (t[i] = e)
    }), t
};
pt.prototype.load = function() {
    if (!this.disabled) {
        var t = this.storage.parse(this.name);
        t && (this.props = I.extend({}, t))
    }
};
pt.prototype.upgrade = function(t) {
    var e = t.upgrade,
        i, n;
    e && (i = "mp_super_properties", typeof e == "string" && (i = e), n = this.storage.parse(i), this.storage.remove(i), this.storage.remove(i, !0), n && (this.props = I.extend(this.props, n.all, n.events))), !t.cookie_name && t.name !== "mixpanel" && (i = "mp_" + t.token + "_" + t.name, n = this.storage.parse(i), n && (this.storage.remove(i), this.storage.remove(i, !0), this.register_once(n))), this.storage === I.localStorage && (n = I.cookie.parse(this.name), I.cookie.remove(this.name), I.cookie.remove(this.name, !0), n && this.register_once(n))
};
pt.prototype.save = function() {
    this.disabled || this.storage.set(this.name, I.JSONEncode(this.props), this.expire_days, this.cross_subdomain, this.secure, this.cross_site, this.cookie_domain)
};
pt.prototype.remove = function() {
    this.storage.remove(this.name, !1, this.cookie_domain), this.storage.remove(this.name, !0, this.cookie_domain)
};
pt.prototype.clear = function() {
    this.remove(), this.props = {}
};
pt.prototype.register_once = function(t, e, i) {
    return I.isObject(t) ? (typeof e > "u" && (e = "None"), this.expire_days = typeof i > "u" ? this.default_expiry : i, I.each(t, function(n, s) {
        (!this.props.hasOwnProperty(s) || this.props[s] === e) && (this.props[s] = n)
    }, this), this.save(), !0) : !1
};
pt.prototype.register = function(t, e) {
    return I.isObject(t) ? (this.expire_days = typeof e > "u" ? this.default_expiry : e, I.extend(this.props, t), this.save(), !0) : !1
};
pt.prototype.unregister = function(t) {
    t in this.props && (delete this.props[t], this.save())
};
pt.prototype.update_campaign_params = function() {
    this.campaign_params_saved || (this.register_once(I.info.campaignParams()), this.campaign_params_saved = !0)
};
pt.prototype.update_search_keyword = function(t) {
    this.register(I.info.searchInfo(t))
};
pt.prototype.update_referrer_info = function(t) {
    this.register_once({
        $initial_referrer: t || "$direct",
        $initial_referring_domain: I.info.referringDomain(t) || "$direct"
    }, "")
};
pt.prototype.get_referrer_info = function() {
    return I.strip_empty_properties({
        $initial_referrer: this.props.$initial_referrer,
        $initial_referring_domain: this.props.$initial_referring_domain
    })
};
pt.prototype.safe_merge = function(t) {
    return I.each(this.props, function(e, i) {
        i in t || (t[i] = e)
    }), t
};
pt.prototype.update_config = function(t) {
    this.default_expiry = this.expire_days = t.cookie_expiration, this.set_disabled(t.disable_persistence), this.set_cookie_domain(t.cookie_domain), this.set_cross_site(t.cross_site_cookie), this.set_cross_subdomain(t.cross_subdomain_cookie), this.set_secure(t.secure_cookie)
};
pt.prototype.set_disabled = function(t) {
    this.disabled = t, this.disabled ? this.remove() : this.save()
};
pt.prototype.set_cookie_domain = function(t) {
    t !== this.cookie_domain && (this.remove(), this.cookie_domain = t, this.save())
};
pt.prototype.set_cross_site = function(t) {
    t !== this.cross_site && (this.cross_site = t, this.remove(), this.save())
};
pt.prototype.set_cross_subdomain = function(t) {
    t !== this.cross_subdomain && (this.cross_subdomain = t, this.remove(), this.save())
};
pt.prototype.get_cross_subdomain = function() {
    return this.cross_subdomain
};
pt.prototype.set_secure = function(t) {
    t !== this.secure && (this.secure = !!t, this.remove(), this.save())
};
pt.prototype._add_to_people_queue = function(t, e) {
    var i = this._get_queue_key(t),
        n = e[t],
        s = this._get_or_create_queue(Bn),
        o = this._get_or_create_queue(Hr),
        p = this._get_or_create_queue(ji),
        y = this._get_or_create_queue(cr),
        w = this._get_or_create_queue(ur),
        x = this._get_or_create_queue(Vn, []),
        A = this._get_or_create_queue(bn, []);
    i === Yl ? (I.extend(s, n), this._pop_from_people_queue(cr, n), this._pop_from_people_queue(ur, n), this._pop_from_people_queue(ji, n)) : i === Jl ? (I.each(n, function(D, B) {
        B in o || (o[B] = D)
    }), this._pop_from_people_queue(ji, n)) : i === Ql ? I.each(n, function(D) {
        I.each([s, o, y, w], function(B) {
            D in B && delete B[D]
        }), I.each(A, function(B) {
            D in B && delete B[D]
        }), p[D] = !0
    }) : i === Zl ? (I.each(n, function(D, B) {
        B in s ? s[B] += D : (B in y || (y[B] = 0), y[B] += D)
    }, this), this._pop_from_people_queue(ji, n)) : i === ic ? (I.each(n, function(D, B) {
        I.isArray(D) && (B in w || (w[B] = []), w[B] = w[B].concat(D))
    }), this._pop_from_people_queue(ji, n)) : i === tc ? (x.push(n), this._pop_from_people_queue(bn, n)) : i === ec && (A.push(n), this._pop_from_people_queue(ji, n)), Lt.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"), Lt.log(e), this.save()
};
pt.prototype._pop_from_people_queue = function(t, e) {
    var i = this._get_queue(t);
    I.isUndefined(i) || (I.each(e, function(n, s) {
        t === bn || t === Vn ? I.each(i, function(o) {
            o[s] === n && delete o[s]
        }) : delete i[s]
    }, this), this.save())
};
pt.prototype._get_queue_key = function(t) {
    if (t === Bn) return Yl;
    if (t === Hr) return Jl;
    if (t === ji) return Ql;
    if (t === cr) return Zl;
    if (t === bn) return ec;
    if (t === Vn) return tc;
    if (t === ur) return ic;
    Lt.error("Invalid queue:", t)
};
pt.prototype._get_queue = function(t) {
    return this.props[this._get_queue_key(t)]
};
pt.prototype._get_or_create_queue = function(t, e) {
    var i = this._get_queue_key(t);
    return e = I.isUndefined(e) ? {} : e, this.props[i] || (this.props[i] = e)
};
pt.prototype.set_event_timer = function(t, e) {
    var i = this.props[Ks] || {};
    i[t] = e, this.props[Ks] = i, this.save()
};
pt.prototype.remove_event_timer = function(t) {
    var e = this.props[Ks] || {},
        i = e[t];
    return I.isUndefined(i) || (delete this.props[Ks][t], this.save()), i
};
var nc, gi, ah = 0,
    Tf = 1,
    Af = function(t) {
        return t
    },
    Xs = function() {},
    Li = "mixpanel",
    lh = "base64",
    Of = "json",
    Br = mi.XMLHttpRequest && "withCredentials" in new XMLHttpRequest,
    ch = !Br && Fi.indexOf("MSIE") === -1 && Fi.indexOf("Mozilla") === -1,
    Jo = null;
yn.sendBeacon && (Jo = function() {
    return yn.sendBeacon.apply(yn, arguments)
});
var Kc = {
        api_host: "https://api-js.mixpanel.com",
        api_method: "POST",
        api_transport: "XHR",
        api_payload_format: lh,
        app_host: "https://mixpanel.com",
        cdn: "https://cdn.mxpnl.com",
        cross_site_cookie: !1,
        cross_subdomain_cookie: !0,
        error_reporter: Xs,
        persistence: "cookie",
        persistence_name: "",
        cookie_domain: "",
        cookie_name: "",
        loaded: Xs,
        store_google: !0,
        save_referrer: !0,
        test: !1,
        verbose: !1,
        img: !1,
        debug: !1,
        track_links_timeout: 300,
        cookie_expiration: 365,
        upgrade: !1,
        disable_persistence: !1,
        disable_cookie: !1,
        secure_cookie: !1,
        ip: !0,
        opt_out_tracking_by_default: !1,
        opt_out_persistence_by_default: !1,
        opt_out_tracking_persistence_type: "localStorage",
        opt_out_tracking_cookie_prefix: null,
        property_blacklist: [],
        xhr_headers: {},
        ignore_dnt: !1,
        batch_requests: !0,
        batch_size: 50,
        batch_flush_interval_ms: 5e3,
        batch_request_timeout_ms: 9e4,
        batch_autostart: !0,
        hooks: {}
    },
    uh = !1,
    ve = function() {},
    Tl = function(t, e, i) {
        var n, s = i === Li ? gi : gi[i];
        if (s && nc === ah) n = s;
        else {
            if (s && !I.isArray(s)) {
                Lt.error("You have already initialized " + i);
                return
            }
            n = new ve
        }
        return n._cached_groups = {}, n._init(t, e, i), n.people = new ct, n.people._init(n), $n.DEBUG = $n.DEBUG || n.get_config("debug"), !I.isUndefined(s) && I.isArray(s) && (n._execute_array.call(n.people, s.people), n._execute_array(s)), n
    };
ve.prototype.init = function(t, e, i) {
    if (I.isUndefined(i)) {
        this.report_error("You must name your new library: init(token, config, name)");
        return
    }
    if (i === Li) {
        this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");
        return
    }
    var n = Tl(t, e, i);
    return gi[i] = n, n._loaded(), n
};
ve.prototype._init = function(t, e, i) {
    e = e || {}, this.__loaded = !0, this.config = {};
    var n = {};
    if (!("api_payload_format" in e)) {
        var s = e.api_host || Kc.api_host;
        s.match(/\.mixpanel\.com$/) && (n.api_payload_format = Of)
    }
    if (this.set_config(I.extend({}, Kc, n, e, {
            name: i,
            token: t,
            callback_fn: (i === Li ? i : Li + "." + i) + "._jsc"
        })), this._jsc = Xs, this.__dom_loaded_queue = [], this.__request_queue = [], this.__disabled_events = [], this._flags = {
            disable_all_events: !1,
            identify_called: !1
        }, this.request_batchers = {}, this._batch_requests = this.get_config("batch_requests"), this._batch_requests) {
        if (!I.localStorage.is_supported(!0) || !Br) this._batch_requests = !1, Lt.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support");
        else if (this.init_batchers(), Jo && mi.addEventListener) {
            var o = I.bind(function() {
                this.request_batchers.events.stopped || this.request_batchers.events.flush({
                    unloading: !0
                })
            }, this);
            mi.addEventListener("pagehide", function(y) {
                y.persisted && o()
            }), mi.addEventListener("visibilitychange", function() {
                $t.visibilityState === "hidden" && o()
            })
        }
    }
    this.persistence = this.cookie = new pt(this.config), this.unpersisted_superprops = {}, this._gdpr_init();
    var p = I.UUID();
    this.get_distinct_id() || this.register_once({
        distinct_id: p,
        $device_id: p
    }, "")
};
ve.prototype._loaded = function() {
    this.get_config("loaded")(this), this._set_default_superprops()
};
ve.prototype._set_default_superprops = function() {
    this.persistence.update_search_keyword($t.referrer), this.get_config("store_google") && this.persistence.update_campaign_params(), this.get_config("save_referrer") && this.persistence.update_referrer_info($t.referrer)
};
ve.prototype._dom_loaded = function() {
    I.each(this.__dom_loaded_queue, function(t) {
        this._track_dom.apply(this, t)
    }, this), this.has_opted_out_tracking() || I.each(this.__request_queue, function(t) {
        this._send_request.apply(this, t)
    }, this), delete this.__dom_loaded_queue, delete this.__request_queue
};
ve.prototype._track_dom = function(t, e) {
    if (this.get_config("img")) return this.report_error("You can't use DOM tracking functions with img = true."), !1;
    if (!uh) return this.__dom_loaded_queue.push([t, e]), !1;
    var i = new t().init(this);
    return i.track.apply(i, e)
};
ve.prototype._prepare_callback = function(t, e) {
    if (I.isUndefined(t)) return null;
    if (Br) {
        var i = function(p) {
            t(p, e)
        };
        return i
    } else {
        var n = this._jsc,
            s = "" + Math.floor(Math.random() * 1e8),
            o = this.get_config("callback_fn") + "[" + s + "]";
        return n[s] = function(p) {
            delete n[s], t(p, e)
        }, o
    }
};
ve.prototype._send_request = function(t, e, i, n) {
    var s = !0;
    if (ch) return this.__request_queue.push(arguments), s;
    var o = {
            method: this.get_config("api_method"),
            transport: this.get_config("api_transport"),
            verbose: this.get_config("verbose")
        },
        p = null;
    !n && (I.isFunction(i) || typeof i == "string") && (n = i, i = null), i = I.extend(o, i || {}), Br || (i.method = "GET");
    var y = i.method === "POST",
        w = Jo && y && i.transport.toLowerCase() === "sendbeacon",
        x = i.verbose;
    e.verbose && (x = !0), this.get_config("test") && (e.test = 1), x && (e.verbose = 1), this.get_config("img") && (e.img = 1), Br || (n ? e.callback = n : (x || this.get_config("test")) && (e.callback = "(function(){})")), e.ip = this.get_config("ip") ? 1 : 0, e._ = new Date().getTime().toString(), y && (p = "data=" + encodeURIComponent(e.data), delete e.data), t += "?" + I.HTTPBuildQuery(e);
    var A = this;
    if ("img" in e) {
        var D = $t.createElement("img");
        D.src = t, $t.body.appendChild(D)
    } else if (w) {
        try {
            s = Jo(t, p)
        } catch ($) {
            A.report_error($), s = !1
        }
        try {
            n && n(s ? 1 : 0)
        } catch ($) {
            A.report_error($)
        }
    } else if (Br) try {
        var B = new XMLHttpRequest;
        B.open(i.method, t, !0);
        var X = this.get_config("xhr_headers");
        if (y && (X["Content-Type"] = "application/x-www-form-urlencoded"), I.each(X, function($, W) {
                B.setRequestHeader(W, $)
            }), i.timeout_ms && typeof B.timeout < "u") {
            B.timeout = i.timeout_ms;
            var j = new Date().getTime()
        }
        B.withCredentials = !0, B.onreadystatechange = function() {
            if (B.readyState === 4)
                if (B.status === 200) {
                    if (n)
                        if (x) {
                            var $;
                            try {
                                $ = I.JSONDecode(B.responseText)
                            } catch (ne) {
                                if (A.report_error(ne), i.ignore_json_errors) $ = B.responseText;
                                else return
                            }
                            n($)
                        } else n(Number(B.responseText))
                } else {
                    var W;
                    B.timeout && !B.status && new Date().getTime() - j >= B.timeout ? W = "timeout" : W = "Bad HTTP status: " + B.status + " " + B.statusText, A.report_error(W), n && n(x ? {
                        status: 0,
                        error: W,
                        xhr_req: B
                    } : 0)
                }
        }, B.send(p)
    } catch ($) {
        A.report_error($), s = !1
    } else {
        var ie = $t.createElement("script");
        ie.type = "text/javascript", ie.async = !0, ie.defer = !0, ie.src = t;
        var v = $t.getElementsByTagName("script")[0];
        v.parentNode.insertBefore(ie, v)
    }
    return s
};
ve.prototype._execute_array = function(t) {
    var e, i = [],
        n = [],
        s = [];
    I.each(t, function(p) {
        p && (e = p[0], I.isArray(e) ? s.push(p) : typeof p == "function" ? p.call(this) : I.isArray(p) && e === "alias" ? i.push(p) : I.isArray(p) && e.indexOf("track") !== -1 && typeof this[e] == "function" ? s.push(p) : n.push(p))
    }, this);
    var o = function(p, y) {
        I.each(p, function(w) {
            if (I.isArray(w[0])) {
                var x = y;
                I.each(w, function(A) {
                    x = x[A[0]].apply(x, A.slice(1))
                })
            } else this[w[0]].apply(this, w.slice(1))
        }, y)
    };
    o(i, this), o(n, this), o(s, this)
};
ve.prototype.are_batchers_initialized = function() {
    return !!this.request_batchers.events
};
ve.prototype.init_batchers = function() {
    var t = this.get_config("token");
    if (!this.are_batchers_initialized()) {
        var e = I.bind(function(i) {
            return new sn("__mpq_" + t + i.queue_suffix, {
                libConfig: this.config,
                sendRequestFunc: I.bind(function(n, s, o) {
                    this._send_request(this.get_config("api_host") + i.endpoint, this._encode_data_for_request(n), s, this._prepare_callback(o, n))
                }, this),
                beforeSendHook: I.bind(function(n) {
                    return this._run_hook("before_send_" + i.type, n)
                }, this),
                errorReporter: this.get_config("error_reporter"),
                stopAllBatchingFunc: I.bind(this.stop_batch_senders, this)
            })
        }, this);
        this.request_batchers = {
            events: e({
                type: "events",
                endpoint: "/track/",
                queue_suffix: "_ev"
            }),
            people: e({
                type: "people",
                endpoint: "/engage/",
                queue_suffix: "_pp"
            }),
            groups: e({
                type: "groups",
                endpoint: "/groups/",
                queue_suffix: "_gr"
            })
        }
    }
    this.get_config("batch_autostart") && this.start_batch_senders()
};
ve.prototype.start_batch_senders = function() {
    this.are_batchers_initialized() && (this._batch_requests = !0, I.each(this.request_batchers, function(t) {
        t.start()
    }))
};
ve.prototype.stop_batch_senders = function() {
    this._batch_requests = !1, I.each(this.request_batchers, function(t) {
        t.stop(), t.clear()
    })
};
ve.prototype.push = function(t) {
    this._execute_array([t])
};
ve.prototype.disable = function(t) {
    typeof t > "u" ? this._flags.disable_all_events = !0 : this.__disabled_events = this.__disabled_events.concat(t)
};
ve.prototype._encode_data_for_request = function(t) {
    var e = I.JSONEncode(t);
    return this.get_config("api_payload_format") === lh && (e = I.base64Encode(e)), {
        data: e
    }
};
ve.prototype._track_or_batch = function(t, e) {
    var i = I.truncate(t.data, 255),
        n = t.endpoint,
        s = t.batcher,
        o = t.should_send_immediately,
        p = t.send_request_options || {};
    e = e || Xs;
    var y = !0,
        w = I.bind(function() {
            return p.skip_hooks || (i = this._run_hook("before_send_" + t.type, i)), i ? (Lt.log("MIXPANEL REQUEST:"), Lt.log(i), this._send_request(n, this._encode_data_for_request(i), p, this._prepare_callback(e, i))) : null
        }, this);
    return this._batch_requests && !o ? s.enqueue(i, function(x) {
        x ? e(1, i) : w()
    }) : y = w(), y && i
};
ve.prototype.track = Qs(function(t, e, i, n) {
    !n && typeof i == "function" && (n = i, i = null), i = i || {};
    var s = i.transport;
    s && (i.transport = s);
    var o = i.send_immediately;
    if (typeof n != "function" && (n = Xs), I.isUndefined(t)) {
        this.report_error("No event name provided to mixpanel.track");
        return
    }
    if (this._event_is_disabled(t)) {
        n(0);
        return
    }
    e = e || {}, e.token = this.get_config("token");
    var p = this.persistence.remove_event_timer(t);
    if (!I.isUndefined(p)) {
        var y = new Date().getTime() - p;
        e.$duration = parseFloat((y / 1e3).toFixed(3))
    }
    this._set_default_superprops(), e = I.extend({}, I.info.properties(), this.persistence.properties(), this.unpersisted_superprops, e);
    var w = this.get_config("property_blacklist");
    I.isArray(w) ? I.each(w, function(D) {
        delete e[D]
    }) : this.report_error("Invalid value for property_blacklist config: " + w);
    var x = {
            event: t,
            properties: e
        },
        A = this._track_or_batch({
            type: "events",
            data: x,
            endpoint: this.get_config("api_host") + "/track/",
            batcher: this.request_batchers.events,
            should_send_immediately: o,
            send_request_options: i
        }, n);
    return A
});
ve.prototype.set_group = Qs(function(t, e, i) {
    I.isArray(e) || (e = [e]);
    var n = {};
    return n[t] = e, this.register(n), this.people.set(t, e, i)
});
ve.prototype.add_group = Qs(function(t, e, i) {
    var n = this.get_property(t);
    if (n === void 0) {
        var s = {};
        s[t] = [e], this.register(s)
    } else n.indexOf(e) === -1 && (n.push(e), this.register(s));
    return this.people.union(t, e, i)
});
ve.prototype.remove_group = Qs(function(t, e, i) {
    var n = this.get_property(t);
    if (n !== void 0) {
        var s = n.indexOf(e);
        s > -1 && (n.splice(s, 1), this.register({
            group_key: n
        })), n.length === 0 && this.unregister(t)
    }
    return this.people.remove(t, e, i)
});
ve.prototype.track_with_groups = Qs(function(t, e, i, n) {
    var s = I.extend({}, e || {});
    return I.each(i, function(o, p) {
        o != null && (s[p] = o)
    }), this.track(t, s, n)
});
ve.prototype._create_map_key = function(t, e) {
    return t + "_" + JSON.stringify(e)
};
ve.prototype._remove_group_from_cache = function(t, e) {
    delete this._cached_groups[this._create_map_key(t, e)]
};
ve.prototype.get_group = function(t, e) {
    var i = this._create_map_key(t, e),
        n = this._cached_groups[i];
    return (n === void 0 || n._group_key !== t || n._group_id !== e) && (n = new Vt, n._init(this, t, e), this._cached_groups[i] = n), n
};
ve.prototype.track_pageview = function(t) {
    I.isUndefined(t) && (t = $t.location.href), this.track("mp_page_view", I.info.pageviewInfo(t))
};
ve.prototype.track_links = function() {
    return this._track_dom.call(this, zr, arguments)
};
ve.prototype.track_forms = function() {
    return this._track_dom.call(this, ma, arguments)
};
ve.prototype.time_event = function(t) {
    if (I.isUndefined(t)) {
        this.report_error("No event name provided to mixpanel.time_event");
        return
    }
    this._event_is_disabled(t) || this.persistence.set_event_timer(t, new Date().getTime())
};
var If = {
        persistent: !0
    },
    rc = function(t) {
        var e;
        return I.isObject(t) ? e = t : I.isUndefined(t) ? e = {} : e = {
            days: t
        }, I.extend({}, If, e)
    };
ve.prototype.register = function(t, e) {
    var i = rc(e);
    i.persistent ? this.persistence.register(t, i.days) : I.extend(this.unpersisted_superprops, t)
};
ve.prototype.register_once = function(t, e, i) {
    var n = rc(i);
    n.persistent ? this.persistence.register_once(t, e, n.days) : (typeof e > "u" && (e = "None"), I.each(t, function(s, o) {
        (!this.unpersisted_superprops.hasOwnProperty(o) || this.unpersisted_superprops[o] === e) && (this.unpersisted_superprops[o] = s)
    }, this))
};
ve.prototype.unregister = function(t, e) {
    e = rc(e), e.persistent ? this.persistence.unregister(t) : delete this.unpersisted_superprops[t]
};
ve.prototype._register_single = function(t, e) {
    var i = {};
    i[t] = e, this.register(i)
};
ve.prototype.identify = function(t, e, i, n, s, o, p, y) {
    var w = this.get_distinct_id();
    if (this.register({
            $user_id: t
        }), !this.get_property("$device_id")) {
        var x = w;
        this.register_once({
            $had_persisted_distinct_id: !0,
            $device_id: x
        }, "")
    }
    t !== w && t !== this.get_property(Yo) && (this.unregister(Yo), this.register({
        distinct_id: t
    })), this._flags.identify_called = !0, this.people._flush(e, i, n, s, o, p, y), t !== w && this.track("$identify", {
        distinct_id: t,
        $anon_distinct_id: w
    }, {
        skip_hooks: !0
    })
};
ve.prototype.reset = function() {
    this.persistence.clear(), this._flags.identify_called = !1;
    var t = I.UUID();
    this.register_once({
        distinct_id: t,
        $device_id: t
    }, "")
};
ve.prototype.get_distinct_id = function() {
    return this.get_property("distinct_id")
};
ve.prototype.alias = function(t, e) {
    if (t === this.get_property(oh)) return this.report_error("Attempting to create alias for existing People user - aborting."), -2;
    var i = this;
    return I.isUndefined(e) && (e = this.get_distinct_id()), t !== e ? (this._register_single(Yo, t), this.track("$create_alias", {
        alias: t,
        distinct_id: e
    }, {
        skip_hooks: !0
    }, function() {
        i.identify(t)
    })) : (this.report_error("alias matches current distinct_id - skipping api call."), this.identify(t), -1)
};
ve.prototype.name_tag = function(t) {
    this._register_single("mp_name_tag", t)
};
ve.prototype.set_config = function(t) {
    if (I.isObject(t)) {
        I.extend(this.config, t);
        var e = t.batch_size;
        e && I.each(this.request_batchers, function(i) {
            i.resetBatchSize()
        }), this.get_config("persistence_name") || (this.config.persistence_name = this.config.cookie_name), this.get_config("disable_persistence") || (this.config.disable_persistence = this.config.disable_cookie), this.persistence && this.persistence.update_config(this.config), $n.DEBUG = $n.DEBUG || this.get_config("debug")
    }
};
ve.prototype.get_config = function(t) {
    return this.config[t]
};
ve.prototype._run_hook = function(t) {
    var e = (this.config.hooks[t] || Af).apply(this, Dn.call(arguments, 1));
    return typeof e > "u" && (this.report_error(t + " hook did not return a value"), e = null), e
};
ve.prototype.get_property = function(t) {
    return this.persistence.props[t]
};
ve.prototype.toString = function() {
    var t = this.get_config("name");
    return t !== Li && (t = Li + "." + t), t
};
ve.prototype._event_is_disabled = function(t) {
    return I.isBlockedUA(Fi) || this._flags.disable_all_events || I.include(this.__disabled_events, t)
};
ve.prototype._gdpr_init = function() {
    var t = this.get_config("opt_out_tracking_persistence_type") === "localStorage";
    t && I.localStorage.is_supported() && (!this.has_opted_in_tracking() && this.has_opted_in_tracking({
        persistence_type: "cookie"
    }) && this.opt_in_tracking({
        enable_persistence: !1
    }), !this.has_opted_out_tracking() && this.has_opted_out_tracking({
        persistence_type: "cookie"
    }) && this.opt_out_tracking({
        clear_persistence: !1
    }), this.clear_opt_in_out_tracking({
        persistence_type: "cookie",
        enable_persistence: !1
    })), this.has_opted_out_tracking() ? this._gdpr_update_persistence({
        clear_persistence: !0
    }) : !this.has_opted_in_tracking() && (this.get_config("opt_out_tracking_by_default") || I.cookie.get("mp_optout")) && (I.cookie.remove("mp_optout"), this.opt_out_tracking({
        clear_persistence: this.get_config("opt_out_persistence_by_default")
    }))
};
ve.prototype._gdpr_update_persistence = function(t) {
    var e;
    if (t && t.clear_persistence) e = !0;
    else if (t && t.enable_persistence) e = !1;
    else return;
    !this.get_config("disable_persistence") && this.persistence.disabled !== e && this.persistence.set_disabled(e), e && I.each(this.request_batchers, function(i) {
        i.clear()
    })
};
ve.prototype._gdpr_call_func = function(t, e) {
    return e = I.extend({
        track: I.bind(this.track, this),
        persistence_type: this.get_config("opt_out_tracking_persistence_type"),
        cookie_prefix: this.get_config("opt_out_tracking_cookie_prefix"),
        cookie_expiration: this.get_config("cookie_expiration"),
        cross_site_cookie: this.get_config("cross_site_cookie"),
        cross_subdomain_cookie: this.get_config("cross_subdomain_cookie"),
        cookie_domain: this.get_config("cookie_domain"),
        secure_cookie: this.get_config("secure_cookie"),
        ignore_dnt: this.get_config("ignore_dnt")
    }, e), I.localStorage.is_supported() || (e.persistence_type = "cookie"), t(this.get_config("token"), {
        track: e.track,
        trackEventName: e.track_event_name,
        trackProperties: e.track_properties,
        persistenceType: e.persistence_type,
        persistencePrefix: e.cookie_prefix,
        cookieDomain: e.cookie_domain,
        cookieExpiration: e.cookie_expiration,
        crossSiteCookie: e.cross_site_cookie,
        crossSubdomainCookie: e.cross_subdomain_cookie,
        secureCookie: e.secure_cookie,
        ignoreDnt: e.ignore_dnt
    })
};
ve.prototype.opt_in_tracking = function(t) {
    t = I.extend({
        enable_persistence: !0
    }, t), this._gdpr_call_func(bf, t), this._gdpr_update_persistence(t)
};
ve.prototype.opt_out_tracking = function(t) {
    t = I.extend({
        clear_persistence: !0,
        delete_user: !0
    }, t), t.delete_user && this.people && this.people._identify_called() && (this.people.delete_user(), this.people.clear_charges()), this._gdpr_call_func(_f, t), this._gdpr_update_persistence(t)
};
ve.prototype.has_opted_in_tracking = function(t) {
    return this._gdpr_call_func(Cf, t)
};
ve.prototype.has_opted_out_tracking = function(t) {
    return this._gdpr_call_func(ih, t)
};
ve.prototype.clear_opt_in_out_tracking = function(t) {
    t = I.extend({
        enable_persistence: !0
    }, t), this._gdpr_call_func(xf, t), this._gdpr_update_persistence(t)
};
ve.prototype.report_error = function(t, e) {
    Lt.error.apply(Lt.error, arguments);
    try {
        !e && !(t instanceof Error) && (t = new Error(t)), this.get_config("error_reporter")(t, e)
    } catch (i) {
        Lt.error(i)
    }
};
ve.prototype.init = ve.prototype.init;
ve.prototype.reset = ve.prototype.reset;
ve.prototype.disable = ve.prototype.disable;
ve.prototype.time_event = ve.prototype.time_event;
ve.prototype.track = ve.prototype.track;
ve.prototype.track_links = ve.prototype.track_links;
ve.prototype.track_forms = ve.prototype.track_forms;
ve.prototype.track_pageview = ve.prototype.track_pageview;
ve.prototype.register = ve.prototype.register;
ve.prototype.register_once = ve.prototype.register_once;
ve.prototype.unregister = ve.prototype.unregister;
ve.prototype.identify = ve.prototype.identify;
ve.prototype.alias = ve.prototype.alias;
ve.prototype.name_tag = ve.prototype.name_tag;
ve.prototype.set_config = ve.prototype.set_config;
ve.prototype.get_config = ve.prototype.get_config;
ve.prototype.get_property = ve.prototype.get_property;
ve.prototype.get_distinct_id = ve.prototype.get_distinct_id;
ve.prototype.toString = ve.prototype.toString;
ve.prototype.opt_out_tracking = ve.prototype.opt_out_tracking;
ve.prototype.opt_in_tracking = ve.prototype.opt_in_tracking;
ve.prototype.has_opted_out_tracking = ve.prototype.has_opted_out_tracking;
ve.prototype.has_opted_in_tracking = ve.prototype.has_opted_in_tracking;
ve.prototype.clear_opt_in_out_tracking = ve.prototype.clear_opt_in_out_tracking;
ve.prototype.get_group = ve.prototype.get_group;
ve.prototype.set_group = ve.prototype.set_group;
ve.prototype.add_group = ve.prototype.add_group;
ve.prototype.remove_group = ve.prototype.remove_group;
ve.prototype.track_with_groups = ve.prototype.track_with_groups;
ve.prototype.start_batch_senders = ve.prototype.start_batch_senders;
ve.prototype.stop_batch_senders = ve.prototype.stop_batch_senders;
pt.prototype.properties = pt.prototype.properties;
pt.prototype.update_search_keyword = pt.prototype.update_search_keyword;
pt.prototype.update_referrer_info = pt.prototype.update_referrer_info;
pt.prototype.get_cross_subdomain = pt.prototype.get_cross_subdomain;
pt.prototype.clear = pt.prototype.clear;
var $r = {},
    Rf = function() {
        I.each($r, function(t, e) {
            e !== Li && (gi[e] = t)
        }), gi._ = I
    },
    Mf = function() {
        gi.init = function(t, e, i) {
            if (i) return gi[i] || (gi[i] = $r[i] = Tl(t, e, i), gi[i]._loaded()), gi[i];
            var n = gi;
            $r[Li] ? n = $r[Li] : t && (n = Tl(t, e, Li), n._loaded(), $r[Li] = n), gi = n, nc === Tf && (mi[Li] = gi), Rf()
        }
    },
    Df = function() {
        function t() {
            t.done || (t.done = !0, uh = !0, ch = !1, I.each($r, function(n) {
                n._dom_loaded()
            }))
        }

        function e() {
            try {
                $t.documentElement.doScroll("left")
            } catch {
                setTimeout(e, 1);
                return
            }
            t()
        }
        if ($t.addEventListener) $t.readyState === "complete" ? t() : $t.addEventListener("DOMContentLoaded", t, !1);
        else if ($t.attachEvent) {
            $t.attachEvent("onreadystatechange", t);
            var i = !1;
            try {
                i = mi.frameElement === null
            } catch {}
            $t.documentElement.doScroll && i && e()
        }
        I.register_event(mi, "load", t, !0)
    };

function Lf() {
    return nc = ah, gi = new ve, Mf(), gi.init(), Df(), gi
}
var Pf = Lf(),
    Xc = Pf;
class $f {
    static setup() {
        gtag("config", "G-V1QJVQMYF1", {
            send_page_view: !1
        }), Xc.init("2e284873b7269f13b850ac994abfd848", {
            debug: "false"
        })
    }
    static pageView(e) {
        gtag("event", "page_view", {
            page_title: e,
            page_location: `https://jackbox.tv/${e}`
        })
    }
    static gameStarted(e, i) {
        const n = {
            tag: e
        };
        i.isUGC !== void 0 && (n.is_ugc = i.isUGC), i.isSequel !== void 0 && (n.is_sequel = i.isSequel), i.locale !== void 0 && (n.locale = i.locale), i.mode !== void 0 && (n.mode = i.mode), i.numberOfPlayer !== void 0 && (n.number_of_players = i.numberOfPlayer), gtag("event", "game_start", n)
    }
    static gameJoined(e, i) {
        Xc.track("Game Joined", {
            tag: e,
            ...i
        })
    }
    static bannerClick(e, i) {
        gtag("event", "banner_click", {
            url: e,
            location: i
        })
    }
    static externalLinkClick(e, i) {
        gtag("event", "external_link_click", {
            url: e,
            location: i
        })
    }
    static galleryClick(e, i) {
        gtag("event", "gallery_click", {
            category_id: e,
            location: i
        })
    }
    static galleryImpression(e, i) {
        gtag("event", "gallery_impression", {
            category_id: e,
            location: i
        })
    }
    static moderatorConnected(e) {
        gtag("event", "moderator_connected", {
            tag: e
        })
    }
    static itemModerated(e, i) {
        gtag("event", "item_moderated", {
            tag: e,
            was_rejected: i
        })
    }
    static playerKicked(e, i) {
        gtag("event", "player_kicked", {
            tag: e,
            is_lobby: i
        })
    }
}

function Nf() {
    this.__data__ = [], this.size = 0
}
var Bf = Nf;

function Vf(t, e) {
    return t === e || t !== t && e !== e
}
var va = Vf,
    Ff = va;

function jf(t, e) {
    for (var i = t.length; i--;)
        if (Ff(t[i][0], e)) return i;
    return -1
}
var ya = jf,
    qf = ya,
    Uf = Array.prototype,
    zf = Uf.splice;

function Hf(t) {
    var e = this.__data__,
        i = qf(e, t);
    if (i < 0) return !1;
    var n = e.length - 1;
    return i == n ? e.pop() : zf.call(e, i, 1), --this.size, !0
}
var Gf = Hf,
    Wf = ya;

function Kf(t) {
    var e = this.__data__,
        i = Wf(e, t);
    return i < 0 ? void 0 : e[i][1]
}
var Xf = Kf,
    Yf = ya;

function Jf(t) {
    return Yf(this.__data__, t) > -1
}
var Qf = Jf,
    Zf = ya;

function ep(t, e) {
    var i = this.__data__,
        n = Zf(i, t);
    return n < 0 ? (++this.size, i.push([t, e])) : i[n][1] = e, this
}
var tp = ep,
    ip = Bf,
    np = Gf,
    rp = Xf,
    sp = Qf,
    op = tp;

function Jr(t) {
    var e = -1,
        i = t == null ? 0 : t.length;
    for (this.clear(); ++e < i;) {
        var n = t[e];
        this.set(n[0], n[1])
    }
}
Jr.prototype.clear = ip;
Jr.prototype.delete = np;
Jr.prototype.get = rp;
Jr.prototype.has = sp;
Jr.prototype.set = op;
var wa = Jr,
    ap = wa;

function lp() {
    this.__data__ = new ap, this.size = 0
}
var cp = lp;

function up(t) {
    var e = this.__data__,
        i = e.delete(t);
    return this.size = e.size, i
}
var hp = up;

function dp(t) {
    return this.__data__.get(t)
}
var fp = dp;

function pp(t) {
    return this.__data__.has(t)
}
var gp = pp,
    mp = typeof wt == "object" && wt && wt.Object === Object && wt,
    hh = mp,
    vp = hh,
    yp = typeof self == "object" && self && self.Object === Object && self,
    wp = vp || yp || Function("return this")(),
    Qr = wp,
    bp = Qr,
    _p = bp.Symbol,
    dh = _p,
    Yc = dh,
    fh = Object.prototype,
    Cp = fh.hasOwnProperty,
    xp = fh.toString,
    Is = Yc ? Yc.toStringTag : void 0;

function Ep(t) {
    var e = Cp.call(t, Is),
        i = t[Is];
    try {
        t[Is] = void 0;
        var n = !0
    } catch {}
    var s = xp.call(t);
    return n && (e ? t[Is] = i : delete t[Is]), s
}
var Sp = Ep,
    kp = Object.prototype,
    Tp = kp.toString;

function Ap(t) {
    return Tp.call(t)
}
var Op = Ap,
    Jc = dh,
    Ip = Sp,
    Rp = Op,
    Mp = "[object Null]",
    Dp = "[object Undefined]",
    Qc = Jc ? Jc.toStringTag : void 0;

function Lp(t) {
    return t == null ? t === void 0 ? Dp : Mp : Qc && Qc in Object(t) ? Ip(t) : Rp(t)
}
var ba = Lp;

function Pp(t) {
    var e = typeof t;
    return t != null && (e == "object" || e == "function")
}
var dr = Pp,
    $p = ba,
    Np = dr,
    Bp = "[object AsyncFunction]",
    Vp = "[object Function]",
    Fp = "[object GeneratorFunction]",
    jp = "[object Proxy]";

function qp(t) {
    if (!Np(t)) return !1;
    var e = $p(t);
    return e == Vp || e == Fp || e == Bp || e == jp
}
var sc = qp,
    Up = Qr,
    zp = Up["__core-js_shared__"],
    Hp = zp,
    nl = Hp,
    Zc = function() {
        var t = /[^.]+$/.exec(nl && nl.keys && nl.keys.IE_PROTO || "");
        return t ? "Symbol(src)_1." + t : ""
    }();

function Gp(t) {
    return !!Zc && Zc in t
}
var Wp = Gp,
    Kp = Function.prototype,
    Xp = Kp.toString;

function Yp(t) {
    if (t != null) {
        try {
            return Xp.call(t)
        } catch {}
        try {
            return t + ""
        } catch {}
    }
    return ""
}
var Jp = Yp,
    Qp = sc,
    Zp = Wp,
    eg = dr,
    tg = Jp,
    ig = /[\\^$.*+?()[\]{}|]/g,
    ng = /^\[object .+?Constructor\]$/,
    rg = Function.prototype,
    sg = Object.prototype,
    og = rg.toString,
    ag = sg.hasOwnProperty,
    lg = RegExp("^" + og.call(ag).replace(ig, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");

function cg(t) {
    if (!eg(t) || Zp(t)) return !1;
    var e = Qp(t) ? lg : ng;
    return e.test(tg(t))
}
var ug = cg;

function hg(t, e) {
    return t == null ? void 0 : t[e]
}
var dg = hg,
    fg = ug,
    pg = dg;

function gg(t, e) {
    var i = pg(t, e);
    return fg(i) ? i : void 0
}
var oc = gg,
    mg = oc,
    vg = Qr,
    yg = mg(vg, "Map"),
    ph = yg,
    wg = oc,
    bg = wg(Object, "create"),
    _a = bg,
    eu = _a;

function _g() {
    this.__data__ = eu ? eu(null) : {}, this.size = 0
}
var Cg = _g;

function xg(t) {
    var e = this.has(t) && delete this.__data__[t];
    return this.size -= e ? 1 : 0, e
}
var Eg = xg,
    Sg = _a,
    kg = "__lodash_hash_undefined__",
    Tg = Object.prototype,
    Ag = Tg.hasOwnProperty;

function Og(t) {
    var e = this.__data__;
    if (Sg) {
        var i = e[t];
        return i === kg ? void 0 : i
    }
    return Ag.call(e, t) ? e[t] : void 0
}
var Ig = Og,
    Rg = _a,
    Mg = Object.prototype,
    Dg = Mg.hasOwnProperty;

function Lg(t) {
    var e = this.__data__;
    return Rg ? e[t] !== void 0 : Dg.call(e, t)
}
var Pg = Lg,
    $g = _a,
    Ng = "__lodash_hash_undefined__";

function Bg(t, e) {
    var i = this.__data__;
    return this.size += this.has(t) ? 0 : 1, i[t] = $g && e === void 0 ? Ng : e, this
}
var Vg = Bg,
    Fg = Cg,
    jg = Eg,
    qg = Ig,
    Ug = Pg,
    zg = Vg;

function Zr(t) {
    var e = -1,
        i = t == null ? 0 : t.length;
    for (this.clear(); ++e < i;) {
        var n = t[e];
        this.set(n[0], n[1])
    }
}
Zr.prototype.clear = Fg;
Zr.prototype.delete = jg;
Zr.prototype.get = qg;
Zr.prototype.has = Ug;
Zr.prototype.set = zg;
var Hg = Zr,
    tu = Hg,
    Gg = wa,
    Wg = ph;

function Kg() {
    this.size = 0, this.__data__ = {
        hash: new tu,
        map: new(Wg || Gg),
        string: new tu
    }
}
var Xg = Kg;

function Yg(t) {
    var e = typeof t;
    return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null
}
var Jg = Yg,
    Qg = Jg;

function Zg(t, e) {
    var i = t.__data__;
    return Qg(e) ? i[typeof e == "string" ? "string" : "hash"] : i.map
}
var Ca = Zg,
    em = Ca;

function tm(t) {
    var e = em(this, t).delete(t);
    return this.size -= e ? 1 : 0, e
}
var im = tm,
    nm = Ca;

function rm(t) {
    return nm(this, t).get(t)
}
var sm = rm,
    om = Ca;

function am(t) {
    return om(this, t).has(t)
}
var lm = am,
    cm = Ca;

function um(t, e) {
    var i = cm(this, t),
        n = i.size;
    return i.set(t, e), this.size += i.size == n ? 0 : 1, this
}
var hm = um,
    dm = Xg,
    fm = im,
    pm = sm,
    gm = lm,
    mm = hm;

function es(t) {
    var e = -1,
        i = t == null ? 0 : t.length;
    for (this.clear(); ++e < i;) {
        var n = t[e];
        this.set(n[0], n[1])
    }
}
es.prototype.clear = dm;
es.prototype.delete = fm;
es.prototype.get = pm;
es.prototype.has = gm;
es.prototype.set = mm;
var vm = es,
    ym = wa,
    wm = ph,
    bm = vm,
    _m = 200;

function Cm(t, e) {
    var i = this.__data__;
    if (i instanceof ym) {
        var n = i.__data__;
        if (!wm || n.length < _m - 1) return n.push([t, e]), this.size = ++i.size, this;
        i = this.__data__ = new bm(n)
    }
    return i.set(t, e), this.size = i.size, this
}
var xm = Cm,
    Em = wa,
    Sm = cp,
    km = hp,
    Tm = fp,
    Am = gp,
    Om = xm;

function ts(t) {
    var e = this.__data__ = new Em(t);
    this.size = e.size
}
ts.prototype.clear = Sm;
ts.prototype.delete = km;
ts.prototype.get = Tm;
ts.prototype.has = Am;
ts.prototype.set = Om;
var Im = ts,
    Rm = oc,
    Mm = function() {
        try {
            var t = Rm(Object, "defineProperty");
            return t({}, "", {}), t
        } catch {}
    }(),
    gh = Mm,
    iu = gh;

function Dm(t, e, i) {
    e == "__proto__" && iu ? iu(t, e, {
        configurable: !0,
        enumerable: !0,
        value: i,
        writable: !0
    }) : t[e] = i
}
var ac = Dm,
    Lm = ac,
    Pm = va;

function $m(t, e, i) {
    (i !== void 0 && !Pm(t[e], i) || i === void 0 && !(e in t)) && Lm(t, e, i)
}
var mh = $m;

function Nm(t) {
    return function(e, i, n) {
        for (var s = -1, o = Object(e), p = n(e), y = p.length; y--;) {
            var w = p[t ? y : ++s];
            if (i(o[w], w, o) === !1) break
        }
        return e
    }
}
var Bm = Nm,
    Vm = Bm,
    Fm = Vm(),
    jm = Fm,
    Qo = {},
    qm = {
        get exports() {
            return Qo
        },
        set exports(t) {
            Qo = t
        }
    };
(function(t, e) {
    var i = Qr,
        n = e && !e.nodeType && e,
        s = n && !0 && t && !t.nodeType && t,
        o = s && s.exports === n,
        p = o ? i.Buffer : void 0,
        y = p ? p.allocUnsafe : void 0;

    function w(x, A) {
        if (A) return x.slice();
        var D = x.length,
            B = y ? y(D) : new x.constructor(D);
        return x.copy(B), B
    }
    t.exports = w
})(qm, Qo);
var Um = Qr,
    zm = Um.Uint8Array,
    Hm = zm,
    nu = Hm;

function Gm(t) {
    var e = new t.constructor(t.byteLength);
    return new nu(e).set(new nu(t)), e
}
var Wm = Gm,
    Km = Wm;

function Xm(t, e) {
    var i = e ? Km(t.buffer) : t.buffer;
    return new t.constructor(i, t.byteOffset, t.length)
}
var Ym = Xm;

function Jm(t, e) {
    var i = -1,
        n = t.length;
    for (e || (e = Array(n)); ++i < n;) e[i] = t[i];
    return e
}
var Qm = Jm,
    Zm = dr,
    ru = Object.create,
    ev = function() {
        function t() {}
        return function(e) {
            if (!Zm(e)) return {};
            if (ru) return ru(e);
            t.prototype = e;
            var i = new t;
            return t.prototype = void 0, i
        }
    }(),
    tv = ev;

function iv(t, e) {
    return function(i) {
        return t(e(i))
    }
}
var nv = iv,
    rv = nv,
    sv = rv(Object.getPrototypeOf, Object),
    vh = sv,
    ov = Object.prototype;

function av(t) {
    var e = t && t.constructor,
        i = typeof e == "function" && e.prototype || ov;
    return t === i
}
var yh = av,
    lv = tv,
    cv = vh,
    uv = yh;

function hv(t) {
    return typeof t.constructor == "function" && !uv(t) ? lv(cv(t)) : {}
}
var dv = hv;

function fv(t) {
    return t != null && typeof t == "object"
}
var Zs = fv,
    pv = ba,
    gv = Zs,
    mv = "[object Arguments]";

function vv(t) {
    return gv(t) && pv(t) == mv
}
var yv = vv,
    su = yv,
    wv = Zs,
    wh = Object.prototype,
    bv = wh.hasOwnProperty,
    _v = wh.propertyIsEnumerable,
    Cv = su(function() {
        return arguments
    }()) ? su : function(t) {
        return wv(t) && bv.call(t, "callee") && !_v.call(t, "callee")
    },
    bh = Cv,
    xv = Array.isArray,
    _h = xv,
    Ev = 9007199254740991;

function Sv(t) {
    return typeof t == "number" && t > -1 && t % 1 == 0 && t <= Ev
}
var Ch = Sv,
    kv = sc,
    Tv = Ch;

function Av(t) {
    return t != null && Tv(t.length) && !kv(t)
}
var lc = Av,
    Ov = lc,
    Iv = Zs;

function Rv(t) {
    return Iv(t) && Ov(t)
}
var Mv = Rv,
    Ys = {},
    Dv = {
        get exports() {
            return Ys
        },
        set exports(t) {
            Ys = t
        }
    };

function Lv() {
    return !1
}
var Pv = Lv;
(function(t, e) {
    var i = Qr,
        n = Pv,
        s = e && !e.nodeType && e,
        o = s && !0 && t && !t.nodeType && t,
        p = o && o.exports === s,
        y = p ? i.Buffer : void 0,
        w = y ? y.isBuffer : void 0,
        x = w || n;
    t.exports = x
})(Dv, Ys);
var $v = ba,
    Nv = vh,
    Bv = Zs,
    Vv = "[object Object]",
    Fv = Function.prototype,
    jv = Object.prototype,
    xh = Fv.toString,
    qv = jv.hasOwnProperty,
    Uv = xh.call(Object);

function zv(t) {
    if (!Bv(t) || $v(t) != Vv) return !1;
    var e = Nv(t);
    if (e === null) return !0;
    var i = qv.call(e, "constructor") && e.constructor;
    return typeof i == "function" && i instanceof i && xh.call(i) == Uv
}
var Hv = zv,
    Gv = ba,
    Wv = Ch,
    Kv = Zs,
    Xv = "[object Arguments]",
    Yv = "[object Array]",
    Jv = "[object Boolean]",
    Qv = "[object Date]",
    Zv = "[object Error]",
    ey = "[object Function]",
    ty = "[object Map]",
    iy = "[object Number]",
    ny = "[object Object]",
    ry = "[object RegExp]",
    sy = "[object Set]",
    oy = "[object String]",
    ay = "[object WeakMap]",
    ly = "[object ArrayBuffer]",
    cy = "[object DataView]",
    uy = "[object Float32Array]",
    hy = "[object Float64Array]",
    dy = "[object Int8Array]",
    fy = "[object Int16Array]",
    py = "[object Int32Array]",
    gy = "[object Uint8Array]",
    my = "[object Uint8ClampedArray]",
    vy = "[object Uint16Array]",
    yy = "[object Uint32Array]",
    Bt = {};
Bt[uy] = Bt[hy] = Bt[dy] = Bt[fy] = Bt[py] = Bt[gy] = Bt[my] = Bt[vy] = Bt[yy] = !0;
Bt[Xv] = Bt[Yv] = Bt[ly] = Bt[Jv] = Bt[cy] = Bt[Qv] = Bt[Zv] = Bt[ey] = Bt[ty] = Bt[iy] = Bt[ny] = Bt[ry] = Bt[sy] = Bt[oy] = Bt[ay] = !1;

function wy(t) {
    return Kv(t) && Wv(t.length) && !!Bt[Gv(t)]
}
var by = wy;

function _y(t) {
    return function(e) {
        return t(e)
    }
}
var Cy = _y,
    Zo = {},
    xy = {
        get exports() {
            return Zo
        },
        set exports(t) {
            Zo = t
        }
    };
(function(t, e) {
    var i = hh,
        n = e && !e.nodeType && e,
        s = n && !0 && t && !t.nodeType && t,
        o = s && s.exports === n,
        p = o && i.process,
        y = function() {
            try {
                var w = s && s.require && s.require("util").types;
                return w || p && p.binding && p.binding("util")
            } catch {}
        }();
    t.exports = y
})(xy, Zo);
var Ey = by,
    Sy = Cy,
    ou = Zo,
    au = ou && ou.isTypedArray,
    ky = au ? Sy(au) : Ey,
    Eh = ky;

function Ty(t, e) {
    if (!(e === "constructor" && typeof t[e] == "function") && e != "__proto__") return t[e]
}
var Sh = Ty,
    Ay = ac,
    Oy = va,
    Iy = Object.prototype,
    Ry = Iy.hasOwnProperty;

function My(t, e, i) {
    var n = t[e];
    (!(Ry.call(t, e) && Oy(n, i)) || i === void 0 && !(e in t)) && Ay(t, e, i)
}
var Dy = My,
    Ly = Dy,
    Py = ac;

function $y(t, e, i, n) {
    var s = !i;
    i || (i = {});
    for (var o = -1, p = e.length; ++o < p;) {
        var y = e[o],
            w = n ? n(i[y], t[y], y, i, t) : void 0;
        w === void 0 && (w = t[y]), s ? Py(i, y, w) : Ly(i, y, w)
    }
    return i
}
var Ny = $y;

function By(t, e) {
    for (var i = -1, n = Array(t); ++i < t;) n[i] = e(i);
    return n
}
var Vy = By,
    Fy = 9007199254740991,
    jy = /^(?:0|[1-9]\d*)$/;

function qy(t, e) {
    var i = typeof t;
    return e = e ?? Fy, !!e && (i == "number" || i != "symbol" && jy.test(t)) && t > -1 && t % 1 == 0 && t < e
}
var kh = qy,
    Uy = Vy,
    zy = bh,
    Hy = _h,
    Gy = Ys,
    Wy = kh,
    Ky = Eh,
    Xy = Object.prototype,
    Yy = Xy.hasOwnProperty;

function Jy(t, e) {
    var i = Hy(t),
        n = !i && zy(t),
        s = !i && !n && Gy(t),
        o = !i && !n && !s && Ky(t),
        p = i || n || s || o,
        y = p ? Uy(t.length, String) : [],
        w = y.length;
    for (var x in t)(e || Yy.call(t, x)) && !(p && (x == "length" || s && (x == "offset" || x == "parent") || o && (x == "buffer" || x == "byteLength" || x == "byteOffset") || Wy(x, w))) && y.push(x);
    return y
}
var Qy = Jy;

function Zy(t) {
    var e = [];
    if (t != null)
        for (var i in Object(t)) e.push(i);
    return e
}
var ew = Zy,
    tw = dr,
    iw = yh,
    nw = ew,
    rw = Object.prototype,
    sw = rw.hasOwnProperty;

function ow(t) {
    if (!tw(t)) return nw(t);
    var e = iw(t),
        i = [];
    for (var n in t) n == "constructor" && (e || !sw.call(t, n)) || i.push(n);
    return i
}
var aw = ow,
    lw = Qy,
    cw = aw,
    uw = lc;

function hw(t) {
    return uw(t) ? lw(t, !0) : cw(t)
}
var Th = hw,
    dw = Ny,
    fw = Th;

function pw(t) {
    return dw(t, fw(t))
}
var gw = pw,
    lu = mh,
    mw = Qo,
    vw = Ym,
    yw = Qm,
    ww = dv,
    cu = bh,
    uu = _h,
    bw = Mv,
    _w = Ys,
    Cw = sc,
    xw = dr,
    Ew = Hv,
    Sw = Eh,
    hu = Sh,
    kw = gw;

function Tw(t, e, i, n, s, o, p) {
    var y = hu(t, i),
        w = hu(e, i),
        x = p.get(w);
    if (x) {
        lu(t, i, x);
        return
    }
    var A = o ? o(y, w, i + "", t, e, p) : void 0,
        D = A === void 0;
    if (D) {
        var B = uu(w),
            X = !B && _w(w),
            j = !B && !X && Sw(w);
        A = w, B || X || j ? uu(y) ? A = y : bw(y) ? A = yw(y) : X ? (D = !1, A = mw(w, !0)) : j ? (D = !1, A = vw(w, !0)) : A = [] : Ew(w) || cu(w) ? (A = y, cu(y) ? A = kw(y) : (!xw(y) || Cw(y)) && (A = ww(w))) : D = !1
    }
    D && (p.set(w, A), s(A, w, n, o, p), p.delete(w)), lu(t, i, A)
}
var Aw = Tw,
    Ow = Im,
    Iw = mh,
    Rw = jm,
    Mw = Aw,
    Dw = dr,
    Lw = Th,
    Pw = Sh;

function Ah(t, e, i, n, s) {
    t !== e && Rw(e, function(o, p) {
        if (s || (s = new Ow), Dw(o)) Mw(t, e, p, i, Ah, n, s);
        else {
            var y = n ? n(Pw(t, p), o, p + "", t, e, s) : void 0;
            y === void 0 && (y = o), Iw(t, p, y)
        }
    }, Lw)
}
var $w = Ah;

function Nw(t) {
    return t
}
var Oh = Nw;

function Bw(t, e, i) {
    switch (i.length) {
        case 0:
            return t.call(e);
        case 1:
            return t.call(e, i[0]);
        case 2:
            return t.call(e, i[0], i[1]);
        case 3:
            return t.call(e, i[0], i[1], i[2])
    }
    return t.apply(e, i)
}
var Vw = Bw,
    Fw = Vw,
    du = Math.max;

function jw(t, e, i) {
    return e = du(e === void 0 ? t.length - 1 : e, 0),
        function() {
            for (var n = arguments, s = -1, o = du(n.length - e, 0), p = Array(o); ++s < o;) p[s] = n[e + s];
            s = -1;
            for (var y = Array(e + 1); ++s < e;) y[s] = n[s];
            return y[e] = i(p), Fw(t, this, y)
        }
}
var qw = jw;

function Uw(t) {
    return function() {
        return t
    }
}
var zw = Uw,
    Hw = zw,
    fu = gh,
    Gw = Oh,
    Ww = fu ? function(t, e) {
        return fu(t, "toString", {
            configurable: !0,
            enumerable: !1,
            value: Hw(e),
            writable: !0
        })
    } : Gw,
    Kw = Ww,
    Xw = 800,
    Yw = 16,
    Jw = Date.now;

function Qw(t) {
    var e = 0,
        i = 0;
    return function() {
        var n = Jw(),
            s = Yw - (n - i);
        if (i = n, s > 0) {
            if (++e >= Xw) return arguments[0]
        } else e = 0;
        return t.apply(void 0, arguments)
    }
}
var Zw = Qw,
    eb = Kw,
    tb = Zw,
    ib = tb(eb),
    nb = ib,
    rb = Oh,
    sb = qw,
    ob = nb;

function ab(t, e) {
    return ob(sb(t, e, rb), t + "")
}
var lb = ab,
    cb = va,
    ub = lc,
    hb = kh,
    db = dr;

function fb(t, e, i) {
    if (!db(i)) return !1;
    var n = typeof e;
    return (n == "number" ? ub(i) && hb(e, i.length) : n == "string" && e in i) ? cb(i[e], t) : !1
}
var pb = fb,
    gb = lb,
    mb = pb;

function vb(t) {
    return gb(function(e, i) {
        var n = -1,
            s = i.length,
            o = s > 1 ? i[s - 1] : void 0,
            p = s > 2 ? i[2] : void 0;
        for (o = t.length > 3 && typeof o == "function" ? (s--, o) : void 0, p && mb(i[0], i[1], p) && (o = s < 3 ? void 0 : o, s = 1), e = Object(e); ++n < s;) {
            var y = i[n];
            y && t(e, y, n, o)
        }
        return e
    })
}
var yb = vb,
    wb = $w,
    bb = yb,
    _b = bb(function(t, e, i) {
        wb(t, e, i)
    }),
    Cb = _b;
class Al {
    static set(e) {
        if (e && this.isSupported(e)) {
            this.locale = e;
            return
        }
        this.locale = this.getPreferredDeviceLocale()
    }
    static getPreferredDeviceLocale() {
        const e = navigator.languages;
        for (let i = 0; i < e.length; i++)
            if (this.isSupported(e[i])) return e[i];
        return this.supported[0]
    }
    static isSupported(e) {
        return Object.values(this.supported).includes(e)
    }
    static mergeMessages(...e) {
        return Cb(e[0], ...e)
    }
}
ot(Al, "locale"), ot(Al, "supported", ["en", "fr", "it", "de", "es", "es-XL"]);
const $c = class {
    static get serverUrl() {
        const e = this.getQueryParam("server") ?? this.getQueryParam("s");
        return !e || e === "live" ? "ecast.jackboxgames.com" : e === "local" ? "https://localhost" : e.includes("localhost") ? e : `${e}.jackboxgames.com`
    }
    static get isCanvasSupported() {
        const e = document.createElement("canvas");
        return !!(e.getContext && e.getContext("2d"))
    }
    static toPrecision(e, i) {
        const n = 10 ** i;
        return Math.round((e + Number.EPSILON) * n) / n
    }
    static isProduction() {
        return window.location.hostname === "jackbox.tv"
    }
    static htmlUnescape(e) {
        return String(e).replace(/&quot;/gi, '"').replace(/&#39;/gi, "'").replace(/&lt;/gi, "<").replace(/&gt;/gi, ">").replace(/&amp;/gi, "&")
    }
    static htmlEscape(e) {
        return String(e).replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
    }
    static sanitize(e) {
        const i = this.sanitizeInput(e).replace(/'/g, "’");
        return this.htmlEscape(i).trim()
    }
    static sanitizeName(e) {
        return e.replace(/[^A-Z0-9\u00A1\u0020-\u002F\u00BF-\u00FF\u2026!?*$+\-'_ .,]/gi, "").replace(/'/g, "’")
    }
    static sanitizeInput(e) {
        return e = e.replace("…", "..."), e.replace(/[^\u00A1\u0020-\u007E\u00BF-\u00FF’]/gi, "")
    }
    static sanitizeEmoji(e) {
        return e.replace(/(\u00a9|\u00ae|[\u2000-\u2017]|[\u2020-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/, "")
    }
    static safeText(e) {
        const i = document.createElement("div");
        return i.textContent = e, i.innerHTML
    }
    static htmlTagsToBBCode(e, i) {
        if (!i.length) throw new Error("[Utils.htmlTagsToBBCode] No tag pairs were passed in");
        return i.reduce((n, s) => (n.replaceAll(`<${s[0]}>`, `[${s[1]}]`), n.replaceAll(`</${s[0]}>`, `</${s[1]}>`), n), e)
    }
    static hexToRgb(e) {
        const i = new ArrayBuffer(4);
        new DataView(i).setUint32(0, parseInt(e.replace("#", ""), 16), !1);
        const s = new Uint8Array(i);
        return `${s[1]},${s[2]},${s[3]}`
    }
    static adjustColor(e, i) {
        let n = !1,
            s = e;
        s[0] === "#" && (s = s.slice(1), n = !0);
        const o = parseInt(s, 16),
            p = Math.min(Math.max(0, (o >> 16) * i), 255),
            y = Math.min(Math.max(0, (o >> 8 & 255) * i), 255);
        let x = (Math.min(Math.max(0, (o & 255) * i), 255) | y << 8 | p << 16).toString(16);
        for (; x.length < s.length;) x = `0${x}`;
        return (n ? "#" : "") + x
    }
    static isInTolerance(e, i, n) {
        return !(Math.abs(e.x - i.x) < n || Math.abs(e.y - i.y) > n)
    }
    static getDistanceBetweenPoints(e, i) {
        const n = [e.x - i.x, e.y - i.y],
            s = Math.hypot(...n);
        return Math.round(s * 100) / 100
    }
    static getMidpoint(e, i) {
        return {
            x: (e.x + i.x) / 2,
            y: (e.y + i.y) / 2
        }
    }
    static getAngleBetweenPoints(e, i) {
        let s = Math.atan2(i.y - e.y, i.x - e.x) * (180 / Math.PI);
        return s < 0 && (s += 360), 360 - s
    }
    static getAngularDistance(e, i) {
        let n = (i - e) % 360;
        const s = n < 0 ? 1 : -1;
        return n = Math.abs(n), n > 180 ? s * (360 - n) : s * n
    }
    static getVelocity(e, i, n, s) {
        return this.getDistanceBetweenPoints(e, n) / (s - i)
    }
    static isInsideElement(e, i) {
        const n = i.getBoundingClientRect();
        return !(e.x < n.left || e.x > n.left + n.width || e.y < n.top || e.y > n.top + n.height)
    }
    static cyrb128(e) {
        let i = 1779033703,
            n = 3144134277,
            s = 1013904242,
            o = 2773480762;
        for (let p = 0, y; p < e.length; p++) y = e.charCodeAt(p), i = n ^ Math.imul(i ^ y, 597399067), n = s ^ Math.imul(n ^ y, 2869860233), s = o ^ Math.imul(s ^ y, 951274213), o = i ^ Math.imul(o ^ y, 2716044179);
        return i = Math.imul(s ^ i >>> 18, 597399067), n = Math.imul(o ^ n >>> 22, 2869860233), s = Math.imul(i ^ s >>> 17, 951274213), o = Math.imul(n ^ o >>> 19, 2716044179), [(i ^ n ^ s ^ o) >>> 0, (n ^ i) >>> 0, (s ^ i) >>> 0, (o ^ i) >>> 0]
    }
    static sfc32(e, i, n, s) {
        return function() {
            e >>>= 0, i >>>= 0, n >>>= 0, s >>>= 0;
            let p = e + i | 0;
            return e = i ^ i >>> 9, i = n + (n << 3) | 0, n = n << 21 | n >>> 11, s = s + 1 | 0, p = p + s | 0, n = n + p | 0, (p >>> 0) / 4294967296
        }
    }
};
let Ht = $c;
ot(Ht, "queryParams", new URLSearchParams(window.location.search)), ot(Ht, "getQueryParam", e => $c.queryParams.get(e)), ot(Ht, "sleep", e => new Promise(i => {
    window.setTimeout(i, e)
}));
class ri {
    static get namespace() {
        var e;
        return ((e = window.tv.storage) == null ? void 0 : e.namespace) ?? this.defaultNamespace
    }
    static get isDisabled() {
        var e;
        return ((e = window.tv.storage) == null ? void 0 : e.isDisabled) ?? !1
    }
    static get tag() {
        var e;
        return (e = window.tv.storage) == null ? void 0 : e.tag
    }
    static get code() {
        var e;
        return (e = window.tv.storage) == null ? void 0 : e.code
    }
    static get isSupported() {
        if (this.isDisabled) return !1;
        try {
            return window.localStorage ? (window.localStorage.setItem("support-check", "1"), window.localStorage.removeItem("support-check"), !0) : !1
        } catch {
            return !1
        }
    }
    static setup(e, i) {
        delete window.tv.storage, window.tv.storage = {
            namespace: Ht.getQueryParam("namespace") ?? Ht.getQueryParam("ns") ?? this.defaultNamespace,
            isDisabled: Ht.queryParams.has("incognito") || Ht.queryParams.has("nc")
        }, e && (window.tv.storage.tag = e), i && (window.tv.storage.code = i.toLowerCase(), this.clearCodeScopedKeys(window.tv.storage.code)), this.migrateNamespace("blobcast", this.defaultNamespace)
    }
    static get(e, i) {
        return this.isSupported ? window.localStorage.getItem(this.getScopedKey(e, i)) : null
    }
    static set(e, i, n = "none") {
        if (this.isSupported) return window.localStorage.setItem(this.getScopedSetKey(e, n), i)
    }
    static remove(e, i) {
        if (this.isSupported) return window.localStorage.removeItem(this.getScopedKey(e, i))
    }
    static setTag(e) {
        const i = e.toLowerCase(),
            n = this.get("tags") ?? "[]",
            s = i.split("-")[0];
        let o = JSON.parse(n);
        o = o.filter(p => {
            const y = p.split("-")[0];
            return s !== y
        }), o.push(i), this.set("tags", JSON.stringify(o))
    }
    static getScopedKey(e, i) {
        const n = `${this.namespace}:${e}`,
            s = this.tag ? `${this.namespace}:${e}:tag:${this.tag}` : null,
            o = this.code ? `${this.namespace}:${e}:code:${this.code}` : null;
        if (i === "none") return n;
        if (i === "tag") {
            if (!s) throw new Error('[Storage] requested "tag" scope but tv.storage.tag is undefined');
            return s
        }
        if (i === "code") {
            if (!o) throw new Error('[Storage] requested "code" scope but tv.storage.code is undefined');
            return o
        }
        return o && window.localStorage.getItem(o) !== null ? o : s && window.localStorage.getItem(s) !== null ? s : n
    }
    static getScopedSetKey(e, i = "none") {
        if (i === "tag") {
            if (!this.tag) throw new Error('[Storage] requested "room" scope but tv.storage.tag is undefined');
            return `${this.namespace}:${e}:tag:${this.tag}`
        }
        if (i === "code") {
            if (!this.code) throw new Error('[Storage] requested "code" scope but tv.storage.code is undefined');
            return `${this.namespace}:${e}:code:${this.code}`
        }
        return `${this.namespace}:${e}`
    }
    static clearCodeScopedKeys(e) {
        this.isSupported && Object.keys(window.localStorage).forEach(i => {
            const n = i.split(":code:");
            n.length <= 1 || n[1] !== e && window.localStorage.removeItem(i)
        })
    }
    static migrateNamespace(e, i) {
        this.isSupported && Object.keys(window.localStorage).forEach(n => {
            if (!n.startsWith(`${e}-`)) return;
            const s = n.replace(`${e}-`, `${i}:`),
                o = window.localStorage.getItem(n);
            o && (window.localStorage.setItem(s, o), window.localStorage.removeItem(n))
        })
    }
}
ot(ri, "defaultNamespace", "tv");
class hr {
    constructor() {
        ot(this, "artifacts");
        this.artifacts = this.list()
    }
    get hasUnviewed() {
        return this.artifacts.some(e => !e.viewed)
    }
    add(e, i) {
        hr.add(e, i), this.artifacts = this.list()
    }
    static add(e, i) {
        if (!ri.isSupported) return;
        const n = this.isTestArtifact(e) ? "http" : "https",
            s = this.isTestArtifact(e) ? "games-test.jackbox.tv" : "games.jackbox.tv",
            o = `${n}://${s}/artifact/${e.categoryId}/${e.artifactId}/`,
            p = ri.get("galleries") || "[]";
        try {
            const y = JSON.parse(p) || [];
            if (y.some(w => w.url === o)) return;
            y.unshift({
                url: o,
                time: new Date().getTime(),
                categoryId: e.categoryId,
                viewed: !1
            }), ri.set("galleries", JSON.stringify(y.slice(0, 40)))
        } catch {
            console.warn("[Artifacts] Unable to add artifact to local storage")
        }
    }
    remove(e) {
        if (!ri.isSupported) return;
        const i = ri.get("galleries") || "[]";
        try {
            const n = JSON.parse(i) || [];
            n.splice(e, 1), ri.set("galleries", JSON.stringify(n)), this.artifacts = this.list()
        } catch {
            console.warn("[Artifacts] Unable to remove artifact")
        }
    }
    setAsViewed(e) {
        hr.setAsViewed(e), this.artifacts = this.list()
    }
    static setAsViewed(e) {
        if (!ri.isSupported) return;
        const i = ri.get("galleries") || "[]";
        try {
            const n = JSON.parse(i) || [];
            n.length && (n[e].viewed = !0), ri.set("galleries", JSON.stringify(n))
        } catch {
            console.warn(`[Artifacts] Unable to mark artifact ${e} as viewed`)
        }
    }
    static isTestArtifact(e) {
        var i;
        return ((i = e == null ? void 0 : e.rootId) == null ? void 0 : i.indexOf("test")) !== -1
    }
    list() {
        if (!ri.isSupported) return [];
        const e = new Intl.DateTimeFormat(Al.locale, {
                year: "numeric",
                month: "short",
                day: "numeric"
            }),
            i = ri.get("galleries") || "[]",
            n = Date.now();
        try {
            return (JSON.parse(i) || []).filter(o => n - o.time < 525600 * 60 * 1e3).map(o => {
                const p = new Date(o.time),
                    y = e.format(p),
                    w = o.url.split("/"),
                    x = w[w.length - 1] === "" ? w[w.length - 2] : w[w.length - 1];
                let A = o.categoryId;
                return A || (o.url.indexOf("Quiplash2") !== -1 ? A = "Quiplash2Game" : o.url.indexOf("Drawful") !== -1 ? A = "DrawfulGame" : o.url.indexOf("TeeKO") !== -1 ? A = "TeeKOGame" : o.url.indexOf("TriviaDeath") !== -1 && (A = "TriviaDeathResults")), {
                    id: x,
                    gameName: A,
                    date: y,
                    ...o
                }
            })
        } catch {
            return console.warn("[Artifacts] Unable to parse artifacts array"), []
        }
    }
}
var ea = {},
    xb = {
        get exports() {
            return ea
        },
        set exports(t) {
            ea = t
        }
    };
(function(t, e) {
    var i = typeof self < "u" ? self : wt,
        n = function() {
            function o() {
                this.fetch = !1, this.DOMException = i.DOMException
            }
            return o.prototype = i, new o
        }();
    (function(o) {
        (function(p) {
            var y = {
                searchParams: "URLSearchParams" in o,
                iterable: "Symbol" in o && "iterator" in Symbol,
                blob: "FileReader" in o && "Blob" in o && function() {
                    try {
                        return new Blob, !0
                    } catch {
                        return !1
                    }
                }(),
                formData: "FormData" in o,
                arrayBuffer: "ArrayBuffer" in o
            };

            function w(K) {
                return K && DataView.prototype.isPrototypeOf(K)
            }
            if (y.arrayBuffer) var x = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"],
                A = ArrayBuffer.isView || function(K) {
                    return K && x.indexOf(Object.prototype.toString.call(K)) > -1
                };

            function D(K) {
                if (typeof K != "string" && (K = String(K)), /[^a-z0-9\-#$%&'*+.^_`|~]/i.test(K)) throw new TypeError("Invalid character in header field name");
                return K.toLowerCase()
            }

            function B(K) {
                return typeof K != "string" && (K = String(K)), K
            }

            function X(K) {
                var le = {
                    next: function() {
                        var De = K.shift();
                        return {
                            done: De === void 0,
                            value: De
                        }
                    }
                };
                return y.iterable && (le[Symbol.iterator] = function() {
                    return le
                }), le
            }

            function j(K) {
                this.map = {}, K instanceof j ? K.forEach(function(le, De) {
                    this.append(De, le)
                }, this) : Array.isArray(K) ? K.forEach(function(le) {
                    this.append(le[0], le[1])
                }, this) : K && Object.getOwnPropertyNames(K).forEach(function(le) {
                    this.append(le, K[le])
                }, this)
            }
            j.prototype.append = function(K, le) {
                K = D(K), le = B(le);
                var De = this.map[K];
                this.map[K] = De ? De + ", " + le : le
            }, j.prototype.delete = function(K) {
                delete this.map[D(K)]
            }, j.prototype.get = function(K) {
                return K = D(K), this.has(K) ? this.map[K] : null
            }, j.prototype.has = function(K) {
                return this.map.hasOwnProperty(D(K))
            }, j.prototype.set = function(K, le) {
                this.map[D(K)] = B(le)
            }, j.prototype.forEach = function(K, le) {
                for (var De in this.map) this.map.hasOwnProperty(De) && K.call(le, this.map[De], De, this)
            }, j.prototype.keys = function() {
                var K = [];
                return this.forEach(function(le, De) {
                    K.push(De)
                }), X(K)
            }, j.prototype.values = function() {
                var K = [];
                return this.forEach(function(le) {
                    K.push(le)
                }), X(K)
            }, j.prototype.entries = function() {
                var K = [];
                return this.forEach(function(le, De) {
                    K.push([De, le])
                }), X(K)
            }, y.iterable && (j.prototype[Symbol.iterator] = j.prototype.entries);

            function ie(K) {
                if (K.bodyUsed) return Promise.reject(new TypeError("Already read"));
                K.bodyUsed = !0
            }

            function v(K) {
                return new Promise(function(le, De) {
                    K.onload = function() {
                        le(K.result)
                    }, K.onerror = function() {
                        De(K.error)
                    }
                })
            }

            function $(K) {
                var le = new FileReader,
                    De = v(le);
                return le.readAsArrayBuffer(K), De
            }

            function W(K) {
                var le = new FileReader,
                    De = v(le);
                return le.readAsText(K), De
            }

            function ne(K) {
                for (var le = new Uint8Array(K), De = new Array(le.length), Ie = 0; Ie < le.length; Ie++) De[Ie] = String.fromCharCode(le[Ie]);
                return De.join("")
            }

            function oe(K) {
                if (K.slice) return K.slice(0);
                var le = new Uint8Array(K.byteLength);
                return le.set(new Uint8Array(K)), le.buffer
            }

            function ue() {
                return this.bodyUsed = !1, this._initBody = function(K) {
                    this._bodyInit = K, K ? typeof K == "string" ? this._bodyText = K : y.blob && Blob.prototype.isPrototypeOf(K) ? this._bodyBlob = K : y.formData && FormData.prototype.isPrototypeOf(K) ? this._bodyFormData = K : y.searchParams && URLSearchParams.prototype.isPrototypeOf(K) ? this._bodyText = K.toString() : y.arrayBuffer && y.blob && w(K) ? (this._bodyArrayBuffer = oe(K.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : y.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(K) || A(K)) ? this._bodyArrayBuffer = oe(K) : this._bodyText = K = Object.prototype.toString.call(K) : this._bodyText = "", this.headers.get("content-type") || (typeof K == "string" ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : y.searchParams && URLSearchParams.prototype.isPrototypeOf(K) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
                }, y.blob && (this.blob = function() {
                    var K = ie(this);
                    if (K) return K;
                    if (this._bodyBlob) return Promise.resolve(this._bodyBlob);
                    if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                    if (this._bodyFormData) throw new Error("could not read FormData body as blob");
                    return Promise.resolve(new Blob([this._bodyText]))
                }, this.arrayBuffer = function() {
                    return this._bodyArrayBuffer ? ie(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then($)
                }), this.text = function() {
                    var K = ie(this);
                    if (K) return K;
                    if (this._bodyBlob) return W(this._bodyBlob);
                    if (this._bodyArrayBuffer) return Promise.resolve(ne(this._bodyArrayBuffer));
                    if (this._bodyFormData) throw new Error("could not read FormData body as text");
                    return Promise.resolve(this._bodyText)
                }, y.formData && (this.formData = function() {
                    return this.text().then(Ae)
                }), this.json = function() {
                    return this.text().then(JSON.parse)
                }, this
            }
            var d = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];

            function ye(K) {
                var le = K.toUpperCase();
                return d.indexOf(le) > -1 ? le : K
            }

            function Se(K, le) {
                le = le || {};
                var De = le.body;
                if (K instanceof Se) {
                    if (K.bodyUsed) throw new TypeError("Already read");
                    this.url = K.url, this.credentials = K.credentials, le.headers || (this.headers = new j(K.headers)), this.method = K.method, this.mode = K.mode, this.signal = K.signal, !De && K._bodyInit != null && (De = K._bodyInit, K.bodyUsed = !0)
                } else this.url = String(K);
                if (this.credentials = le.credentials || this.credentials || "same-origin", (le.headers || !this.headers) && (this.headers = new j(le.headers)), this.method = ye(le.method || this.method || "GET"), this.mode = le.mode || this.mode || null, this.signal = le.signal || this.signal, this.referrer = null, (this.method === "GET" || this.method === "HEAD") && De) throw new TypeError("Body not allowed for GET or HEAD requests");
                this._initBody(De)
            }
            Se.prototype.clone = function() {
                return new Se(this, {
                    body: this._bodyInit
                })
            };

            function Ae(K) {
                var le = new FormData;
                return K.trim().split("&").forEach(function(De) {
                    if (De) {
                        var Ie = De.split("="),
                            we = Ie.shift().replace(/\+/g, " "),
                            he = Ie.join("=").replace(/\+/g, " ");
                        le.append(decodeURIComponent(we), decodeURIComponent(he))
                    }
                }), le
            }

            function at(K) {
                var le = new j,
                    De = K.replace(/\r?\n[\t ]+/g, " ");
                return De.split(/\r?\n/).forEach(function(Ie) {
                    var we = Ie.split(":"),
                        he = we.shift().trim();
                    if (he) {
                        var ke = we.join(":").trim();
                        le.append(he, ke)
                    }
                }), le
            }
            ue.call(Se.prototype);

            function Ve(K, le) {
                le || (le = {}), this.type = "default", this.status = le.status === void 0 ? 200 : le.status, this.ok = this.status >= 200 && this.status < 300, this.statusText = "statusText" in le ? le.statusText : "OK", this.headers = new j(le.headers), this.url = le.url || "", this._initBody(K)
            }
            ue.call(Ve.prototype), Ve.prototype.clone = function() {
                return new Ve(this._bodyInit, {
                    status: this.status,
                    statusText: this.statusText,
                    headers: new j(this.headers),
                    url: this.url
                })
            }, Ve.error = function() {
                var K = new Ve(null, {
                    status: 0,
                    statusText: ""
                });
                return K.type = "error", K
            };
            var Ke = [301, 302, 303, 307, 308];
            Ve.redirect = function(K, le) {
                if (Ke.indexOf(le) === -1) throw new RangeError("Invalid status code");
                return new Ve(null, {
                    status: le,
                    headers: {
                        location: K
                    }
                })
            }, p.DOMException = o.DOMException;
            try {
                new p.DOMException
            } catch {
                p.DOMException = function(le, De) {
                    this.message = le, this.name = De;
                    var Ie = Error(le);
                    this.stack = Ie.stack
                }, p.DOMException.prototype = Object.create(Error.prototype), p.DOMException.prototype.constructor = p.DOMException
            }

            function qe(K, le) {
                return new Promise(function(De, Ie) {
                    var we = new Se(K, le);
                    if (we.signal && we.signal.aborted) return Ie(new p.DOMException("Aborted", "AbortError"));
                    var he = new XMLHttpRequest;

                    function ke() {
                        he.abort()
                    }
                    he.onload = function() {
                        var Te = {
                            status: he.status,
                            statusText: he.statusText,
                            headers: at(he.getAllResponseHeaders() || "")
                        };
                        Te.url = "responseURL" in he ? he.responseURL : Te.headers.get("X-Request-URL");
                        var Fe = "response" in he ? he.response : he.responseText;
                        De(new Ve(Fe, Te))
                    }, he.onerror = function() {
                        Ie(new TypeError("Network request failed"))
                    }, he.ontimeout = function() {
                        Ie(new TypeError("Network request failed"))
                    }, he.onabort = function() {
                        Ie(new p.DOMException("Aborted", "AbortError"))
                    }, he.open(we.method, we.url, !0), we.credentials === "include" ? he.withCredentials = !0 : we.credentials === "omit" && (he.withCredentials = !1), "responseType" in he && y.blob && (he.responseType = "blob"), we.headers.forEach(function(Te, Fe) {
                        he.setRequestHeader(Fe, Te)
                    }), we.signal && (we.signal.addEventListener("abort", ke), he.onreadystatechange = function() {
                        he.readyState === 4 && we.signal.removeEventListener("abort", ke)
                    }), he.send(typeof we._bodyInit > "u" ? null : we._bodyInit)
                })
            }
            return qe.polyfill = !0, o.fetch || (o.fetch = qe, o.Headers = j, o.Request = Se, o.Response = Ve), p.Headers = j, p.Request = Se, p.Response = Ve, p.fetch = qe, Object.defineProperty(p, "__esModule", {
                value: !0
            }), p
        })({})
    })(n), n.fetch.ponyfill = !0, delete n.fetch.polyfill;
    var s = n;
    e = s.fetch, e.default = s.fetch, e.fetch = s.fetch, e.Headers = s.Headers, e.Request = s.Request, e.Response = s.Response, t.exports = e
})(xb, ea);
var Eb = function() {
        if (typeof Symbol != "function" || typeof Object.getOwnPropertySymbols != "function") return !1;
        if (typeof Symbol.iterator == "symbol") return !0;
        var e = {},
            i = Symbol("test"),
            n = Object(i);
        if (typeof i == "string" || Object.prototype.toString.call(i) !== "[object Symbol]" || Object.prototype.toString.call(n) !== "[object Symbol]") return !1;
        var s = 42;
        e[i] = s;
        for (i in e) return !1;
        if (typeof Object.keys == "function" && Object.keys(e).length !== 0 || typeof Object.getOwnPropertyNames == "function" && Object.getOwnPropertyNames(e).length !== 0) return !1;
        var o = Object.getOwnPropertySymbols(e);
        if (o.length !== 1 || o[0] !== i || !Object.prototype.propertyIsEnumerable.call(e, i)) return !1;
        if (typeof Object.getOwnPropertyDescriptor == "function") {
            var p = Object.getOwnPropertyDescriptor(e, i);
            if (p.value !== s || p.enumerable !== !0) return !1
        }
        return !0
    },
    pu = typeof Symbol < "u" && Symbol,
    Sb = Eb,
    kb = function() {
        return typeof pu != "function" || typeof Symbol != "function" || typeof pu("foo") != "symbol" || typeof Symbol("bar") != "symbol" ? !1 : Sb()
    },
    Tb = "Function.prototype.bind called on incompatible ",
    rl = Array.prototype.slice,
    Ab = Object.prototype.toString,
    Ob = "[object Function]",
    Ib = function(e) {
        var i = this;
        if (typeof i != "function" || Ab.call(i) !== Ob) throw new TypeError(Tb + i);
        for (var n = rl.call(arguments, 1), s, o = function() {
                if (this instanceof s) {
                    var A = i.apply(this, n.concat(rl.call(arguments)));
                    return Object(A) === A ? A : this
                } else return i.apply(e, n.concat(rl.call(arguments)))
            }, p = Math.max(0, i.length - n.length), y = [], w = 0; w < p; w++) y.push("$" + w);
        if (s = Function("binder", "return function (" + y.join(",") + "){ return binder.apply(this,arguments); }")(o), i.prototype) {
            var x = function() {};
            x.prototype = i.prototype, s.prototype = new x, x.prototype = null
        }
        return s
    },
    Rb = Ib,
    cc = Function.prototype.bind || Rb,
    Mb = cc,
    Db = Mb.call(Function.call, Object.prototype.hasOwnProperty),
    yt, Gr = SyntaxError,
    Ih = Function,
    Vr = TypeError,
    sl = function(t) {
        try {
            return Ih('"use strict"; return (' + t + ").constructor;")()
        } catch {}
    },
    lr = Object.getOwnPropertyDescriptor;
if (lr) try {
    lr({}, "")
} catch {
    lr = null
}
var ol = function() {
        throw new Vr
    },
    Lb = lr ? function() {
        try {
            return arguments.callee, ol
        } catch {
            try {
                return lr(arguments, "callee").get
            } catch {
                return ol
            }
        }
    }() : ol,
    Ir = kb(),
    Tn = Object.getPrototypeOf || function(t) {
        return t.__proto__
    },
    Dr = {},
    Pb = typeof Uint8Array > "u" ? yt : Tn(Uint8Array),
    Fr = {
        "%AggregateError%": typeof AggregateError > "u" ? yt : AggregateError,
        "%Array%": Array,
        "%ArrayBuffer%": typeof ArrayBuffer > "u" ? yt : ArrayBuffer,
        "%ArrayIteratorPrototype%": Ir ? Tn([][Symbol.iterator]()) : yt,
        "%AsyncFromSyncIteratorPrototype%": yt,
        "%AsyncFunction%": Dr,
        "%AsyncGenerator%": Dr,
        "%AsyncGeneratorFunction%": Dr,
        "%AsyncIteratorPrototype%": Dr,
        "%Atomics%": typeof Atomics > "u" ? yt : Atomics,
        "%BigInt%": typeof BigInt > "u" ? yt : BigInt,
        "%Boolean%": Boolean,
        "%DataView%": typeof DataView > "u" ? yt : DataView,
        "%Date%": Date,
        "%decodeURI%": decodeURI,
        "%decodeURIComponent%": decodeURIComponent,
        "%encodeURI%": encodeURI,
        "%encodeURIComponent%": encodeURIComponent,
        "%Error%": Error,
        "%eval%": eval,
        "%EvalError%": EvalError,
        "%Float32Array%": typeof Float32Array > "u" ? yt : Float32Array,
        "%Float64Array%": typeof Float64Array > "u" ? yt : Float64Array,
        "%FinalizationRegistry%": typeof FinalizationRegistry > "u" ? yt : FinalizationRegistry,
        "%Function%": Ih,
        "%GeneratorFunction%": Dr,
        "%Int8Array%": typeof Int8Array > "u" ? yt : Int8Array,
        "%Int16Array%": typeof Int16Array > "u" ? yt : Int16Array,
        "%Int32Array%": typeof Int32Array > "u" ? yt : Int32Array,
        "%isFinite%": isFinite,
        "%isNaN%": isNaN,
        "%IteratorPrototype%": Ir ? Tn(Tn([][Symbol.iterator]())) : yt,
        "%JSON%": typeof JSON == "object" ? JSON : yt,
        "%Map%": typeof Map > "u" ? yt : Map,
        "%MapIteratorPrototype%": typeof Map > "u" || !Ir ? yt : Tn(new Map()[Symbol.iterator]()),
        "%Math%": Math,
        "%Number%": Number,
        "%Object%": Object,
        "%parseFloat%": parseFloat,
        "%parseInt%": parseInt,
        "%Promise%": typeof Promise > "u" ? yt : Promise,
        "%Proxy%": typeof Proxy > "u" ? yt : Proxy,
        "%RangeError%": RangeError,
        "%ReferenceError%": ReferenceError,
        "%Reflect%": typeof Reflect > "u" ? yt : Reflect,
        "%RegExp%": RegExp,
        "%Set%": typeof Set > "u" ? yt : Set,
        "%SetIteratorPrototype%": typeof Set > "u" || !Ir ? yt : Tn(new Set()[Symbol.iterator]()),
        "%SharedArrayBuffer%": typeof SharedArrayBuffer > "u" ? yt : SharedArrayBuffer,
        "%String%": String,
        "%StringIteratorPrototype%": Ir ? Tn("" [Symbol.iterator]()) : yt,
        "%Symbol%": Ir ? Symbol : yt,
        "%SyntaxError%": Gr,
        "%ThrowTypeError%": Lb,
        "%TypedArray%": Pb,
        "%TypeError%": Vr,
        "%Uint8Array%": typeof Uint8Array > "u" ? yt : Uint8Array,
        "%Uint8ClampedArray%": typeof Uint8ClampedArray > "u" ? yt : Uint8ClampedArray,
        "%Uint16Array%": typeof Uint16Array > "u" ? yt : Uint16Array,
        "%Uint32Array%": typeof Uint32Array > "u" ? yt : Uint32Array,
        "%URIError%": URIError,
        "%WeakMap%": typeof WeakMap > "u" ? yt : WeakMap,
        "%WeakRef%": typeof WeakRef > "u" ? yt : WeakRef,
        "%WeakSet%": typeof WeakSet > "u" ? yt : WeakSet
    },
    $b = function t(e) {
        var i;
        if (e === "%AsyncFunction%") i = sl("async function () {}");
        else if (e === "%GeneratorFunction%") i = sl("function* () {}");
        else if (e === "%AsyncGeneratorFunction%") i = sl("async function* () {}");
        else if (e === "%AsyncGenerator%") {
            var n = t("%AsyncGeneratorFunction%");
            n && (i = n.prototype)
        } else if (e === "%AsyncIteratorPrototype%") {
            var s = t("%AsyncGenerator%");
            s && (i = Tn(s.prototype))
        }
        return Fr[e] = i, i
    },
    gu = {
        "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
        "%ArrayPrototype%": ["Array", "prototype"],
        "%ArrayProto_entries%": ["Array", "prototype", "entries"],
        "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
        "%ArrayProto_keys%": ["Array", "prototype", "keys"],
        "%ArrayProto_values%": ["Array", "prototype", "values"],
        "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
        "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
        "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
        "%BooleanPrototype%": ["Boolean", "prototype"],
        "%DataViewPrototype%": ["DataView", "prototype"],
        "%DatePrototype%": ["Date", "prototype"],
        "%ErrorPrototype%": ["Error", "prototype"],
        "%EvalErrorPrototype%": ["EvalError", "prototype"],
        "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
        "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
        "%FunctionPrototype%": ["Function", "prototype"],
        "%Generator%": ["GeneratorFunction", "prototype"],
        "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
        "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
        "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
        "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
        "%JSONParse%": ["JSON", "parse"],
        "%JSONStringify%": ["JSON", "stringify"],
        "%MapPrototype%": ["Map", "prototype"],
        "%NumberPrototype%": ["Number", "prototype"],
        "%ObjectPrototype%": ["Object", "prototype"],
        "%ObjProto_toString%": ["Object", "prototype", "toString"],
        "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
        "%PromisePrototype%": ["Promise", "prototype"],
        "%PromiseProto_then%": ["Promise", "prototype", "then"],
        "%Promise_all%": ["Promise", "all"],
        "%Promise_reject%": ["Promise", "reject"],
        "%Promise_resolve%": ["Promise", "resolve"],
        "%RangeErrorPrototype%": ["RangeError", "prototype"],
        "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
        "%RegExpPrototype%": ["RegExp", "prototype"],
        "%SetPrototype%": ["Set", "prototype"],
        "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
        "%StringPrototype%": ["String", "prototype"],
        "%SymbolPrototype%": ["Symbol", "prototype"],
        "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
        "%TypedArrayPrototype%": ["TypedArray", "prototype"],
        "%TypeErrorPrototype%": ["TypeError", "prototype"],
        "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
        "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
        "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
        "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
        "%URIErrorPrototype%": ["URIError", "prototype"],
        "%WeakMapPrototype%": ["WeakMap", "prototype"],
        "%WeakSetPrototype%": ["WeakSet", "prototype"]
    },
    eo = cc,
    ta = Db,
    Nb = eo.call(Function.call, Array.prototype.concat),
    Bb = eo.call(Function.apply, Array.prototype.splice),
    mu = eo.call(Function.call, String.prototype.replace),
    ia = eo.call(Function.call, String.prototype.slice),
    Vb = eo.call(Function.call, RegExp.prototype.exec),
    Fb = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,
    jb = /\\(\\)?/g,
    qb = function(e) {
        var i = ia(e, 0, 1),
            n = ia(e, -1);
        if (i === "%" && n !== "%") throw new Gr("invalid intrinsic syntax, expected closing `%`");
        if (n === "%" && i !== "%") throw new Gr("invalid intrinsic syntax, expected opening `%`");
        var s = [];
        return mu(e, Fb, function(o, p, y, w) {
            s[s.length] = y ? mu(w, jb, "$1") : p || o
        }), s
    },
    Ub = function(e, i) {
        var n = e,
            s;
        if (ta(gu, n) && (s = gu[n], n = "%" + s[0] + "%"), ta(Fr, n)) {
            var o = Fr[n];
            if (o === Dr && (o = $b(n)), typeof o > "u" && !i) throw new Vr("intrinsic " + e + " exists, but is not available. Please file an issue!");
            return {
                alias: s,
                name: n,
                value: o
            }
        }
        throw new Gr("intrinsic " + e + " does not exist!")
    },
    uc = function(e, i) {
        if (typeof e != "string" || e.length === 0) throw new Vr("intrinsic name must be a non-empty string");
        if (arguments.length > 1 && typeof i != "boolean") throw new Vr('"allowMissing" argument must be a boolean');
        if (Vb(/^%?[^%]*%?$/g, e) === null) throw new Gr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
        var n = qb(e),
            s = n.length > 0 ? n[0] : "",
            o = Ub("%" + s + "%", i),
            p = o.name,
            y = o.value,
            w = !1,
            x = o.alias;
        x && (s = x[0], Bb(n, Nb([0, 1], x)));
        for (var A = 1, D = !0; A < n.length; A += 1) {
            var B = n[A],
                X = ia(B, 0, 1),
                j = ia(B, -1);
            if ((X === '"' || X === "'" || X === "`" || j === '"' || j === "'" || j === "`") && X !== j) throw new Gr("property names with quotes must have matching quotes");
            if ((B === "constructor" || !D) && (w = !0), s += "." + B, p = "%" + s + "%", ta(Fr, p)) y = Fr[p];
            else if (y != null) {
                if (!(B in y)) {
                    if (!i) throw new Vr("base intrinsic for " + e + " exists, but the property is not available.");
                    return
                }
                if (lr && A + 1 >= n.length) {
                    var ie = lr(y, B);
                    D = !!ie, D && "get" in ie && !("originalValue" in ie.get) ? y = ie.get : y = y[B]
                } else D = ta(y, B), y = y[B];
                D && !w && (Fr[p] = y)
            }
        }
        return y
    },
    Ol = {},
    zb = {
        get exports() {
            return Ol
        },
        set exports(t) {
            Ol = t
        }
    };
(function(t) {
    var e = cc,
        i = uc,
        n = i("%Function.prototype.apply%"),
        s = i("%Function.prototype.call%"),
        o = i("%Reflect.apply%", !0) || e.call(s, n),
        p = i("%Object.getOwnPropertyDescriptor%", !0),
        y = i("%Object.defineProperty%", !0),
        w = i("%Math.max%");
    if (y) try {
        y({}, "a", {
            value: 1
        })
    } catch {
        y = null
    }
    t.exports = function(D) {
        var B = o(e, s, arguments);
        if (p && y) {
            var X = p(B, "length");
            X.configurable && y(B, "length", {
                value: 1 + w(0, D.length - (arguments.length - 1))
            })
        }
        return B
    };
    var x = function() {
        return o(e, n, arguments)
    };
    y ? y(t.exports, "apply", {
        value: x
    }) : t.exports.apply = x
})(zb);
var Rh = uc,
    Mh = Ol,
    Hb = Mh(Rh("String.prototype.indexOf")),
    Gb = function(e, i) {
        var n = Rh(e, !!i);
        return typeof n == "function" && Hb(e, ".prototype.") > -1 ? Mh(n) : n
    };
const Wb = {},
    Kb = Object.freeze(Object.defineProperty({
        __proto__: null,
        default: Wb
    }, Symbol.toStringTag, {
        value: "Module"
    })),
    Xb = sf(Kb);
var hc = typeof Map == "function" && Map.prototype,
    al = Object.getOwnPropertyDescriptor && hc ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null,
    na = hc && al && typeof al.get == "function" ? al.get : null,
    Yb = hc && Map.prototype.forEach,
    dc = typeof Set == "function" && Set.prototype,
    ll = Object.getOwnPropertyDescriptor && dc ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null,
    ra = dc && ll && typeof ll.get == "function" ? ll.get : null,
    Jb = dc && Set.prototype.forEach,
    Qb = typeof WeakMap == "function" && WeakMap.prototype,
    Bs = Qb ? WeakMap.prototype.has : null,
    Zb = typeof WeakSet == "function" && WeakSet.prototype,
    Vs = Zb ? WeakSet.prototype.has : null,
    e_ = typeof WeakRef == "function" && WeakRef.prototype,
    vu = e_ ? WeakRef.prototype.deref : null,
    t_ = Boolean.prototype.valueOf,
    i_ = Object.prototype.toString,
    n_ = Function.prototype.toString,
    r_ = String.prototype.match,
    fc = String.prototype.slice,
    Ln = String.prototype.replace,
    s_ = String.prototype.toUpperCase,
    yu = String.prototype.toLowerCase,
    Dh = RegExp.prototype.test,
    wu = Array.prototype.concat,
    en = Array.prototype.join,
    o_ = Array.prototype.slice,
    bu = Math.floor,
    Il = typeof BigInt == "function" ? BigInt.prototype.valueOf : null,
    cl = Object.getOwnPropertySymbols,
    Rl = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Symbol.prototype.toString : null,
    Wr = typeof Symbol == "function" && typeof Symbol.iterator == "object",
    vi = typeof Symbol == "function" && Symbol.toStringTag && (typeof Symbol.toStringTag === Wr || "symbol") ? Symbol.toStringTag : null,
    Lh = Object.prototype.propertyIsEnumerable,
    _u = (typeof Reflect == "function" ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(t) {
        return t.__proto__
    } : null);

function Cu(t, e) {
    if (t === 1 / 0 || t === -1 / 0 || t !== t || t && t > -1e3 && t < 1e3 || Dh.call(/e/, e)) return e;
    var i = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
    if (typeof t == "number") {
        var n = t < 0 ? -bu(-t) : bu(t);
        if (n !== t) {
            var s = String(n),
                o = fc.call(e, s.length + 1);
            return Ln.call(s, i, "$&_") + "." + Ln.call(Ln.call(o, /([0-9]{3})/g, "$&_"), /_$/, "")
        }
    }
    return Ln.call(e, i, "$&_")
}
var Ml = Xb,
    xu = Ml.custom,
    Eu = $h(xu) ? xu : null,
    a_ = function t(e, i, n, s) {
        var o = i || {};
        if (An(o, "quoteStyle") && o.quoteStyle !== "single" && o.quoteStyle !== "double") throw new TypeError('option "quoteStyle" must be "single" or "double"');
        if (An(o, "maxStringLength") && (typeof o.maxStringLength == "number" ? o.maxStringLength < 0 && o.maxStringLength !== 1 / 0 : o.maxStringLength !== null)) throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
        var p = An(o, "customInspect") ? o.customInspect : !0;
        if (typeof p != "boolean" && p !== "symbol") throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
        if (An(o, "indent") && o.indent !== null && o.indent !== "	" && !(parseInt(o.indent, 10) === o.indent && o.indent > 0)) throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');
        if (An(o, "numericSeparator") && typeof o.numericSeparator != "boolean") throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');
        var y = o.numericSeparator;
        if (typeof e > "u") return "undefined";
        if (e === null) return "null";
        if (typeof e == "boolean") return e ? "true" : "false";
        if (typeof e == "string") return Bh(e, o);
        if (typeof e == "number") {
            if (e === 0) return 1 / 0 / e > 0 ? "0" : "-0";
            var w = String(e);
            return y ? Cu(e, w) : w
        }
        if (typeof e == "bigint") {
            var x = String(e) + "n";
            return y ? Cu(e, x) : x
        }
        var A = typeof o.depth > "u" ? 5 : o.depth;
        if (typeof n > "u" && (n = 0), n >= A && A > 0 && typeof e == "object") return Dl(e) ? "[Array]" : "[Object]";
        var D = S_(o, n);
        if (typeof s > "u") s = [];
        else if (Nh(s, e) >= 0) return "[Circular]";

        function B(qe, K, le) {
            if (K && (s = o_.call(s), s.push(K)), le) {
                var De = {
                    depth: o.depth
                };
                return An(o, "quoteStyle") && (De.quoteStyle = o.quoteStyle), t(qe, De, n + 1, s)
            }
            return t(qe, o, n + 1, s)
        }
        if (typeof e == "function" && !Su(e)) {
            var X = m_(e),
                j = To(e, B);
            return "[Function" + (X ? ": " + X : " (anonymous)") + "]" + (j.length > 0 ? " { " + en.call(j, ", ") + " }" : "")
        }
        if ($h(e)) {
            var ie = Wr ? Ln.call(String(e), /^(Symbol\(.*\))_[^)]*$/, "$1") : Rl.call(e);
            return typeof e == "object" && !Wr ? Rs(ie) : ie
        }
        if (C_(e)) {
            for (var v = "<" + yu.call(String(e.nodeName)), $ = e.attributes || [], W = 0; W < $.length; W++) v += " " + $[W].name + "=" + Ph(l_($[W].value), "double", o);
            return v += ">", e.childNodes && e.childNodes.length && (v += "..."), v += "</" + yu.call(String(e.nodeName)) + ">", v
        }
        if (Dl(e)) {
            if (e.length === 0) return "[]";
            var ne = To(e, B);
            return D && !E_(ne) ? "[" + Ll(ne, D) + "]" : "[ " + en.call(ne, ", ") + " ]"
        }
        if (u_(e)) {
            var oe = To(e, B);
            return !("cause" in Error.prototype) && "cause" in e && !Lh.call(e, "cause") ? "{ [" + String(e) + "] " + en.call(wu.call("[cause]: " + B(e.cause), oe), ", ") + " }" : oe.length === 0 ? "[" + String(e) + "]" : "{ [" + String(e) + "] " + en.call(oe, ", ") + " }"
        }
        if (typeof e == "object" && p) {
            if (Eu && typeof e[Eu] == "function" && Ml) return Ml(e, {
                depth: A - n
            });
            if (p !== "symbol" && typeof e.inspect == "function") return e.inspect()
        }
        if (v_(e)) {
            var ue = [];
            return Yb.call(e, function(qe, K) {
                ue.push(B(K, e, !0) + " => " + B(qe, e))
            }), ku("Map", na.call(e), ue, D)
        }
        if (b_(e)) {
            var d = [];
            return Jb.call(e, function(qe) {
                d.push(B(qe, e))
            }), ku("Set", ra.call(e), d, D)
        }
        if (y_(e)) return ul("WeakMap");
        if (__(e)) return ul("WeakSet");
        if (w_(e)) return ul("WeakRef");
        if (d_(e)) return Rs(B(Number(e)));
        if (p_(e)) return Rs(B(Il.call(e)));
        if (f_(e)) return Rs(t_.call(e));
        if (h_(e)) return Rs(B(String(e)));
        if (!c_(e) && !Su(e)) {
            var ye = To(e, B),
                Se = _u ? _u(e) === Object.prototype : e instanceof Object || e.constructor === Object,
                Ae = e instanceof Object ? "" : "null prototype",
                at = !Se && vi && Object(e) === e && vi in e ? fc.call(qn(e), 8, -1) : Ae ? "Object" : "",
                Ve = Se || typeof e.constructor != "function" ? "" : e.constructor.name ? e.constructor.name + " " : "",
                Ke = Ve + (at || Ae ? "[" + en.call(wu.call([], at || [], Ae || []), ": ") + "] " : "");
            return ye.length === 0 ? Ke + "{}" : D ? Ke + "{" + Ll(ye, D) + "}" : Ke + "{ " + en.call(ye, ", ") + " }"
        }
        return String(e)
    };

function Ph(t, e, i) {
    var n = (i.quoteStyle || e) === "double" ? '"' : "'";
    return n + t + n
}

function l_(t) {
    return Ln.call(String(t), /"/g, "&quot;")
}

function Dl(t) {
    return qn(t) === "[object Array]" && (!vi || !(typeof t == "object" && vi in t))
}

function c_(t) {
    return qn(t) === "[object Date]" && (!vi || !(typeof t == "object" && vi in t))
}

function Su(t) {
    return qn(t) === "[object RegExp]" && (!vi || !(typeof t == "object" && vi in t))
}

function u_(t) {
    return qn(t) === "[object Error]" && (!vi || !(typeof t == "object" && vi in t))
}

function h_(t) {
    return qn(t) === "[object String]" && (!vi || !(typeof t == "object" && vi in t))
}

function d_(t) {
    return qn(t) === "[object Number]" && (!vi || !(typeof t == "object" && vi in t))
}

function f_(t) {
    return qn(t) === "[object Boolean]" && (!vi || !(typeof t == "object" && vi in t))
}

function $h(t) {
    if (Wr) return t && typeof t == "object" && t instanceof Symbol;
    if (typeof t == "symbol") return !0;
    if (!t || typeof t != "object" || !Rl) return !1;
    try {
        return Rl.call(t), !0
    } catch {}
    return !1
}

function p_(t) {
    if (!t || typeof t != "object" || !Il) return !1;
    try {
        return Il.call(t), !0
    } catch {}
    return !1
}
var g_ = Object.prototype.hasOwnProperty || function(t) {
    return t in this
};

function An(t, e) {
    return g_.call(t, e)
}

function qn(t) {
    return i_.call(t)
}

function m_(t) {
    if (t.name) return t.name;
    var e = r_.call(n_.call(t), /^function\s*([\w$]+)/);
    return e ? e[1] : null
}

function Nh(t, e) {
    if (t.indexOf) return t.indexOf(e);
    for (var i = 0, n = t.length; i < n; i++)
        if (t[i] === e) return i;
    return -1
}

function v_(t) {
    if (!na || !t || typeof t != "object") return !1;
    try {
        na.call(t);
        try {
            ra.call(t)
        } catch {
            return !0
        }
        return t instanceof Map
    } catch {}
    return !1
}

function y_(t) {
    if (!Bs || !t || typeof t != "object") return !1;
    try {
        Bs.call(t, Bs);
        try {
            Vs.call(t, Vs)
        } catch {
            return !0
        }
        return t instanceof WeakMap
    } catch {}
    return !1
}

function w_(t) {
    if (!vu || !t || typeof t != "object") return !1;
    try {
        return vu.call(t), !0
    } catch {}
    return !1
}

function b_(t) {
    if (!ra || !t || typeof t != "object") return !1;
    try {
        ra.call(t);
        try {
            na.call(t)
        } catch {
            return !0
        }
        return t instanceof Set
    } catch {}
    return !1
}

function __(t) {
    if (!Vs || !t || typeof t != "object") return !1;
    try {
        Vs.call(t, Vs);
        try {
            Bs.call(t, Bs)
        } catch {
            return !0
        }
        return t instanceof WeakSet
    } catch {}
    return !1
}

function C_(t) {
    return !t || typeof t != "object" ? !1 : typeof HTMLElement < "u" && t instanceof HTMLElement ? !0 : typeof t.nodeName == "string" && typeof t.getAttribute == "function"
}

function Bh(t, e) {
    if (t.length > e.maxStringLength) {
        var i = t.length - e.maxStringLength,
            n = "... " + i + " more character" + (i > 1 ? "s" : "");
        return Bh(fc.call(t, 0, e.maxStringLength), e) + n
    }
    var s = Ln.call(Ln.call(t, /(['\\])/g, "\\$1"), /[\x00-\x1f]/g, x_);
    return Ph(s, "single", e)
}

function x_(t) {
    var e = t.charCodeAt(0),
        i = {
            8: "b",
            9: "t",
            10: "n",
            12: "f",
            13: "r"
        } [e];
    return i ? "\\" + i : "\\x" + (e < 16 ? "0" : "") + s_.call(e.toString(16))
}

function Rs(t) {
    return "Object(" + t + ")"
}

function ul(t) {
    return t + " { ? }"
}

function ku(t, e, i, n) {
    var s = n ? Ll(i, n) : en.call(i, ", ");
    return t + " (" + e + ") {" + s + "}"
}

function E_(t) {
    for (var e = 0; e < t.length; e++)
        if (Nh(t[e], `
`) >= 0) return !1;
    return !0
}

function S_(t, e) {
    var i;
    if (t.indent === "	") i = "	";
    else if (typeof t.indent == "number" && t.indent > 0) i = en.call(Array(t.indent + 1), " ");
    else return null;
    return {
        base: i,
        prev: en.call(Array(e + 1), i)
    }
}

function Ll(t, e) {
    if (t.length === 0) return "";
    var i = `
` + e.prev + e.base;
    return i + en.call(t, "," + i) + `
` + e.prev
}

function To(t, e) {
    var i = Dl(t),
        n = [];
    if (i) {
        n.length = t.length;
        for (var s = 0; s < t.length; s++) n[s] = An(t, s) ? e(t[s], t) : ""
    }
    var o = typeof cl == "function" ? cl(t) : [],
        p;
    if (Wr) {
        p = {};
        for (var y = 0; y < o.length; y++) p["$" + o[y]] = o[y]
    }
    for (var w in t) An(t, w) && (i && String(Number(w)) === w && w < t.length || Wr && p["$" + w] instanceof Symbol || (Dh.call(/[^\w$]/, w) ? n.push(e(w, t) + ": " + e(t[w], t)) : n.push(w + ": " + e(t[w], t))));
    if (typeof cl == "function")
        for (var x = 0; x < o.length; x++) Lh.call(t, o[x]) && n.push("[" + e(o[x]) + "]: " + e(t[o[x]], t));
    return n
}
var pc = uc,
    is = Gb,
    k_ = a_,
    T_ = pc("%TypeError%"),
    Ao = pc("%WeakMap%", !0),
    Oo = pc("%Map%", !0),
    A_ = is("WeakMap.prototype.get", !0),
    O_ = is("WeakMap.prototype.set", !0),
    I_ = is("WeakMap.prototype.has", !0),
    R_ = is("Map.prototype.get", !0),
    M_ = is("Map.prototype.set", !0),
    D_ = is("Map.prototype.has", !0),
    gc = function(t, e) {
        for (var i = t, n;
            (n = i.next) !== null; i = n)
            if (n.key === e) return i.next = n.next, n.next = t.next, t.next = n, n
    },
    L_ = function(t, e) {
        var i = gc(t, e);
        return i && i.value
    },
    P_ = function(t, e, i) {
        var n = gc(t, e);
        n ? n.value = i : t.next = {
            key: e,
            next: t.next,
            value: i
        }
    },
    $_ = function(t, e) {
        return !!gc(t, e)
    },
    N_ = function() {
        var e, i, n, s = {
            assert: function(o) {
                if (!s.has(o)) throw new T_("Side channel does not contain " + k_(o))
            },
            get: function(o) {
                if (Ao && o && (typeof o == "object" || typeof o == "function")) {
                    if (e) return A_(e, o)
                } else if (Oo) {
                    if (i) return R_(i, o)
                } else if (n) return L_(n, o)
            },
            has: function(o) {
                if (Ao && o && (typeof o == "object" || typeof o == "function")) {
                    if (e) return I_(e, o)
                } else if (Oo) {
                    if (i) return D_(i, o)
                } else if (n) return $_(n, o);
                return !1
            },
            set: function(o, p) {
                Ao && o && (typeof o == "object" || typeof o == "function") ? (e || (e = new Ao), O_(e, o, p)) : Oo ? (i || (i = new Oo), M_(i, o, p)) : (n || (n = {
                    key: {},
                    next: null
                }), P_(n, o, p))
            }
        };
        return s
    },
    B_ = String.prototype.replace,
    V_ = /%20/g,
    hl = {
        RFC1738: "RFC1738",
        RFC3986: "RFC3986"
    },
    mc = {
        default: hl.RFC3986,
        formatters: {
            RFC1738: function(t) {
                return B_.call(t, V_, "+")
            },
            RFC3986: function(t) {
                return String(t)
            }
        },
        RFC1738: hl.RFC1738,
        RFC3986: hl.RFC3986
    },
    F_ = mc,
    dl = Object.prototype.hasOwnProperty,
    or = Array.isArray,
    Ji = function() {
        for (var t = [], e = 0; e < 256; ++e) t.push("%" + ((e < 16 ? "0" : "") + e.toString(16)).toUpperCase());
        return t
    }(),
    j_ = function(e) {
        for (; e.length > 1;) {
            var i = e.pop(),
                n = i.obj[i.prop];
            if (or(n)) {
                for (var s = [], o = 0; o < n.length; ++o) typeof n[o] < "u" && s.push(n[o]);
                i.obj[i.prop] = s
            }
        }
    },
    Vh = function(e, i) {
        for (var n = i && i.plainObjects ? Object.create(null) : {}, s = 0; s < e.length; ++s) typeof e[s] < "u" && (n[s] = e[s]);
        return n
    },
    q_ = function t(e, i, n) {
        if (!i) return e;
        if (typeof i != "object") {
            if (or(e)) e.push(i);
            else if (e && typeof e == "object")(n && (n.plainObjects || n.allowPrototypes) || !dl.call(Object.prototype, i)) && (e[i] = !0);
            else return [e, i];
            return e
        }
        if (!e || typeof e != "object") return [e].concat(i);
        var s = e;
        return or(e) && !or(i) && (s = Vh(e, n)), or(e) && or(i) ? (i.forEach(function(o, p) {
            if (dl.call(e, p)) {
                var y = e[p];
                y && typeof y == "object" && o && typeof o == "object" ? e[p] = t(y, o, n) : e.push(o)
            } else e[p] = o
        }), e) : Object.keys(i).reduce(function(o, p) {
            var y = i[p];
            return dl.call(o, p) ? o[p] = t(o[p], y, n) : o[p] = y, o
        }, s)
    },
    U_ = function(e, i) {
        return Object.keys(i).reduce(function(n, s) {
            return n[s] = i[s], n
        }, e)
    },
    z_ = function(t, e, i) {
        var n = t.replace(/\+/g, " ");
        if (i === "iso-8859-1") return n.replace(/%[0-9a-f]{2}/gi, unescape);
        try {
            return decodeURIComponent(n)
        } catch {
            return n
        }
    },
    H_ = function(e, i, n, s, o) {
        if (e.length === 0) return e;
        var p = e;
        if (typeof e == "symbol" ? p = Symbol.prototype.toString.call(e) : typeof e != "string" && (p = String(e)), n === "iso-8859-1") return escape(p).replace(/%u[0-9a-f]{4}/gi, function(A) {
            return "%26%23" + parseInt(A.slice(2), 16) + "%3B"
        });
        for (var y = "", w = 0; w < p.length; ++w) {
            var x = p.charCodeAt(w);
            if (x === 45 || x === 46 || x === 95 || x === 126 || x >= 48 && x <= 57 || x >= 65 && x <= 90 || x >= 97 && x <= 122 || o === F_.RFC1738 && (x === 40 || x === 41)) {
                y += p.charAt(w);
                continue
            }
            if (x < 128) {
                y = y + Ji[x];
                continue
            }
            if (x < 2048) {
                y = y + (Ji[192 | x >> 6] + Ji[128 | x & 63]);
                continue
            }
            if (x < 55296 || x >= 57344) {
                y = y + (Ji[224 | x >> 12] + Ji[128 | x >> 6 & 63] + Ji[128 | x & 63]);
                continue
            }
            w += 1, x = 65536 + ((x & 1023) << 10 | p.charCodeAt(w) & 1023), y += Ji[240 | x >> 18] + Ji[128 | x >> 12 & 63] + Ji[128 | x >> 6 & 63] + Ji[128 | x & 63]
        }
        return y
    },
    G_ = function(e) {
        for (var i = [{
                obj: {
                    o: e
                },
                prop: "o"
            }], n = [], s = 0; s < i.length; ++s)
            for (var o = i[s], p = o.obj[o.prop], y = Object.keys(p), w = 0; w < y.length; ++w) {
                var x = y[w],
                    A = p[x];
                typeof A == "object" && A !== null && n.indexOf(A) === -1 && (i.push({
                    obj: p,
                    prop: x
                }), n.push(A))
            }
        return j_(i), e
    },
    W_ = function(e) {
        return Object.prototype.toString.call(e) === "[object RegExp]"
    },
    K_ = function(e) {
        return !e || typeof e != "object" ? !1 : !!(e.constructor && e.constructor.isBuffer && e.constructor.isBuffer(e))
    },
    X_ = function(e, i) {
        return [].concat(e, i)
    },
    Y_ = function(e, i) {
        if (or(e)) {
            for (var n = [], s = 0; s < e.length; s += 1) n.push(i(e[s]));
            return n
        }
        return i(e)
    },
    Fh = {
        arrayToObject: Vh,
        assign: U_,
        combine: X_,
        compact: G_,
        decode: z_,
        encode: H_,
        isBuffer: K_,
        isRegExp: W_,
        maybeMap: Y_,
        merge: q_
    },
    jh = N_,
    Pl = Fh,
    Fs = mc,
    J_ = Object.prototype.hasOwnProperty,
    Tu = {
        brackets: function(e) {
            return e + "[]"
        },
        comma: "comma",
        indices: function(e, i) {
            return e + "[" + i + "]"
        },
        repeat: function(e) {
            return e
        }
    },
    gn = Array.isArray,
    Q_ = String.prototype.split,
    Z_ = Array.prototype.push,
    qh = function(t, e) {
        Z_.apply(t, gn(e) ? e : [e])
    },
    e0 = Date.prototype.toISOString,
    Au = Fs.default,
    ci = {
        addQueryPrefix: !1,
        allowDots: !1,
        charset: "utf-8",
        charsetSentinel: !1,
        delimiter: "&",
        encode: !0,
        encoder: Pl.encode,
        encodeValuesOnly: !1,
        format: Au,
        formatter: Fs.formatters[Au],
        indices: !1,
        serializeDate: function(e) {
            return e0.call(e)
        },
        skipNulls: !1,
        strictNullHandling: !1
    },
    t0 = function(e) {
        return typeof e == "string" || typeof e == "number" || typeof e == "boolean" || typeof e == "symbol" || typeof e == "bigint"
    },
    fl = {},
    i0 = function t(e, i, n, s, o, p, y, w, x, A, D, B, X, j, ie, v) {
        for (var $ = e, W = v, ne = 0, oe = !1;
            (W = W.get(fl)) !== void 0 && !oe;) {
            var ue = W.get(e);
            if (ne += 1, typeof ue < "u") {
                if (ue === ne) throw new RangeError("Cyclic object value");
                oe = !0
            }
            typeof W.get(fl) > "u" && (ne = 0)
        }
        if (typeof w == "function" ? $ = w(i, $) : $ instanceof Date ? $ = D($) : n === "comma" && gn($) && ($ = Pl.maybeMap($, function(he) {
                return he instanceof Date ? D(he) : he
            })), $ === null) {
            if (o) return y && !j ? y(i, ci.encoder, ie, "key", B) : i;
            $ = ""
        }
        if (t0($) || Pl.isBuffer($)) {
            if (y) {
                var d = j ? i : y(i, ci.encoder, ie, "key", B);
                if (n === "comma" && j) {
                    for (var ye = Q_.call(String($), ","), Se = "", Ae = 0; Ae < ye.length; ++Ae) Se += (Ae === 0 ? "" : ",") + X(y(ye[Ae], ci.encoder, ie, "value", B));
                    return [X(d) + (s && gn($) && ye.length === 1 ? "[]" : "") + "=" + Se]
                }
                return [X(d) + "=" + X(y($, ci.encoder, ie, "value", B))]
            }
            return [X(i) + "=" + X(String($))]
        }
        var at = [];
        if (typeof $ > "u") return at;
        var Ve;
        if (n === "comma" && gn($)) Ve = [{
            value: $.length > 0 ? $.join(",") || null : void 0
        }];
        else if (gn(w)) Ve = w;
        else {
            var Ke = Object.keys($);
            Ve = x ? Ke.sort(x) : Ke
        }
        for (var qe = s && gn($) && $.length === 1 ? i + "[]" : i, K = 0; K < Ve.length; ++K) {
            var le = Ve[K],
                De = typeof le == "object" && typeof le.value < "u" ? le.value : $[le];
            if (!(p && De === null)) {
                var Ie = gn($) ? typeof n == "function" ? n(qe, le) : qe : qe + (A ? "." + le : "[" + le + "]");
                v.set(e, ne);
                var we = jh();
                we.set(fl, v), qh(at, t(De, Ie, n, s, o, p, y, w, x, A, D, B, X, j, ie, we))
            }
        }
        return at
    },
    n0 = function(e) {
        if (!e) return ci;
        if (e.encoder !== null && typeof e.encoder < "u" && typeof e.encoder != "function") throw new TypeError("Encoder has to be a function.");
        var i = e.charset || ci.charset;
        if (typeof e.charset < "u" && e.charset !== "utf-8" && e.charset !== "iso-8859-1") throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
        var n = Fs.default;
        if (typeof e.format < "u") {
            if (!J_.call(Fs.formatters, e.format)) throw new TypeError("Unknown format option provided.");
            n = e.format
        }
        var s = Fs.formatters[n],
            o = ci.filter;
        return (typeof e.filter == "function" || gn(e.filter)) && (o = e.filter), {
            addQueryPrefix: typeof e.addQueryPrefix == "boolean" ? e.addQueryPrefix : ci.addQueryPrefix,
            allowDots: typeof e.allowDots > "u" ? ci.allowDots : !!e.allowDots,
            charset: i,
            charsetSentinel: typeof e.charsetSentinel == "boolean" ? e.charsetSentinel : ci.charsetSentinel,
            delimiter: typeof e.delimiter > "u" ? ci.delimiter : e.delimiter,
            encode: typeof e.encode == "boolean" ? e.encode : ci.encode,
            encoder: typeof e.encoder == "function" ? e.encoder : ci.encoder,
            encodeValuesOnly: typeof e.encodeValuesOnly == "boolean" ? e.encodeValuesOnly : ci.encodeValuesOnly,
            filter: o,
            format: n,
            formatter: s,
            serializeDate: typeof e.serializeDate == "function" ? e.serializeDate : ci.serializeDate,
            skipNulls: typeof e.skipNulls == "boolean" ? e.skipNulls : ci.skipNulls,
            sort: typeof e.sort == "function" ? e.sort : null,
            strictNullHandling: typeof e.strictNullHandling == "boolean" ? e.strictNullHandling : ci.strictNullHandling
        }
    },
    r0 = function(t, e) {
        var i = t,
            n = n0(e),
            s, o;
        typeof n.filter == "function" ? (o = n.filter, i = o("", i)) : gn(n.filter) && (o = n.filter, s = o);
        var p = [];
        if (typeof i != "object" || i === null) return "";
        var y;
        e && e.arrayFormat in Tu ? y = e.arrayFormat : e && "indices" in e ? y = e.indices ? "indices" : "repeat" : y = "indices";
        var w = Tu[y];
        if (e && "commaRoundTrip" in e && typeof e.commaRoundTrip != "boolean") throw new TypeError("`commaRoundTrip` must be a boolean, or absent");
        var x = w === "comma" && e && e.commaRoundTrip;
        s || (s = Object.keys(i)), n.sort && s.sort(n.sort);
        for (var A = jh(), D = 0; D < s.length; ++D) {
            var B = s[D];
            n.skipNulls && i[B] === null || qh(p, i0(i[B], B, w, x, n.strictNullHandling, n.skipNulls, n.encode ? n.encoder : null, n.filter, n.sort, n.allowDots, n.serializeDate, n.format, n.formatter, n.encodeValuesOnly, n.charset, A))
        }
        var X = p.join(n.delimiter),
            j = n.addQueryPrefix === !0 ? "?" : "";
        return n.charsetSentinel && (n.charset === "iso-8859-1" ? j += "utf8=%26%2310003%3B&" : j += "utf8=%E2%9C%93&"), X.length > 0 ? j + X : ""
    },
    Kr = Fh,
    $l = Object.prototype.hasOwnProperty,
    s0 = Array.isArray,
    ni = {
        allowDots: !1,
        allowPrototypes: !1,
        allowSparse: !1,
        arrayLimit: 20,
        charset: "utf-8",
        charsetSentinel: !1,
        comma: !1,
        decoder: Kr.decode,
        delimiter: "&",
        depth: 5,
        ignoreQueryPrefix: !1,
        interpretNumericEntities: !1,
        parameterLimit: 1e3,
        parseArrays: !0,
        plainObjects: !1,
        strictNullHandling: !1
    },
    o0 = function(t) {
        return t.replace(/&#(\d+);/g, function(e, i) {
            return String.fromCharCode(parseInt(i, 10))
        })
    },
    Uh = function(t, e) {
        return t && typeof t == "string" && e.comma && t.indexOf(",") > -1 ? t.split(",") : t
    },
    a0 = "utf8=%26%2310003%3B",
    l0 = "utf8=%E2%9C%93",
    c0 = function(e, i) {
        var n = {},
            s = i.ignoreQueryPrefix ? e.replace(/^\?/, "") : e,
            o = i.parameterLimit === 1 / 0 ? void 0 : i.parameterLimit,
            p = s.split(i.delimiter, o),
            y = -1,
            w, x = i.charset;
        if (i.charsetSentinel)
            for (w = 0; w < p.length; ++w) p[w].indexOf("utf8=") === 0 && (p[w] === l0 ? x = "utf-8" : p[w] === a0 && (x = "iso-8859-1"), y = w, w = p.length);
        for (w = 0; w < p.length; ++w)
            if (w !== y) {
                var A = p[w],
                    D = A.indexOf("]="),
                    B = D === -1 ? A.indexOf("=") : D + 1,
                    X, j;
                B === -1 ? (X = i.decoder(A, ni.decoder, x, "key"), j = i.strictNullHandling ? null : "") : (X = i.decoder(A.slice(0, B), ni.decoder, x, "key"), j = Kr.maybeMap(Uh(A.slice(B + 1), i), function(ie) {
                    return i.decoder(ie, ni.decoder, x, "value")
                })), j && i.interpretNumericEntities && x === "iso-8859-1" && (j = o0(j)), A.indexOf("[]=") > -1 && (j = s0(j) ? [j] : j), $l.call(n, X) ? n[X] = Kr.combine(n[X], j) : n[X] = j
            } return n
    },
    u0 = function(t, e, i, n) {
        for (var s = n ? e : Uh(e, i), o = t.length - 1; o >= 0; --o) {
            var p, y = t[o];
            if (y === "[]" && i.parseArrays) p = [].concat(s);
            else {
                p = i.plainObjects ? Object.create(null) : {};
                var w = y.charAt(0) === "[" && y.charAt(y.length - 1) === "]" ? y.slice(1, -1) : y,
                    x = parseInt(w, 10);
                !i.parseArrays && w === "" ? p = {
                    0: s
                } : !isNaN(x) && y !== w && String(x) === w && x >= 0 && i.parseArrays && x <= i.arrayLimit ? (p = [], p[x] = s) : w !== "__proto__" && (p[w] = s)
            }
            s = p
        }
        return s
    },
    h0 = function(e, i, n, s) {
        if (e) {
            var o = n.allowDots ? e.replace(/\.([^.[]+)/g, "[$1]") : e,
                p = /(\[[^[\]]*])/,
                y = /(\[[^[\]]*])/g,
                w = n.depth > 0 && p.exec(o),
                x = w ? o.slice(0, w.index) : o,
                A = [];
            if (x) {
                if (!n.plainObjects && $l.call(Object.prototype, x) && !n.allowPrototypes) return;
                A.push(x)
            }
            for (var D = 0; n.depth > 0 && (w = y.exec(o)) !== null && D < n.depth;) {
                if (D += 1, !n.plainObjects && $l.call(Object.prototype, w[1].slice(1, -1)) && !n.allowPrototypes) return;
                A.push(w[1])
            }
            return w && A.push("[" + o.slice(w.index) + "]"), u0(A, i, n, s)
        }
    },
    d0 = function(e) {
        if (!e) return ni;
        if (e.decoder !== null && e.decoder !== void 0 && typeof e.decoder != "function") throw new TypeError("Decoder has to be a function.");
        if (typeof e.charset < "u" && e.charset !== "utf-8" && e.charset !== "iso-8859-1") throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
        var i = typeof e.charset > "u" ? ni.charset : e.charset;
        return {
            allowDots: typeof e.allowDots > "u" ? ni.allowDots : !!e.allowDots,
            allowPrototypes: typeof e.allowPrototypes == "boolean" ? e.allowPrototypes : ni.allowPrototypes,
            allowSparse: typeof e.allowSparse == "boolean" ? e.allowSparse : ni.allowSparse,
            arrayLimit: typeof e.arrayLimit == "number" ? e.arrayLimit : ni.arrayLimit,
            charset: i,
            charsetSentinel: typeof e.charsetSentinel == "boolean" ? e.charsetSentinel : ni.charsetSentinel,
            comma: typeof e.comma == "boolean" ? e.comma : ni.comma,
            decoder: typeof e.decoder == "function" ? e.decoder : ni.decoder,
            delimiter: typeof e.delimiter == "string" || Kr.isRegExp(e.delimiter) ? e.delimiter : ni.delimiter,
            depth: typeof e.depth == "number" || e.depth === !1 ? +e.depth : ni.depth,
            ignoreQueryPrefix: e.ignoreQueryPrefix === !0,
            interpretNumericEntities: typeof e.interpretNumericEntities == "boolean" ? e.interpretNumericEntities : ni.interpretNumericEntities,
            parameterLimit: typeof e.parameterLimit == "number" ? e.parameterLimit : ni.parameterLimit,
            parseArrays: e.parseArrays !== !1,
            plainObjects: typeof e.plainObjects == "boolean" ? e.plainObjects : ni.plainObjects,
            strictNullHandling: typeof e.strictNullHandling == "boolean" ? e.strictNullHandling : ni.strictNullHandling
        }
    },
    f0 = function(t, e) {
        var i = d0(e);
        if (t === "" || t === null || typeof t > "u") return i.plainObjects ? Object.create(null) : {};
        for (var n = typeof t == "string" ? c0(t, i) : t, s = i.plainObjects ? Object.create(null) : {}, o = Object.keys(n), p = 0; p < o.length; ++p) {
            var y = o[p],
                w = h0(y, n[y], i, typeof t == "string");
            s = Kr.merge(s, w, i)
        }
        return i.allowSparse === !0 ? s : Kr.compact(s)
    },
    p0 = r0,
    g0 = f0,
    m0 = mc,
    zh = {
        formats: m0,
        parse: g0,
        stringify: p0
    };
let v0 = class {
        constructor(e) {
            this.code = e.code, this.token = e.token, this.host = e.host
        }
    },
    y0 = class {
        constructor(e) {
            this.appId = e.appId, this.appTag = e.appTag, this.audienceEnabled = e.audienceEnabled, this.code = e.code, this.host = e.host, this.audienceHost = e.audienceHost, this.locked = e.locked, this.full = e.full, this.maxPlayers = e.maxPlayers, this.minPlayers = e.minPlayers, this.moderationEnabled = e.moderationEnabled, this.passwordRequired = e.passwordRequired, this.twitchLocked = e.twitchLocked, this.locale = e.locale, this.keepalive = e.keepalive, this.controllerBranch = e.controllerBranch
        }
    },
    w0 = class {
        constructor(e) {
            this.connections = e.connections
        }
    },
    b0 = class {
        constructor(e) {
            this.cause = e.cause
        }
        whenReceived(e) {
            e.disconnect()
        }
    },
    _0 = class {};
var xa = {
    CreateRoomReply: v0,
    GetRoomReply: y0,
    GetAudienceReply: w0,
    RoomExit: b0,
    RoomLock: _0
};
const Ou = ea,
    C0 = zh,
    {
        CreateRoomReply: x0,
        GetRoomReply: E0
    } = xa;
let S0 = class {
    constructor(e) {
        if (!e.host) throw new Error("unable to create ecast APIClient: no host provided");
        if (this.host = e.host, !e.scheme) throw new Error("unable to create ecast APIClient: no scheme provided");
        this.scheme = e.scheme
    }
    url(e, i) {
        if (i) {
            let n = C0.stringify(i);
            return `${this.scheme}://${this.host}/api/v2${e}?${n}`
        }
        return `${this.scheme}://${this.host}/api/v2${e}`
    }
    async createRoom(e) {
        let i = {
            userId: e.userId || "fart",
            appTag: e.appTag || "test"
        };
        e.password && (i.password = e.password), e.moderatorPassword && (i.moderatorPassword = e.moderatorPassword), e.twitchLocked && (i.twitchLocked = e.twitchLocked), e.locale && (i.locale = e.locale), e.keepalive && (i.keepalive = e.keepalive), e.controllerBranch && (i.controllerBranch = e.controllerBranch);
        let n = this.url("/rooms", i),
            p = await (await Ou(n, {
                method: "POST"
            })).json();
        if (!p.ok) throw new Error(`failed to create room: ${p.error}`);
        let y = p.body;
        return new x0({
            code: y.code,
            token: y.token,
            host: y.host
        })
    }
    async getRoom(e) {
        let i = this.url(`/rooms/${e.code}`),
            s = await (await Ou(i)).json();
        if (!s.ok) throw new Error(`unable to get room with options ${JSON.stringify(e)}: ${s.error}`);
        let o = s.body;
        return new E0({
            appId: o.appId,
            appTag: o.appTag,
            audienceEnabled: o.audienceEnabled,
            code: o.code,
            host: o.host,
            audienceHost: o.audienceHost,
            locked: o.locked,
            full: o.full,
            maxPlayers: o.maxPlayers,
            minPlayers: o.minPlayers,
            moderationEnabled: o.moderationEnabled,
            passwordRequired: o.passwordRequired,
            twitchLocked: o.twitchLocked,
            locale: o.locale,
            keepalive: o.keepalive,
            controllerBranch: o.controllerBranch
        })
    }
};
var k0 = {
        APIClient: S0
    },
    Lr = null;
typeof WebSocket < "u" ? Lr = WebSocket : typeof MozWebSocket < "u" ? Lr = MozWebSocket : typeof wt < "u" ? Lr = wt.WebSocket || wt.MozWebSocket : typeof window < "u" ? Lr = window.WebSocket || window.MozWebSocket : typeof self < "u" && (Lr = self.WebSocket || self.MozWebSocket);
var T0 = Lr,
    sa = {},
    A0 = {
        get exports() {
            return sa
        },
        set exports(t) {
            sa = t
        }
    },
    jr = typeof Reflect == "object" ? Reflect : null,
    Iu = jr && typeof jr.apply == "function" ? jr.apply : function(e, i, n) {
        return Function.prototype.apply.call(e, i, n)
    },
    $o;
jr && typeof jr.ownKeys == "function" ? $o = jr.ownKeys : Object.getOwnPropertySymbols ? $o = function(e) {
    return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
} : $o = function(e) {
    return Object.getOwnPropertyNames(e)
};

function O0(t) {
    console && console.warn && console.warn(t)
}
var Hh = Number.isNaN || function(e) {
    return e !== e
};

function Pt() {
    Pt.init.call(this)
}
A0.exports = Pt;
sa.once = D0;
Pt.EventEmitter = Pt;
Pt.prototype._events = void 0;
Pt.prototype._eventsCount = 0;
Pt.prototype._maxListeners = void 0;
var Ru = 10;

function Ea(t) {
    if (typeof t != "function") throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t)
}
Object.defineProperty(Pt, "defaultMaxListeners", {
    enumerable: !0,
    get: function() {
        return Ru
    },
    set: function(t) {
        if (typeof t != "number" || t < 0 || Hh(t)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + t + ".");
        Ru = t
    }
});
Pt.init = function() {
    (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) && (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0
};
Pt.prototype.setMaxListeners = function(e) {
    if (typeof e != "number" || e < 0 || Hh(e)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
    return this._maxListeners = e, this
};

function Gh(t) {
    return t._maxListeners === void 0 ? Pt.defaultMaxListeners : t._maxListeners
}
Pt.prototype.getMaxListeners = function() {
    return Gh(this)
};
Pt.prototype.emit = function(e) {
    for (var i = [], n = 1; n < arguments.length; n++) i.push(arguments[n]);
    var s = e === "error",
        o = this._events;
    if (o !== void 0) s = s && o.error === void 0;
    else if (!s) return !1;
    if (s) {
        var p;
        if (i.length > 0 && (p = i[0]), p instanceof Error) throw p;
        var y = new Error("Unhandled error." + (p ? " (" + p.message + ")" : ""));
        throw y.context = p, y
    }
    var w = o[e];
    if (w === void 0) return !1;
    if (typeof w == "function") Iu(w, this, i);
    else
        for (var x = w.length, A = Jh(w, x), n = 0; n < x; ++n) Iu(A[n], this, i);
    return !0
};

function Wh(t, e, i, n) {
    var s, o, p;
    if (Ea(i), o = t._events, o === void 0 ? (o = t._events = Object.create(null), t._eventsCount = 0) : (o.newListener !== void 0 && (t.emit("newListener", e, i.listener ? i.listener : i), o = t._events), p = o[e]), p === void 0) p = o[e] = i, ++t._eventsCount;
    else if (typeof p == "function" ? p = o[e] = n ? [i, p] : [p, i] : n ? p.unshift(i) : p.push(i), s = Gh(t), s > 0 && p.length > s && !p.warned) {
        p.warned = !0;
        var y = new Error("Possible EventEmitter memory leak detected. " + p.length + " " + String(e) + " listeners added. Use emitter.setMaxListeners() to increase limit");
        y.name = "MaxListenersExceededWarning", y.emitter = t, y.type = e, y.count = p.length, O0(y)
    }
    return t
}
Pt.prototype.addListener = function(e, i) {
    return Wh(this, e, i, !1)
};
Pt.prototype.on = Pt.prototype.addListener;
Pt.prototype.prependListener = function(e, i) {
    return Wh(this, e, i, !0)
};

function I0() {
    if (!this.fired) return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments)
}

function Kh(t, e, i) {
    var n = {
            fired: !1,
            wrapFn: void 0,
            target: t,
            type: e,
            listener: i
        },
        s = I0.bind(n);
    return s.listener = i, n.wrapFn = s, s
}
Pt.prototype.once = function(e, i) {
    return Ea(i), this.on(e, Kh(this, e, i)), this
};
Pt.prototype.prependOnceListener = function(e, i) {
    return Ea(i), this.prependListener(e, Kh(this, e, i)), this
};
Pt.prototype.removeListener = function(e, i) {
    var n, s, o, p, y;
    if (Ea(i), s = this._events, s === void 0) return this;
    if (n = s[e], n === void 0) return this;
    if (n === i || n.listener === i) --this._eventsCount === 0 ? this._events = Object.create(null) : (delete s[e], s.removeListener && this.emit("removeListener", e, n.listener || i));
    else if (typeof n != "function") {
        for (o = -1, p = n.length - 1; p >= 0; p--)
            if (n[p] === i || n[p].listener === i) {
                y = n[p].listener, o = p;
                break
            } if (o < 0) return this;
        o === 0 ? n.shift() : R0(n, o), n.length === 1 && (s[e] = n[0]), s.removeListener !== void 0 && this.emit("removeListener", e, y || i)
    }
    return this
};
Pt.prototype.off = Pt.prototype.removeListener;
Pt.prototype.removeAllListeners = function(e) {
    var i, n, s;
    if (n = this._events, n === void 0) return this;
    if (n.removeListener === void 0) return arguments.length === 0 ? (this._events = Object.create(null), this._eventsCount = 0) : n[e] !== void 0 && (--this._eventsCount === 0 ? this._events = Object.create(null) : delete n[e]), this;
    if (arguments.length === 0) {
        var o = Object.keys(n),
            p;
        for (s = 0; s < o.length; ++s) p = o[s], p !== "removeListener" && this.removeAllListeners(p);
        return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this
    }
    if (i = n[e], typeof i == "function") this.removeListener(e, i);
    else if (i !== void 0)
        for (s = i.length - 1; s >= 0; s--) this.removeListener(e, i[s]);
    return this
};

function Xh(t, e, i) {
    var n = t._events;
    if (n === void 0) return [];
    var s = n[e];
    return s === void 0 ? [] : typeof s == "function" ? i ? [s.listener || s] : [s] : i ? M0(s) : Jh(s, s.length)
}
Pt.prototype.listeners = function(e) {
    return Xh(this, e, !0)
};
Pt.prototype.rawListeners = function(e) {
    return Xh(this, e, !1)
};
Pt.listenerCount = function(t, e) {
    return typeof t.listenerCount == "function" ? t.listenerCount(e) : Yh.call(t, e)
};
Pt.prototype.listenerCount = Yh;

function Yh(t) {
    var e = this._events;
    if (e !== void 0) {
        var i = e[t];
        if (typeof i == "function") return 1;
        if (i !== void 0) return i.length
    }
    return 0
}
Pt.prototype.eventNames = function() {
    return this._eventsCount > 0 ? $o(this._events) : []
};

function Jh(t, e) {
    for (var i = new Array(e), n = 0; n < e; ++n) i[n] = t[n];
    return i
}

function R0(t, e) {
    for (; e + 1 < t.length; e++) t[e] = t[e + 1];
    t.pop()
}

function M0(t) {
    for (var e = new Array(t.length), i = 0; i < e.length; ++i) e[i] = t[i].listener || t[i];
    return e
}

function D0(t, e) {
    return new Promise(function(i, n) {
        function s(p) {
            t.removeListener(e, o), n(p)
        }

        function o() {
            typeof t.removeListener == "function" && t.removeListener("error", s), i([].slice.call(arguments))
        }
        Qh(t, e, o, {
            once: !0
        }), e !== "error" && L0(t, s, {
            once: !0
        })
    })
}

function L0(t, e, i) {
    typeof t.on == "function" && Qh(t, "error", e, i)
}

function Qh(t, e, i, n) {
    if (typeof t.on == "function") n.once ? t.once(e, i) : t.on(e, i);
    else if (typeof t.addEventListener == "function") t.addEventListener(e, function s(o) {
        n.once && t.removeEventListener(e, s), i(o)
    });
    else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof t)
}
let P0 = class {
        constructor(e) {
            e && (this.error = e.error, this.to = e.to, this.opcode = e.opcode)
        }
        toString() {
            return `ObservedError{
	to:${this.to}
	error:${this.error}
	opcode:${this.opcode}
}`
        }
    },
    Sa = class extends Error {
        constructor(e) {
            super(e), e && (this.code = e.code, this.message = e.message)
        }
    };
class to extends Sa {
    constructor(e) {
        super(e), this.code = 1e3, this.message = e && e.message ? e.message : "ecast server error"
    }
}
class Zh extends to {
    constructor(e) {
        super(e), this.code = 1001, this.message = e && e.message ? e.message : "create room failed"
    }
}
class ed extends to {
    constructor(e) {
        super(e), this.code = 1002, this.message = e && e.message ? e.message : "unable to connect to room"
    }
}
class td extends to {
    constructor(e) {
        super(e), this.code = 1003, this.message = e && e.message ? e.message : "server is shutting down"
    }
}
class It extends Sa {
    constructor(e) {
        super(e), this.code = 2e3, this.message = e && e.message ? e.message : "ecast client error"
    }
}
class id extends It {
    constructor(e) {
        super(e), this.code = 2001, this.message = e && e.message ? e.message : "parse error in ecast protocol"
    }
}
class nd extends It {
    constructor(e) {
        super(e), this.code = 2002, this.message = e && e.message ? e.message : "missing opcode"
    }
}
class rd extends It {
    constructor(e) {
        super(e), this.code = 2003, this.message = e && e.message ? e.message : "invalid opcode"
    }
}
class sd extends It {
    constructor(e) {
        super(e), this.code = 2004, this.message = e && e.message ? e.message : "invalid arguments"
    }
}
class od extends It {
    constructor(e) {
        super(e), this.code = 2005, this.message = e && e.message ? e.message : "entity not found"
    }
}
class ad extends It {
    constructor(e) {
        super(e), this.code = 2006, this.message = e && e.message ? e.message : "an entity already exists with that key"
    }
}
class ld extends It {
    constructor(e) {
        super(e), this.code = 2007, this.message = e && e.message ? e.message : "the entity is not of the expected type"
    }
}
class cd extends It {
    constructor(e) {
        super(e), this.code = 2008, this.message = e && e.message ? e.message : "no such client"
    }
}
class ud extends It {
    constructor(e) {
        super(e), this.code = 2009, this.message = e && e.message ? e.message : "room is locked"
    }
}
class hd extends It {
    constructor(e) {
        super(e), this.code = 2010, this.message = e && e.message ? e.message : "room is full"
    }
}
class dd extends It {
    constructor(e) {
        super(e), this.code = 2011, this.message = e && e.message ? e.message : "no such license"
    }
}
class fd extends It {
    constructor(e) {
        super(e), this.code = 2012, this.message = e && e.message ? e.message : "invalid license"
    }
}
class pd extends It {
    constructor(e) {
        super(e), this.code = 2013, this.message = e && e.message ? e.message : "room not found"
    }
}
class gd extends It {
    constructor(e) {
        super(e), this.code = 2014, this.message = e && e.message ? e.message : "requested role does not exist"
    }
}
class md extends It {
    constructor(e) {
        super(e), this.code = 2015, this.message = e && e.message ? e.message : "twitch login required"
    }
}
class vd extends It {
    constructor(e) {
        super(e), this.code = 2016, this.message = e && e.message ? e.message : "no such option"
    }
}
class yd extends It {
    constructor(e) {
        super(e), this.code = 2017, this.message = e && e.message ? e.message : "password required"
    }
}
class wd extends It {
    constructor(e) {
        super(e), this.code = 2018, this.message = e && e.message ? e.message : "invalid room password"
    }
}
class bd extends It {
    constructor(e) {
        super(e), this.code = 2019, this.message = e && e.message ? e.message : "missing name"
    }
}
class _d extends It {
    constructor(e) {
        super(e), this.code = 2021, this.message = e && e.message ? e.message : "text did not pass text filters"
    }
}
class Cd extends It {
    constructor(e) {
        super(e), this.code = 2022, this.message = e && e.message ? e.message : "no such filter"
    }
}
class xd extends It {
    constructor(e) {
        super(e), this.code = 2023, this.message = e && e.message ? e.message : "permission denied"
    }
}
class Ed extends It {
    constructor(e) {
        super(e), this.code = 2024, this.message = e && e.message ? e.message : "not connected to a room"
    }
}
class Sd extends It {
    constructor(e) {
        super(e), this.code = 2025, this.message = e && e.message ? e.message : "illegal operation"
    }
}
class kd extends It {
    constructor(e) {
        super(e), this.code = 2026, this.message = e && e.message ? e.message : "invalid ACL change"
    }
}
class Td extends It {
    constructor(e) {
        super(e), this.code = 2027, this.message = e && e.message ? e.message : "room has already ended"
    }
}
class Ad extends It {
    constructor(e) {
        super(e), this.code = 2028, this.message = e && e.message ? e.message : "the entity is locked"
    }
}
class Od extends It {
    constructor(e) {
        super(e), this.code = 2420, this.message = e && e.message ? e.message : "rate limit exceeded"
    }
}

function $0({
    code: t,
    message: e
}) {
    const i = N0[t];
    return i ? new i({
        message: e
    }) : new Sa({
        message: e
    })
}
var mn = {
    createError: $0,
    CallError: Sa,
    EcastServerError: to,
    EcastCreateRoomFailed: Zh,
    EcastDialRoomFailed: ed,
    EcastServerIsShuttingDown: td,
    EcastClientError: It,
    EcastParseError: id,
    EcastRequestIsMissingOpcode: nd,
    EcastRequestHasInvalidOpcode: rd,
    EcastRequestHasInvalidArguments: sd,
    EcastEntityNotFound: od,
    EcastEntityAlreadyExists: ad,
    EcastEntityTypeError: ld,
    EcastNoSuchClient: cd,
    EcastRoomIsLocked: ud,
    EcastRoomIsFull: hd,
    EcastLicenseNotFound: dd,
    EcastLicenseCheckFailed: fd,
    EcastRoomNotFound: pd,
    EcastInvalidRole: gd,
    EcastTwitchLoginRequired: md,
    EcastInvalidOption: vd,
    EcastPasswordRequired: yd,
    EcastInvalidPassword: wd,
    EcastNameRequired: bd,
    EcastFilterError: _d,
    EcastNoSuchFilter: Cd,
    EcastPermissionDenied: xd,
    EcastNotConnected: Ed,
    EcastIllegalOperation: Sd,
    EcastACLChangeDenied: kd,
    EcastRoomHasEnded: Td,
    EcastEntityLocked: Ad,
    EcastRateLimitExceeded: Od,
    ObservedError: P0
};
const N0 = {
    1e3: to,
    1001: Zh,
    1002: ed,
    1003: td,
    2e3: It,
    2001: id,
    2002: nd,
    2003: rd,
    2004: sd,
    2005: od,
    2006: ad,
    2007: ld,
    2008: cd,
    2009: ud,
    2010: hd,
    2011: dd,
    2012: fd,
    2013: pd,
    2014: gd,
    2015: md,
    2016: vd,
    2017: yd,
    2018: wd,
    2019: bd,
    2021: _d,
    2022: Cd,
    2023: xd,
    2024: Ed,
    2025: Sd,
    2026: kd,
    2027: Td,
    2028: Ad,
    2420: Od
};
let B0 = class {
        constructor(e) {
            this.id = e.id, this.deviceId = e.deviceId, this.name = e.name, this.secret = e.secret, this.reconnect = e.reconnect, this.entities = e.entities, this.here = e.here, this.profile = e.profile, this.replayEnd = e.replayEnd
        }
    },
    V0 = class {
        constructor(e) {
            this.id = e.id, this.userId = e.userId, this.name = e.name, this.role = e.role, this.reconnect = e.reconnect
        }
    },
    F0 = class {
        constructor(e) {
            this.id = e.id, this.role = e.role
        }
    },
    j0 = class {
        constructor(e) {
            this.to = e.to, this.from = e.from, this.body = e.body, this.userId = e.userId
        }
    },
    q0 = class {
        constructor(e) {
            this.id = e.id, this.banned = e.banned, this.reason = e.reason
        }
    };
var vc = {
    ClientConnected: V0,
    ClientDisconnected: F0,
    ClientKicked: q0,
    ClientSend: j0,
    ClientWelcome: B0
};
let U0 = class {
    constructor(e) {
        this.choices = e.choices, this.key = e.key, this.meta = e.meta || {}
    }
    whenReceived(e) {
        e.entities[this.key] = this
    }
    toString() {
        return `CountGroup{
	choices: ${this.choices}
	meta:${JSON.stringify(this.meta)}
}`
    }
};
var yc = {
    CountGroup: U0
};
let z0 = class {
        constructor(e) {
            this.key = e.key, this.colors = e.colors, this.lines = e.lines, this.live = e.live, this.maxLayer = e.maxLayer, this.maxPoints = e.maxPoints, this.size = e.size, this.weights = e.weights, this.meta = e.meta || {}, e.acl && (this.acl = e.acl)
        }
        whenReceived(e) {
            e.entities[this.key] = this
        }
        toString() {
            return `Doodle{
	key:${this.key}
	colors:${this.colors}
	lines:${this.lines}
	live:${this.live}
	maxLayer:${this.maxLayer}
	maxPoints:${this.maxPoints}
	size:${this.size}
	weights:${this.weights}
	meta:${JSON.stringify(this.meta)}
}`
        }
    },
    H0 = class {
        constructor(e) {
            this.key = e.key, this.line = e.line
        }
        whenReceived(e) {
            e.entities[this.key].lines.push(this.line)
        }
        toString() {
            return `DoodleLine{
	val:${this.line}
}`
        }
    },
    G0 = class {
        constructor(e) {
            this.key = e.key, this.index = e.index
        }
        whenReceived(e) {
            e.entities[this.key].lines.splice(this.index, 1)
        }
        toString() {
            return `DoodleLineRemoved{
	index:${this.index}
}`
        }
    };
var wc = {
    DoodleEntity: z0,
    DoodleLine: H0,
    DoodleLineRemoved: G0
};
let W0 = class {
    constructor(e) {
        this.key = e.key, this.count = e.count, this.meta = e.meta || {}
    }
    whenReceived(e) {
        e.entities[this.key] = this
    }
    toString() {
        return `GCounter{
	count:${this.count}
	meta:${this.meta}
}`
    }
};
var bc = {
    GCounter: W0
};
let K0 = class {
    constructor(e) {
        this.pc = e.pc, this.opcode = e.opcode, this.result = e.result
    }
};
var Id = {
    Notification: K0
};
let X0 = class Rd {
    constructor(e) {
        this.from = e.from, this.key = e.key, this.val = e.val, this.restrictions = e.restrictions, this.version = e.version, this.meta = e.meta || {}, e.acl && (this.acl = e.acl)
    }
    whenReceived(e) {
        if (e.entities[this.key] && e.entities[this.key] instanceof Rd && !this.restrictions) {
            e.entities[this.key].val = this.val, e.entities[this.key].meta = this.meta, e.entities[this.key].version = this.version, e.entities[this.key].from = this.from;
            return
        }
        e.entities[this.key] = this
    }
    toString() {
        return `NumberEntity{
	key:${this.key}
	val: ${this.val}
	restrictions: ${JSON.stringify(this.restrictions)}
	meta: ${JSON.stringify(this.meta)}
}`
    }
};
var _c = {
    NumberEntity: X0
};
let Y0 = class {
        constructor(e) {
            this.from = e.from, this.key = e.key, this.val = e.val, this.version = e.version, this.meta = e.meta || {}, e.acl && (this.acl = e.acl)
        }
        whenReceived(e) {
            e.entities[this.key] = this
        }
        toString() {
            return `ObjectEntity{
	key:${this.key}
	value: ${JSON.stringify(this.val)}
	meta:${JSON.stringify(this.meta)}
}`
        }
        toBlob() {
            return this.val
        }
    },
    J0 = class {
        constructor(e) {
            this.message = e.message
        }
        toString() {
            return `ObjectEcho{message: ${this.message}}`
        }
    };
var Cc = {
    ObjectEntity: Y0,
    ObjectEcho: J0
};
let Q0 = class {
    constructor(e) {
        this.key = e.key, this.count = e.count, this.meta = e.meta || {}
    }
    whenReceived(e) {
        e.entities[this.key] = this
    }
    toString() {
        return `PNCounter{
	count:${this.count}
	meta:${JSON.stringify(this.meta)}
}`
    }
};
var xc = {
    PNCounter: Q0
};
let Z0 = class {
    constructor(e) {
        this.pc = e.pc, this.re = e.re, this.opcode = e.opcode, this.result = e.result
    }
};
var Md = {
    Reply: Z0
};
let eC = class {
    constructor(e) {
        this.seq = e.seq, this.opcode = e.opcode, this.params = e.params
    }
};
var tC = {
    Request: eC
};
let iC = class {
        constructor(e) {
            this.key = e.key, this.size = e.size, this.version = e.version, this.from = e.from, this.meta = e.meta || {}, e.acl && (this.acl = e.acl)
        }
        whenRecived(e) {
            e.entities[this.key] = this
        }
        toString() {
            return `Stack{
	key:${this.key}
	size:${this.size}
	version:${this.version}
	from:${this.from}
	meta:${this.meta}
}`
        }
    },
    nC = class {
        constructor(e) {
            this.key = e.key, this.val = e.val
        }
        toString() {
            return `StackElement{
	key:${this.key}
	value: ${JSON.stringify(this.val)}
}`
        }
    },
    rC = class {
        constructor(e) {
            this.key = e.key, this.vals = e.vals
        }
        toString() {
            return `StackElements{
	key:${this.key}
	values: ${JSON.stringify(this.vals)}
}`
        }
    };
var Dd = {
    StackEntity: iC,
    StackElement: nC,
    StackElements: rC
};
let sC = class {
        constructor(e) {
            this.from = e.from, this.key = e.key, this.text = e.text, this.version = e.version, this.meta = e.meta || {}, e.acl && (this.acl = e.acl)
        }
        whenReceived(e) {
            e.entities[this.key] = this, e.emit("text " + this.key, this)
        }
        toString() {
            return `TextEntity{
	key: ${this.key}
	text: ${this.text}
	meta:${JSON.stringify(this.meta)}
}`
        }
        toBlob() {
            return JSON.parse(this.text)
        }
    },
    oC = class {
        constructor(e) {
            this.message = e.message
        }
        toString() {
            return `TextEcho{
	key: ${this.key}
	message: ${this.message}
}`
        }
    };
var Ec = {
    TextEntity: sC,
    TextEcho: oC
};
let aC = class {
        constructor(e) {
            this.from = e.from, this.key = e.key, this.meta = e.meta || {}, this.root = e.root, e.acl && (this.acl = e.acl)
        }
        whenReceived(e) {
            e.entities[this.key] = this
        }
        toString() {
            return `TextMap{
	key:${this.key}
	meta:${JSON.stringify(this.meta)}
}`
        }
    },
    lC = class {
        constructor(e) {
            this.from = e.from, this.key = e.key, this.msg = e.msg
        }
        toString() {
            const e = this.msg ? this.msg.join(", ") : this.msg;
            return `TextMapSynced{
	key:${this.key}
	from:${this.from}
	msg:${e}
}`
        }
    },
    cC = class {
        constructor(e) {
            this.from = e.from, this.key = e.key, this.text = e.text, this.attributions = e.attributions
        }
        toString() {
            return `TextMapState{
	key: ${this.key}
	from:${this.from}
	text:${this.text}
	attributions:${this.attributions}
}`
        }
    };
var Sc = {
    TextMapEntity: aC,
    TextMapSynced: lC,
    TextMapState: cC
};
let uC = class {
    constructor(e) {
        this.key = e.key, this.elements = e.elements, this.limit = e.limit, this.meta = e.meta || {}
    }
    whenReceived(e) {
        e.entities[this.key] = this
    }
    toString() {
        return `TextRing{
	elements: ${this.elements}
	meta:${JSON.stringify(this.meta)}
}`
    }
};
var kc = {
    TextRing: uC
};
let hC = class {
    constructor(e) {
        this.key = e.key, this.artifactId = e.artifactId, this.categoryId = e.categoryId, this.rootId = e.rootId, this.meta = e.meta || {}
    }
    whenReceived(e) {
        e.entities[this.key] = this
    }
    toString() {
        return `ArtifactEntity${JSON.stringify(this)}
`
    }
};
var Ld = {
    ArtifactEntity: hC
};
let dC = class {
    constructor(e) {
        this.key = e.key
    }
    whenReceived(e) {
        delete e.entities[this.key]
    }
    toString() {
        return `DropEntity{
	key:${this.key}
}`
    }
};
var Pd = {
    DropEntity: dC
};
let fC = class {
    constructor(e) {
        this.message = e.message
    }
    toString() {
        return `Echo{message: ${this.message}
}`
    }
};
var pC = {
    Echo: fC
};
let gC = class {
    constructor(e) {
        this.key = e.key, this.from = e.from
    }
    whenReceived(e) {
        e.entities[this.key] && (e.entities[this.key].meta.locked = !0)
    }
    toString() {
        return `LockEntity{
	key:${this.key}
}`
    }
};
var mC = {
    LockEntity: gC
};
let vC = class {
    constructor() {}
    toString() {
        return "OK"
    }
};
var $d = {
    OK: vC
};
const {
    ArtifactEntity: yC
} = Ld, {
    ClientWelcome: wC,
    ClientConnected: bC,
    ClientDisconnected: _C,
    ClientKicked: CC,
    ClientSend: xC
} = vc, {
    CountGroup: EC
} = yc, {
    DoodleEntity: SC,
    DoodleLine: kC,
    DoodleLineRemoved: TC
} = wc, {
    StackEntity: AC,
    StackElement: OC,
    StackElements: IC
} = Dd, {
    DropEntity: RC
} = Pd, {
    Echo: MC
} = pC, {
    LockEntity: DC
} = mC, {
    GCounter: LC
} = bc, {
    GetAudienceReply: PC,
    RoomExit: $C,
    RoomLock: NC
} = xa, {
    Notification: BC
} = Id, {
    OK: VC
} = $d, {
    NumberEntity: FC
} = _c, {
    ObjectEcho: jC,
    ObjectEntity: qC
} = Cc, {
    PNCounter: Mu
} = xc, {
    Reply: UC
} = Md, {
    TextEcho: zC,
    TextEntity: HC
} = Ec, {
    TextRing: GC
} = kc, {
    createError: Du,
    ObservedError: WC
} = mn, {
    TextMapEntity: KC,
    TextMapSynced: XC,
    TextMapState: YC
} = Sc;

function Nl(t, e, i) {
    switch (t) {
        case "ok":
            return new VC;
        case "echo":
            return new MC({
                message: e.message
            });
        case "lock":
            return new DC({
                key: e.key,
                from: e.from
            });
        case "error":
            return Du({
                code: e.code,
                message: e.msg
            });
        case "error/observed":
            return new WC({
                to: e.to,
                opcode: e.opcode,
                error: Du({
                    code: e.error.code,
                    message: e.error.msg
                })
            });
        case "string":
            return e;
        case "text":
            return new HC({
                from: e.from,
                key: e.key,
                text: e.val,
                version: e.version,
                meta: i,
                acl: e.acl
            });
        case "text/echo":
            return new zC({
                message: e.message
            });
        case "object":
            return new qC({
                from: e.from,
                key: e.key,
                val: e.val,
                meta: i,
                acl: e.acl
            });
        case "object/echo":
            return new jC({
                message: e.message
            });
        case "drop":
            return new RC({
                key: e.key
            });
        case "artifact":
            return new yC({
                key: e.key,
                artifactId: e.artifactId,
                categoryId: e.categoryId,
                rootId: e.rootId,
                meta: i
            });
        case "client/connected":
            return new bC({
                id: e.id,
                userId: e.userId,
                name: e.name,
                role: e.role,
                reconnect: e.reconnect
            });
        case "client/disconnected":
            return new _C({
                id: e.id,
                role: e.role
            });
        case "client/kicked":
            return new CC({
                id: e.id,
                banned: e.banned,
                reason: e.reason
            });
        case "client/send":
            return new xC({
                to: e.to,
                from: e.from,
                body: e.body,
                userId: e.userID
            });
        case "client/welcome": {
            let n = new wC({
                id: e.id,
                name: e.name,
                secret: e.secret,
                reconnect: e.reconnect,
                here: e.here,
                profile: e.profile,
                replayEnd: e.replayEnd
            });
            if (e.entities) {
                let s = {};
                Object.entries(e.entities).forEach(([o, p]) => {
                    s[o] = Nl(p[0], p[1], p[2])
                }), n.entities = s
            }
            return n
        }
        case "doodle":
            return new SC({
                key: e.key,
                colors: e.val.colors,
                lines: e.val.lines,
                live: e.val.live,
                maxLayer: e.val.maxLayer,
                maxPoints: e.val.maxPoints,
                size: e.val.size,
                weights: e.val.weights,
                meta: i,
                acl: e.acl
            });
        case "doodle/line":
            return new kC({
                key: e.key,
                line: e.val
            });
        case "doodle/line/removed":
            return new TC({
                key: e.key,
                index: e.index
            });
        case "stack":
            return new AC({
                key: e.key,
                size: e.size,
                from: e.from,
                version: e.version,
                meta: e.meta,
                acl: e.acl
            });
        case "stack/element":
            return new OC({
                key: e.key,
                val: e.val
            });
        case "stack/elements":
            return new IC({
                key: e.key,
                vals: e.vals
            });
        case "number":
            return new FC({
                key: e.key,
                val: e.val,
                restrictions: e.restrictions,
                from: e.from,
                version: e.version,
                meta: i,
                acl: e.acl
            });
        case "text-map":
            return new KC({
                key: e.key,
                from: e.from,
                root: e.root,
                meta: i,
                acl: e.acl
            });
        case "text-map/state":
            return new YC({
                key: e.key,
                from: e.from,
                attributions: e.attributions,
                text: e.text
            });
        case "text-map/synced":
            return new XC({
                key: e.key,
                from: e.from,
                msg: e.msg
            });
        case "room/exit":
            return new $C({
                cause: e.cause
            });
        case "room/lock":
            return new NC;
        case "room/get-audience":
            return new PC({
                connections: e.connections
            });
        case "audience":
            return new Mu({
                key: t,
                count: e[1]
            });
        case "audience/count-group":
            return new EC({
                key: e.key,
                choices: e.choices,
                meta: i
            });
        case "audience/text-ring":
            return new GC({
                key: e.key,
                elements: e.elements,
                meta: i
            });
        case "audience/g-counter":
            return new LC({
                key: e.key,
                count: e.count,
                meta: i
            });
        case "audience/pn-counter":
            return new Mu({
                key: e.key,
                count: e.count,
                meta: i
            });
        default:
            return console.error(`failed to parse result of type ${t}: ${JSON.stringify(e,null,2)}`), e
    }
}

function JC(t) {
    let e = JSON.parse(t.data),
        i = e.opcode || e.type;
    return e.re ? new UC({
        pc: e.pc,
        re: e.re,
        opcode: i,
        result: Nl(i, e.result)
    }) : new BC({
        pc: e.pc,
        opcode: i,
        result: Nl(i, e.result)
    })
}
var QC = {
    parseResponseMessage: JC
};
const Lu = T0,
    ZC = zh,
    ex = sa,
    {
        CallError: tx
    } = mn,
    {
        ClientWelcome: ix
    } = vc,
    {
        CountGroup: nx
    } = yc,
    {
        DoodleEntity: rx
    } = wc,
    {
        GCounter: sx
    } = bc,
    {
        Notification: Pu
    } = Id,
    {
        NumberEntity: ox
    } = _c,
    {
        ObjectEntity: pl
    } = Cc,
    {
        PNCounter: ax
    } = xc,
    {
        Reply: lx
    } = Md,
    {
        Request: cx
    } = tC,
    {
        StackEntity: ux
    } = Dd,
    {
        TextEntity: gl
    } = Ec,
    {
        TextMapEntity: hx
    } = Sc,
    {
        TextRing: dx
    } = kc,
    {
        parseResponseMessage: fx
    } = QC,
    px = 1e3 + Math.floor(Math.random() * 500),
    $u = 13e3;
let gx = class extends ex {
    constructor(e) {
        if (super(), this.debug = e.debug || !1, !e.host) throw new Error("unable to create ecast WSClient: no host provided");
        if (this.host = e.host, !e.code) throw new Error("unable to create ecast WSClient: no room code provided");
        if (this.code = e.code, e.scheme ? this.scheme = e.scheme : this.scheme = "wss", e.secret && e.id) this.id = e.id, this.secret = e.secret;
        else {
            switch (e.role) {
                case "player":
                    if (!e.name) throw new Error("unable to create ecast WSClient: no name provided");
                    break;
                case "host":
                    if (!e.token) throw new Error("unable to create ecast WSClient: tried to connect with host role but without host token");
                    this.token = e.token;
                    break;
                case "moderator":
                    if (!e.password) throw new Error("unable to create ecast WSClient: tried to connect with moderator role but without password");
                    break
            }
            e.password && (this.password = e.password), e.twitchToken && (this.twitchToken = e.twitchToken)
        }
        this.name = e.name, this.role = e.role, this.deviceId = e.deviceId, this.userId = e.userId, this.conn = null, this.seq = 0, this.pending = {}, this.entities = {}, e.role == "host" && (this.replaySince = e.replaySince || 0, this.syncEntities = e.syncEntities || !1)
    }
    connect() {
        const e = {
            id: this.id,
            role: this.role,
            name: this.name,
            format: "json",
            "user-id": this.userId,
            password: this.password
        };
        this.deviceId && (e["device-id"] = this.deviceId), this.twitchToken && (e["twitch-token"] = this.twitchToken), this.secret && (e.secret = this.secret), this.role === "host" && (e["host-token"] = this.token, this.replaySince > 0 && (e["replay-since"] = this.replaySince), this.syncEntities && (e["sync-entities"] = this.syncEntities));
        const i = ZC.stringify(e),
            n = this.role === "audience" || this.id > 1e7 ? `${this.scheme}://${this.host}/api/v2/audience/${this.code}/play?${i}` : `${this.scheme}://${this.host}/api/v2/rooms/${this.code}/play?${i}`;
        return new Promise((s, o) => {
            let p = !1,
                y = !1,
                w = A => {
                    s(A), p = !0
                },
                x = A => {
                    o(A), p = !0
                };
            this.conn = new Lu(n, "ecast-v0"), this.conn.onmessage = A => {
                this.debugLog(`recv <- ${JSON.stringify(JSON.parse(A.data),null,2)}`);
                const D = fx(A);
                if (D instanceof lx) this.onReply(D);
                else if (D instanceof Pu) {
                    if (D.result instanceof ix) y = !0, this.id = D.result.id, this.deviceId = D.result.deviceId, this.entities = D.result.entities, this.secret = D.result.secret, D.result.name && (this.name = D.result.name), w(D.result);
                    else if (!p) {
                        x(D.result);
                        return
                    }
                    this.onNotification(D)
                } else console.error(`failed to parse response messsage: ${D}`)
            }, this.conn.onerror = A => {
                p ? this.emit("socketError", A) : x(A)
            }, this.conn.onclose = A => {
                this.debugLog("onclose", A.code), y && A.code === 1006 ? this.reconnect() : this.emit("socketClose", A)
            }, this.conn.onopen = A => {
                this.emit("socketOpen", A)
            }
        })
    }
    sleep(e) {
        return new Promise(i => setTimeout(i, e))
    }
    debugLog(...e) {
        this.debug && console.log(`%c[WSClient:${this.name}]`, "background-color:blue;color:white;", ...e)
    }
    async reconnect() {
        this.disconnect(), this.debugLog("Attempting to reconnect");
        let e = 1,
            i = px;
        for (;;) try {
            this.emit("connection", {
                status: "connecting",
                attempt: e
            }), await this.connect(), this.debugLog("reconnected"), this.emit("connection", {
                status: "connected"
            });
            return
        } catch (n) {
            if (this.debugLog("reconnect error", n), n.code === 1005 || n.code === 1e3) {
                this.debugLog("unable to reconnect!", n), this.emit("socketClose", n);
                return
            }
            if (i >= $u) {
                this.debugLog("reconnect failed!", n), this.emit("socketClose", n);
                return
            }
            e += 1, this.debugLog("waiting", i), this.emit("connection", {
                status: "waiting",
                attempt: e
            }), await this.sleep(i), i = Math.min($u, i * 2)
        }
    }
    disconnect() {
        this.conn && (this.conn.close(), this.conn.onmessage = null, this.conn.onerror = null, this.conn.onopen = null, this.conn.onclose = null, this.conn = null)
    }
    onReply(e) {
        const i = e.re,
            n = this.pending[i];
        if (!n) {
            const s = new Pu(e);
            s.re = i, this.emit("notification", s);
            return
        }
        delete this.pending[i], e.result instanceof tx ? n.reject(e.result) : n.resolve(e.result)
    }
    onNotification(e) {
        typeof e.result.whenReceived == "function" && e.result.whenReceived(this), this.emit("notification", e), this.emit(e.opcode, e.result)
    }
    send(e, i = {}) {
        if (!this.conn) throw new Error("No connection available");
        if (this.conn.readyState !== Lu.OPEN) throw new Error(`Socket not ready to send, readyState is ${this.conn.readyState}`);
        const n = ++this.seq,
            s = new cx({
                seq: n,
                opcode: e,
                params: i
            }),
            o = new Promise((y, w) => {
                this.pending[n] = {
                    resolve: y,
                    reject: w,
                    request: s
                }
            }),
            p = JSON.stringify(s);
        return this.debugLog(`send -> ${p}`), this.conn.send(p), o
    }
    lockRoom() {
        return this.send("room/lock")
    }
    startAudience() {
        return this.send("room/start-audience")
    }
    getAudience() {
        return this.send("room/get-audience")
    }
    mail(e, i) {
        return this.send("client/send", {
            from: this.id,
            to: e,
            body: i
        })
    }
    kick(e, i = !1, n) {
        return this.send("client/kick", {
            id: e,
            ban: i,
            reason: n
        })
    }
    async drop(e) {
        const i = await this.send("drop", {
            key: e
        });
        return delete this.entities[e], i
    }
    echo(e) {
        return this.send("echo", {
            message: e
        })
    }
    async lock(e) {
        const i = await this.send("lock", {
            key: e
        });
        return this.entities[e].meta.locked = !0, i
    }
    async createNumber(e, i = {}) {
        let n = {
            key: e
        };
        const {
            val: s = 0,
            acl: o,
            min: p,
            max: y,
            increment: w,
            type: x
        } = i;
        n.val = s, o && (n.acl = o), p != null && (n.min = p), y != null && (n.max = y), w && (n.increment = w), x && (n.type = x);
        const A = await this.send("number/create", n);
        return this.entities[e] = new ox({
            key: e,
            val: s,
            restrictions: {
                min: p,
                max: y,
                increment: w,
                type: x
            },
            meta: {
                locked: !1
            }
        }), A
    }
    async getNumber(e) {
        const i = await this.send("number/get", {
            key: e
        });
        return this.entities[e].val = i.val, this.entities[e].restrictions = i.restrictions, i
    }
    async updateNumber(e, i) {
        const n = await this.send("number/update", {
            key: e,
            val: i
        });
        return this.entities[e].val = i, n
    }
    async createObject(e, i, n) {
        const s = {
            key: e,
            val: i
        };
        n && (s.acl = n);
        const o = await this.send("object/create", s);
        return this.entities[e] = new pl({
            key: e,
            val: i,
            meta: {
                locked: !1
            }
        }), o
    }
    echoObject(e) {
        return this.send("object/echo", {
            message: e
        })
    }
    async getObject(e) {
        const i = await this.send("object/get", {
            key: e
        });
        return this.entities[e].val = i.val, this.entities[e].version = i.version, this.entities[e].from = i.from, i
    }
    async setObject(e, i, n) {
        const s = {
            key: e,
            val: i
        };
        n && (s.acl = n);
        const o = await this.send("object/set", s);
        return this.entities[e] = new pl({
            key: e,
            val: i,
            meta: {
                locked: !1
            }
        }), o
    }
    async updateObject(e, i) {
        const n = await this.send("object/update", {
            key: e,
            val: i
        });
        return this.entities[e] = new pl({
            key: e,
            val: i,
            meta: {
                locked: !1
            }
        }), n
    }
    echoText(e) {
        return this.send("text/echo", {
            message: e
        })
    }
    getText(e) {
        return this.send("text/get", {
            key: e
        })
    }
    async createText(e, i, n) {
        const s = {
                key: e,
                val: i
            },
            {
                acl: o,
                accept: p,
                reject: y
            } = n;
        o && (s.acl = o), p && (s.accept = p), y && (s.reject = y);
        const w = await this.send("text/create", s);
        return this.entities[e] = new gl({
            key: e,
            text: i,
            meta: {
                locked: !1
            }
        }), w
    }
    async setText(e, i, n) {
        const s = {
            key: e,
            val: i
        };
        n && (s.acl = n);
        const o = await this.send("text/set", s);
        return this.entities[e] = new gl({
            key: e,
            text: i,
            meta: {
                locked: !1
            }
        }), o
    }
    async updateText(e, i) {
        const n = await this.send("text/update", {
            key: e,
            val: i
        });
        return this.entities[e] = new gl({
            key: e,
            text: i,
            meta: {
                locked: !1
            }
        }), n
    }
    async createTextMap(e, i = {}) {
        const {
            val: n,
            notifyHost: s,
            acl: o,
            accept: p,
            reject: y
        } = i;
        let w = {
            key: e
        };
        n && (w.val = i.val), s && (w.notifyHost = i.notifyHost), o && (w.acl = o), p && (w.accept = p), y && (w.reject = y);
        const x = await this.send("text-map/create", w);
        return this.entities[e] = new hx({
            key: e,
            acl: o,
            meta: {
                locked: !1
            }
        }), x
    }
    async syncTextMap(e, i) {
        return await this.send("text-map/sync", {
            key: e,
            msg: i
        })
    }
    async getTextMap(e, i) {
        const {
            includeNodes: n
        } = i;
        return await this.send("text-map/get", {
            key: e,
            includeNodes: n
        })
    }
    async createDoodle(e, i) {
        let n = {
            key: e
        };
        const {
            acl: s,
            colors: o,
            live: p,
            maxLayer: y,
            maxPoints: w,
            size: x,
            weights: A
        } = i;
        s && (n.acl = s), o && (n.colors = o), n.live = p, y != null && (n.maxLayer = y), w != null && (n.maxPoints = w), x && (n.size = x), A && (n.weights = A);
        const D = await this.send("doodle/create", n);
        return this.entities[e] = new rx({
            key: e,
            colors: o,
            lines: [],
            live: p,
            maxLayer: n.maxLayer || 0,
            maxPoints: n.maxPoints || 0,
            size: x,
            weights: A,
            meta: {
                locked: !1
            }
        }), D
    }
    async getDoodle(e) {
        const i = await this.send("doodle/get", {
            key: e
        });
        return this.entities[e].lines = i.lines, i
    }
    async strokeDoodle(e, i) {
        const {
            color: n,
            weight: s,
            layer: o,
            points: p,
            brush: y
        } = i, w = {
            color: n,
            weight: s,
            layer: o,
            points: p
        };
        y && (w.brush = y);
        const x = await this.send("doodle/stroke", {
            key: e,
            ...w
        });
        return this.entities[e].lines.push(w), x
    }
    async undoDoodle(e) {
        const i = await this.send("doodle/undo", {
            key: e
        });
        return this.entities[e].lines.pop(), i
    }
    async createStack(e, i) {
        const n = {
            key: e
        };
        i && (n.acl = i);
        const s = await this.send("stack/create", n);
        return this.entities[e] = new ux({
            key: e,
            size: 0,
            meta: {
                locked: !1
            }
        }), s
    }
    pushStack(e, i) {
        return this.send("stack/push", {
            key: e,
            val: i
        })
    }
    bulkPushStack(e, i) {
        return this.send("stack/bulkpush", {
            key: e,
            vals: i
        })
    }
    peekStack(e, i) {
        return this.send("stack/peek", {
            key: e,
            size: i
        })
    }
    popStack(e) {
        return this.send("stack/pop", {
            key: e
        })
    }
    async createCountGroup(e, i) {
        const n = await this.send("audience/count-group/create", {
            name: e,
            options: i
        });
        return this.entities[e] = new nx({
            key: e,
            choices: i,
            meta: {
                locked: !1
            }
        }), n
    }
    incrementCountGroupCounter(e, i, n = 1) {
        return this.send("audience/count-group/increment", {
            name: e,
            vote: i,
            times: n
        })
    }
    getCountGroup(e) {
        return this.send("audience/count-group/get", {
            name: e
        })
    }
    async createGCounter(e, i) {
        const n = await this.send("audience/g-counter/create", {
            key: e,
            count: i
        });
        return this.entities[e] = new sx({
            key: e,
            count: i,
            meta: {
                locked: !1
            }
        }), n
    }
    incrementGCounter(e, i) {
        return this.send("audience/g-counter/increment", {
            key: e,
            times: i
        })
    }
    getGCounter(e) {
        return this.send("audience/g-counter/get", {
            key: e
        })
    }
    async createPNCounter(e, i) {
        const n = await this.send("audience/pn-counter/create", {
            key: e,
            count: i
        });
        return this.entities[e] = new ax({
            key: e,
            count: i,
            meta: {
                locked: !1
            }
        }), n
    }
    incrementPNCounter(e, i) {
        return this.send("audience/pn-counter/increment", {
            key: e,
            times: i
        })
    }
    decrementPNCounter(e, i) {
        return this.send("audience/pn-counter/decrement", {
            key: e,
            times: i
        })
    }
    getPNCounter(e) {
        return this.send("audience/pn-counter/get", {
            key: e
        })
    }
    async createTextRing(e, i) {
        const n = {
                key: e
            },
            {
                limit: s,
                accept: o,
                reject: p
            } = i;
        s && (n.limit = s), o && (n.accept = o), p && (n.reject = p);
        const y = await this.send("audience/text-ring/create", n);
        return this.entities[e] = new dx({
            key: e,
            elements: [],
            limit: s,
            meta: {
                locked: !1
            }
        }), y
    }
    getTextRing(e) {
        return this.send("audience/text-ring/get", {
            name: e
        })
    }
    pushTextRing(e, i) {
        return this.send("audience/text-ring/push", {
            name: e,
            text: i
        })
    }
};
var mx = {
    WSClient: gx
};
const {
    APIClient: vx
} = k0, {
    WSClient: yx
} = mx, {
    CreateRoomReply: wx,
    GetRoomReply: bx
} = xa, {
    ClientWelcome: _x,
    ClientDisconnected: Cx
} = vc, {
    ArtifactEntity: xx
} = Ld, {
    GCounter: Ex
} = bc, {
    NumberEntity: Sx
} = _c, {
    TextEntity: kx
} = Ec, {
    DoodleEntity: Tx
} = wc, {
    ObjectEntity: Ax
} = Cc, {
    CountGroup: Ox
} = yc, {
    DropEntity: Ix
} = Pd, {
    OK: Rx
} = $d, {
    RoomExit: Mx
} = xa, {
    TextRing: Dx
} = kc, {
    TextMapEntity: Lx
} = Sc, {
    PNCounter: Px
} = xc;
var On = {
    APIClient: vx,
    WSClient: yx,
    ClientWelcome: _x,
    CreateRoomReply: wx,
    DropEntity: Ix,
    GetRoomReply: bx,
    ClientDisconnected: Cx,
    RoomExit: Mx,
    OK: Rx,
    ArtifactEntity: xx,
    DoodleEntity: Tx,
    NumberEntity: Sx,
    CountGroup: Ox,
    GCounter: Ex,
    ObjectEntity: Ax,
    PNCounter: Px,
    TextEntity: kx,
    TextRing: Dx,
    TextMapEntity: Lx
};

function Nu(...t) {
    console.log(...t)
}

function $x(t) {
    throw new Error('Could not dynamically require "' + t + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')
}
var Bl = {},
    Nx = {
        get exports() {
            return Bl
        },
        set exports(t) {
            Bl = t
        }
    };
(function(t, e) {
    (function(i, n) {
        n(e)
    })(wt, function(i) {
        var n = typeof window < "u" ? window : typeof wt < "u" ? wt : typeof self < "u" ? self : {},
            s = function(V, Z) {
                if (Z = Z.split(":")[0], V = +V, !V) return !1;
                switch (Z) {
                    case "http":
                    case "ws":
                        return V !== 80;
                    case "https":
                    case "wss":
                        return V !== 443;
                    case "ftp":
                        return V !== 21;
                    case "gopher":
                        return V !== 70;
                    case "file":
                        return !1
                }
                return V !== 0
            },
            o = Object.prototype.hasOwnProperty,
            p;

        function y(H) {
            try {
                return decodeURIComponent(H.replace(/\+/g, " "))
            } catch {
                return null
            }
        }

        function w(H) {
            try {
                return encodeURIComponent(H)
            } catch {
                return null
            }
        }

        function x(H) {
            for (var V = /([^=?#&]+)=?([^&]*)/g, Z = {}, P; P = V.exec(H);) {
                var Y = y(P[1]),
                    ge = y(P[2]);
                Y === null || ge === null || Y in Z || (Z[Y] = ge)
            }
            return Z
        }

        function A(H, V) {
            V = V || "";
            var Z = [],
                P, Y;
            typeof V != "string" && (V = "?");
            for (Y in H)
                if (o.call(H, Y)) {
                    if (P = H[Y], !P && (P === null || P === p || isNaN(P)) && (P = ""), Y = w(Y), P = w(P), Y === null || P === null) continue;
                    Z.push(Y + "=" + P)
                } return Z.length ? V + Z.join("&") : ""
        }
        var D = A,
            B = x,
            X = {
                stringify: D,
                parse: B
            },
            j = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//,
            ie = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,
            v = "[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",
            $ = new RegExp("^" + v + "+");

        function W(H) {
            return (H || "").toString().replace($, "")
        }
        var ne = [
                ["#", "hash"],
                ["?", "query"],
                function(V, Z) {
                    return d(Z.protocol) ? V.replace(/\\/g, "/") : V
                },
                ["/", "pathname"],
                ["@", "auth", 1],
                [NaN, "host", void 0, 1, 1],
                [/:(\d+)$/, "port", void 0, 1],
                [NaN, "hostname", void 0, 1, 1]
            ],
            oe = {
                hash: 1,
                query: 1
            };

        function ue(H) {
            var V;
            typeof window < "u" ? V = window : typeof n < "u" ? V = n : typeof self < "u" ? V = self : V = {};
            var Z = V.location || {};
            H = H || Z;
            var P = {},
                Y = typeof H,
                ge;
            if (H.protocol === "blob:") P = new Ae(unescape(H.pathname), {});
            else if (Y === "string") {
                P = new Ae(H, {});
                for (ge in oe) delete P[ge]
            } else if (Y === "object") {
                for (ge in H) ge in oe || (P[ge] = H[ge]);
                P.slashes === void 0 && (P.slashes = j.test(H.href))
            }
            return P
        }

        function d(H) {
            return H === "file:" || H === "ftp:" || H === "http:" || H === "https:" || H === "ws:" || H === "wss:"
        }

        function ye(H, V) {
            H = W(H), V = V || {};
            var Z = ie.exec(H),
                P = Z[1] ? Z[1].toLowerCase() : "",
                Y = !!Z[2],
                ge = !!Z[3],
                be = 0,
                Ne;
            return Y ? ge ? (Ne = Z[2] + Z[3] + Z[4], be = Z[2].length + Z[3].length) : (Ne = Z[2] + Z[4], be = Z[2].length) : ge ? (Ne = Z[3] + Z[4], be = Z[3].length) : Ne = Z[4], P === "file:" ? be >= 2 && (Ne = Ne.slice(2)) : d(P) ? Ne = Z[4] : P ? Y && (Ne = Ne.slice(2)) : be >= 2 && d(V.protocol) && (Ne = Z[4]), {
                protocol: P,
                slashes: Y || d(P),
                slashesCount: be,
                rest: Ne
            }
        }

        function Se(H, V) {
            if (H === "") return V;
            for (var Z = (V || "/").split("/").slice(0, -1).concat(H.split("/")), P = Z.length, Y = Z[P - 1], ge = !1, be = 0; P--;) Z[P] === "." ? Z.splice(P, 1) : Z[P] === ".." ? (Z.splice(P, 1), be++) : be && (P === 0 && (ge = !0), Z.splice(P, 1), be--);
            return ge && Z.unshift(""), (Y === "." || Y === "..") && Z.push(""), Z.join("/")
        }

        function Ae(H, V, Z) {
            if (H = W(H), !(this instanceof Ae)) return new Ae(H, V, Z);
            var P, Y, ge, be, Ne, Be, ht = ne.slice(),
                Zt = typeof V,
                Ze = this,
                qi = 0;
            for (Zt !== "object" && Zt !== "string" && (Z = V, V = null), Z && typeof Z != "function" && (Z = X.parse), V = ue(V), Y = ye(H || "", V), P = !Y.protocol && !Y.slashes, Ze.slashes = Y.slashes || P && V.slashes, Ze.protocol = Y.protocol || V.protocol || "", H = Y.rest, (Ze.protocol === "file:" || !Y.slashes && (Y.protocol || Y.slashesCount < 2 || !d(Ze.protocol))) && (ht[3] = [/(.*)/, "pathname"]); qi < ht.length; qi++) {
                if (be = ht[qi], typeof be == "function") {
                    H = be(H, Ze);
                    continue
                }
                ge = be[0], Be = be[1], ge !== ge ? Ze[Be] = H : typeof ge == "string" ? ~(Ne = H.indexOf(ge)) && (typeof be[2] == "number" ? (Ze[Be] = H.slice(0, Ne), H = H.slice(Ne + be[2])) : (Ze[Be] = H.slice(Ne), H = H.slice(0, Ne))) : (Ne = ge.exec(H)) && (Ze[Be] = Ne[1], H = H.slice(0, Ne.index)), Ze[Be] = Ze[Be] || P && be[3] && V[Be] || "", be[4] && (Ze[Be] = Ze[Be].toLowerCase())
            }
            Z && (Ze.query = Z(Ze.query)), P && V.slashes && Ze.pathname.charAt(0) !== "/" && (Ze.pathname !== "" || V.pathname !== "") && (Ze.pathname = Se(Ze.pathname, V.pathname)), Ze.pathname.charAt(0) !== "/" && d(Ze.protocol) && (Ze.pathname = "/" + Ze.pathname), s(Ze.port, Ze.protocol) || (Ze.host = Ze.hostname, Ze.port = ""), Ze.username = Ze.password = "", Ze.auth && (be = Ze.auth.split(":"), Ze.username = be[0] || "", Ze.password = be[1] || ""), Ze.origin = Ze.protocol !== "file:" && d(Ze.protocol) && Ze.host ? Ze.protocol + "//" + Ze.host : "null", Ze.href = Ze.toString()
        }

        function at(H, V, Z) {
            var P = this;
            switch (H) {
                case "query":
                    typeof V == "string" && V.length && (V = (Z || X.parse)(V)), P[H] = V;
                    break;
                case "port":
                    P[H] = V, s(V, P.protocol) ? V && (P.host = P.hostname + ":" + V) : (P.host = P.hostname, P[H] = "");
                    break;
                case "hostname":
                    P[H] = V, P.port && (V += ":" + P.port), P.host = V;
                    break;
                case "host":
                    P[H] = V, /:\d+$/.test(V) ? (V = V.split(":"), P.port = V.pop(), P.hostname = V.join(":")) : (P.hostname = V, P.port = "");
                    break;
                case "protocol":
                    P.protocol = V.toLowerCase(), P.slashes = !Z;
                    break;
                case "pathname":
                case "hash":
                    if (V) {
                        var Y = H === "pathname" ? "/" : "#";
                        P[H] = V.charAt(0) !== Y ? Y + V : V
                    } else P[H] = V;
                    break;
                default:
                    P[H] = V
            }
            for (var ge = 0; ge < ne.length; ge++) {
                var be = ne[ge];
                be[4] && (P[be[1]] = P[be[1]].toLowerCase())
            }
            return P.origin = P.protocol !== "file:" && d(P.protocol) && P.host ? P.protocol + "//" + P.host : "null", P.href = P.toString(), P
        }

        function Ve(H) {
            (!H || typeof H != "function") && (H = X.stringify);
            var V, Z = this,
                P = Z.protocol;
            P && P.charAt(P.length - 1) !== ":" && (P += ":");
            var Y = P + (Z.slashes || d(Z.protocol) ? "//" : "");
            return Z.username && (Y += Z.username, Z.password && (Y += ":" + Z.password), Y += "@"), Y += Z.host + Z.pathname, V = typeof Z.query == "object" ? H(Z.query) : Z.query, V && (Y += V.charAt(0) !== "?" ? "?" + V : V), Z.hash && (Y += Z.hash), Y
        }
        Ae.prototype = {
            set: at,
            toString: Ve
        }, Ae.extractProtocol = ye, Ae.location = ue, Ae.trimLeft = W, Ae.qs = X;
        var Ke = Ae;

        function qe(H, V) {
            setTimeout(function(Z) {
                return H.call(Z)
            }, 4, V)
        }

        function K(H, V) {
            typeof process < "u" && console[H].call(null, V)
        }

        function le(H, V) {
            H === void 0 && (H = []);
            var Z = [];
            return H.forEach(function(P) {
                V(P) || Z.push(P)
            }), Z
        }

        function De(H, V) {
            H === void 0 && (H = []);
            var Z = [];
            return H.forEach(function(P) {
                V(P) && Z.push(P)
            }), Z
        }
        var Ie = function() {
            this.listeners = {}
        };
        Ie.prototype.addEventListener = function(V, Z) {
            typeof Z == "function" && (Array.isArray(this.listeners[V]) || (this.listeners[V] = []), De(this.listeners[V], function(P) {
                return P === Z
            }).length === 0 && this.listeners[V].push(Z))
        }, Ie.prototype.removeEventListener = function(V, Z) {
            var P = this.listeners[V];
            this.listeners[V] = le(P, function(Y) {
                return Y === Z
            })
        }, Ie.prototype.dispatchEvent = function(V) {
            for (var Z = this, P = [], Y = arguments.length - 1; Y-- > 0;) P[Y] = arguments[Y + 1];
            var ge = V.type,
                be = this.listeners[ge];
            return Array.isArray(be) ? (be.forEach(function(Ne) {
                P.length > 0 ? Ne.apply(Z, P) : Ne.call(Z, V)
            }), !0) : !1
        };

        function we(H) {
            var V = H.indexOf("?");
            return V >= 0 ? H.slice(0, V) : H
        }
        var he = function() {
            this.urlMap = {}
        };
        he.prototype.attachWebSocket = function(V, Z) {
            var P = we(Z),
                Y = this.urlMap[P];
            if (Y && Y.server && Y.websockets.indexOf(V) === -1) return Y.websockets.push(V), Y.server
        }, he.prototype.addMembershipToRoom = function(V, Z) {
            var P = this.urlMap[we(V.url)];
            P && P.server && P.websockets.indexOf(V) !== -1 && (P.roomMemberships[Z] || (P.roomMemberships[Z] = []), P.roomMemberships[Z].push(V))
        }, he.prototype.attachServer = function(V, Z) {
            var P = we(Z),
                Y = this.urlMap[P];
            if (!Y) return this.urlMap[P] = {
                server: V,
                websockets: [],
                roomMemberships: {}
            }, V
        }, he.prototype.serverLookup = function(V) {
            var Z = we(V),
                P = this.urlMap[Z];
            if (P) return P.server
        }, he.prototype.websocketsLookup = function(V, Z, P) {
            var Y = we(V),
                ge, be = this.urlMap[Y];
            if (ge = be ? be.websockets : [], Z) {
                var Ne = be.roomMemberships[Z];
                ge = Ne || []
            }
            return P ? ge.filter(function(Be) {
                return Be !== P
            }) : ge
        }, he.prototype.removeServer = function(V) {
            delete this.urlMap[we(V)]
        }, he.prototype.removeWebSocket = function(V, Z) {
            var P = we(Z),
                Y = this.urlMap[P];
            Y && (Y.websockets = le(Y.websockets, function(ge) {
                return ge === V
            }))
        }, he.prototype.removeMembershipFromRoom = function(V, Z) {
            var P = this.urlMap[we(V.url)],
                Y = P.roomMemberships[Z];
            P && Y !== null && (P.roomMemberships[Z] = le(Y, function(ge) {
                return ge === V
            }))
        };
        var ke = new he,
            Te = {
                CLOSE_NORMAL: 1e3,
                CLOSE_GOING_AWAY: 1001,
                CLOSE_PROTOCOL_ERROR: 1002,
                CLOSE_UNSUPPORTED: 1003,
                CLOSE_NO_STATUS: 1005,
                CLOSE_ABNORMAL: 1006,
                UNSUPPORTED_DATA: 1007,
                POLICY_VIOLATION: 1008,
                CLOSE_TOO_LARGE: 1009,
                MISSING_EXTENSION: 1010,
                INTERNAL_ERROR: 1011,
                SERVICE_RESTART: 1012,
                TRY_AGAIN_LATER: 1013,
                TLS_HANDSHAKE: 1015
            },
            Fe = {
                CONSTRUCTOR_ERROR: "Failed to construct 'WebSocket':",
                CLOSE_ERROR: "Failed to execute 'close' on 'WebSocket':",
                EVENT: {
                    CONSTRUCT: "Failed to construct 'Event':",
                    MESSAGE: "Failed to construct 'MessageEvent':",
                    CLOSE: "Failed to construct 'CloseEvent':"
                }
            },
            rt = function() {};
        rt.prototype.stopPropagation = function() {}, rt.prototype.stopImmediatePropagation = function() {}, rt.prototype.initEvent = function(V, Z, P) {
            V === void 0 && (V = "undefined"), Z === void 0 && (Z = !1), P === void 0 && (P = !1), this.type = "" + V, this.bubbles = !!Z, this.cancelable = !!P
        };
        var Tt = function(H) {
                function V(Z, P) {
                    if (P === void 0 && (P = {}), H.call(this), !Z) throw new TypeError(Fe.EVENT_ERROR + " 1 argument required, but only 0 present.");
                    if (typeof P != "object") throw new TypeError(Fe.EVENT_ERROR + " parameter 2 ('eventInitDict') is not an object.");
                    var Y = P.bubbles,
                        ge = P.cancelable;
                    this.type = "" + Z, this.timeStamp = Date.now(), this.target = null, this.srcElement = null, this.returnValue = !0, this.isTrusted = !1, this.eventPhase = 0, this.defaultPrevented = !1, this.currentTarget = null, this.cancelable = ge ? !!ge : !1, this.cancelBubble = !1, this.bubbles = Y ? !!Y : !1
                }
                return H && (V.__proto__ = H), V.prototype = Object.create(H && H.prototype), V.prototype.constructor = V, V
            }(rt),
            si = function(H) {
                function V(Z, P) {
                    if (P === void 0 && (P = {}), H.call(this), !Z) throw new TypeError(Fe.EVENT.MESSAGE + " 1 argument required, but only 0 present.");
                    if (typeof P != "object") throw new TypeError(Fe.EVENT.MESSAGE + " parameter 2 ('eventInitDict') is not an object");
                    var Y = P.bubbles,
                        ge = P.cancelable,
                        be = P.data,
                        Ne = P.origin,
                        Be = P.lastEventId,
                        ht = P.ports;
                    this.type = "" + Z, this.timeStamp = Date.now(), this.target = null, this.srcElement = null, this.returnValue = !0, this.isTrusted = !1, this.eventPhase = 0, this.defaultPrevented = !1, this.currentTarget = null, this.cancelable = ge ? !!ge : !1, this.canncelBubble = !1, this.bubbles = Y ? !!Y : !1, this.origin = "" + Ne, this.ports = typeof ht > "u" ? null : ht, this.data = typeof be > "u" ? null : be, this.lastEventId = "" + (Be || "")
                }
                return H && (V.__proto__ = H), V.prototype = Object.create(H && H.prototype), V.prototype.constructor = V, V
            }(rt),
            jt = function(H) {
                function V(Z, P) {
                    if (P === void 0 && (P = {}), H.call(this), !Z) throw new TypeError(Fe.EVENT.CLOSE + " 1 argument required, but only 0 present.");
                    if (typeof P != "object") throw new TypeError(Fe.EVENT.CLOSE + " parameter 2 ('eventInitDict') is not an object");
                    var Y = P.bubbles,
                        ge = P.cancelable,
                        be = P.code,
                        Ne = P.reason,
                        Be = P.wasClean;
                    this.type = "" + Z, this.timeStamp = Date.now(), this.target = null, this.srcElement = null, this.returnValue = !0, this.isTrusted = !1, this.eventPhase = 0, this.defaultPrevented = !1, this.currentTarget = null, this.cancelable = ge ? !!ge : !1, this.cancelBubble = !1, this.bubbles = Y ? !!Y : !1, this.code = typeof be == "number" ? parseInt(be, 10) : 0, this.reason = "" + (Ne || ""), this.wasClean = Be ? !!Be : !1
                }
                return H && (V.__proto__ = H), V.prototype = Object.create(H && H.prototype), V.prototype.constructor = V, V
            }(rt);

        function k(H) {
            var V = H.type,
                Z = H.target,
                P = new Tt(V);
            return Z && (P.target = Z, P.srcElement = Z, P.currentTarget = Z), P
        }

        function c(H) {
            var V = H.type,
                Z = H.origin,
                P = H.data,
                Y = H.target,
                ge = new si(V, {
                    data: P,
                    origin: Z
                });
            return Y && (ge.target = Y, ge.srcElement = Y, ge.currentTarget = Y), ge
        }

        function m(H) {
            var V = H.code,
                Z = H.reason,
                P = H.type,
                Y = H.target,
                ge = H.wasClean;
            ge || (ge = V === Te.CLOSE_NORMAL || V === Te.CLOSE_NO_STATUS);
            var be = new jt(P, {
                code: V,
                reason: Z,
                wasClean: ge
            });
            return Y && (be.target = Y, be.srcElement = Y, be.currentTarget = Y), be
        }

        function T(H, V, Z) {
            H.readyState = Le.CLOSING;
            var P = ke.serverLookup(H.url),
                Y = m({
                    type: "close",
                    target: H.target,
                    code: V,
                    reason: Z
                }),
                ge = m({
                    type: "server::close",
                    target: H,
                    code: V,
                    reason: Z
                });
            qe(function() {
                ke.removeWebSocket(H, H.url), H.readyState = Le.CLOSED, H.dispatchEvent(Y), H.dispatchEvent(ge), P && P.dispatchEvent(Y, P)
            }, H)
        }

        function R(H, V, Z) {
            H.readyState = Le.CLOSING;
            var P = ke.serverLookup(H.url),
                Y = m({
                    type: "close",
                    target: H.target,
                    code: V,
                    reason: Z,
                    wasClean: !1
                }),
                ge = m({
                    type: "server::close",
                    target: H,
                    code: V,
                    reason: Z,
                    wasClean: !1
                }),
                be = k({
                    type: "error",
                    target: H.target
                });
            qe(function() {
                ke.removeWebSocket(H, H.url), H.readyState = Le.CLOSED, H.dispatchEvent(be), H.dispatchEvent(Y), H.dispatchEvent(ge), P && P.dispatchEvent(Y, P)
            }, H)
        }

        function N(H) {
            return Object.prototype.toString.call(H) !== "[object Blob]" && !(H instanceof ArrayBuffer) && (H = String(H)), H
        }
        var F = new WeakMap;

        function re(H) {
            if (F.has(H)) return F.get(H);
            var V = new Proxy(H, {
                get: function(P, Y) {
                    return Y === "close" ? function(be) {
                        be === void 0 && (be = {});
                        var Ne = be.code || Te.CLOSE_NORMAL,
                            Be = be.reason || "";
                        T(V, Ne, Be)
                    } : Y === "send" ? function(be) {
                        be = N(be), H.dispatchEvent(c({
                            type: "message",
                            data: be,
                            origin: this.url,
                            target: H
                        }))
                    } : Y === "on" ? function(be, Ne) {
                        H.addEventListener("server::" + be, Ne)
                    } : Y === "target" ? H : P[Y]
                }
            });
            return F.set(H, V), V
        }

        function Ee(H) {
            var V = encodeURIComponent(H).match(/%[89ABab]/g);
            return H.length + (V ? V.length : 0)
        }

        function se(H) {
            var V = new Ke(H),
                Z = V.pathname,
                P = V.protocol,
                Y = V.hash;
            if (!H) throw new TypeError(Fe.CONSTRUCTOR_ERROR + " 1 argument required, but only 0 present.");
            if (Z || (V.pathname = "/"), P === "") throw new SyntaxError(Fe.CONSTRUCTOR_ERROR + " The URL '" + V.toString() + "' is invalid.");
            if (P !== "ws:" && P !== "wss:") throw new SyntaxError(Fe.CONSTRUCTOR_ERROR + " The URL's scheme must be either 'ws' or 'wss'. '" + P + "' is not allowed.");
            if (Y !== "") throw new SyntaxError(Fe.CONSTRUCTOR_ERROR + " The URL contains a fragment identifier ('" + Y + "'). Fragment identifiers are not allowed in WebSocket URLs.");
            return V.toString()
        }

        function Oe(H) {
            if (H === void 0 && (H = []), !Array.isArray(H) && typeof H != "string") throw new SyntaxError(Fe.CONSTRUCTOR_ERROR + " The subprotocol '" + H.toString() + "' is invalid.");
            typeof H == "string" && (H = [H]);
            var V = H.map(function(P) {
                    return {
                        count: 1,
                        protocol: P
                    }
                }).reduce(function(P, Y) {
                    return P[Y.protocol] = (P[Y.protocol] || 0) + Y.count, P
                }, {}),
                Z = Object.keys(V).filter(function(P) {
                    return V[P] > 1
                });
            if (Z.length > 0) throw new SyntaxError(Fe.CONSTRUCTOR_ERROR + " The subprotocol '" + Z[0] + "' is duplicated.");
            return H
        }
        var Le = function(H) {
            function V(P, Y) {
                H.call(this), this._onopen = null, this._onmessage = null, this._onerror = null, this._onclose = null, this.url = se(P), Y = Oe(Y), this.protocol = Y[0] || "", this.binaryType = "blob", this.readyState = V.CONNECTING;
                var ge = re(this),
                    be = ke.attachWebSocket(ge, this.url);
                qe(function() {
                    if (be)
                        if (be.options.verifyClient && typeof be.options.verifyClient == "function" && !be.options.verifyClient()) this.readyState = V.CLOSED, K("error", "WebSocket connection to '" + this.url + "' failed: HTTP Authentication failed; no valid credentials available"), ke.removeWebSocket(ge, this.url), this.dispatchEvent(k({
                            type: "error",
                            target: this
                        })), this.dispatchEvent(m({
                            type: "close",
                            target: this,
                            code: Te.CLOSE_NORMAL
                        }));
                        else {
                            if (be.options.selectProtocol && typeof be.options.selectProtocol == "function") {
                                var Be = be.options.selectProtocol(Y),
                                    ht = Be !== "",
                                    Zt = Y.indexOf(Be) !== -1;
                                if (ht && !Zt) {
                                    this.readyState = V.CLOSED, K("error", "WebSocket connection to '" + this.url + "' failed: Invalid Sub-Protocol"), ke.removeWebSocket(ge, this.url), this.dispatchEvent(k({
                                        type: "error",
                                        target: this
                                    })), this.dispatchEvent(m({
                                        type: "close",
                                        target: this,
                                        code: Te.CLOSE_NORMAL
                                    }));
                                    return
                                }
                                this.protocol = Be
                            }
                            this.readyState = V.OPEN, this.dispatchEvent(k({
                                type: "open",
                                target: this
                            })), be.dispatchEvent(k({
                                type: "connection"
                            }), ge)
                        }
                    else this.readyState = V.CLOSED, this.dispatchEvent(k({
                        type: "error",
                        target: this
                    })), this.dispatchEvent(m({
                        type: "close",
                        target: this,
                        code: Te.CLOSE_NORMAL
                    })), K("error", "WebSocket connection to '" + this.url + "' failed")
                }, this)
            }
            H && (V.__proto__ = H), V.prototype = Object.create(H && H.prototype), V.prototype.constructor = V;
            var Z = {
                onopen: {},
                onmessage: {},
                onclose: {},
                onerror: {}
            };
            return Z.onopen.get = function() {
                return this._onopen
            }, Z.onmessage.get = function() {
                return this._onmessage
            }, Z.onclose.get = function() {
                return this._onclose
            }, Z.onerror.get = function() {
                return this._onerror
            }, Z.onopen.set = function(P) {
                this.removeEventListener("open", this._onopen), this._onopen = P, this.addEventListener("open", P)
            }, Z.onmessage.set = function(P) {
                this.removeEventListener("message", this._onmessage), this._onmessage = P, this.addEventListener("message", P)
            }, Z.onclose.set = function(P) {
                this.removeEventListener("close", this._onclose), this._onclose = P, this.addEventListener("close", P)
            }, Z.onerror.set = function(P) {
                this.removeEventListener("error", this._onerror), this._onerror = P, this.addEventListener("error", P)
            }, V.prototype.send = function(Y) {
                var ge = this;
                if (this.readyState === V.CLOSING || this.readyState === V.CLOSED) throw new Error("WebSocket is already in CLOSING or CLOSED state");
                var be = c({
                        type: "server::message",
                        origin: this.url,
                        data: N(Y)
                    }),
                    Ne = ke.serverLookup(this.url);
                Ne && qe(function() {
                    ge.dispatchEvent(be, Y)
                }, Ne)
            }, V.prototype.close = function(Y, ge) {
                if (Y !== void 0 && (typeof Y != "number" || Y !== 1e3 && (Y < 3e3 || Y > 4999))) throw new TypeError(Fe.CLOSE_ERROR + " The code must be either 1000, or between 3000 and 4999. " + Y + " is neither.");
                if (ge !== void 0) {
                    var be = Ee(ge);
                    if (be > 123) throw new SyntaxError(Fe.CLOSE_ERROR + " The message must not be greater than 123 bytes.")
                }
                if (!(this.readyState === V.CLOSING || this.readyState === V.CLOSED)) {
                    var Ne = re(this);
                    this.readyState === V.CONNECTING ? R(Ne, Y || Te.CLOSE_ABNORMAL, ge) : T(Ne, Y || Te.CLOSE_NO_STATUS, ge)
                }
            }, Object.defineProperties(V.prototype, Z), V
        }(Ie);
        Le.CONNECTING = 0, Le.prototype.CONNECTING = Le.CONNECTING, Le.OPEN = 1, Le.prototype.OPEN = Le.OPEN, Le.CLOSING = 2, Le.prototype.CLOSING = Le.CLOSING, Le.CLOSED = 3, Le.prototype.CLOSED = Le.CLOSED;
        var gt = function(H) {
            return H.reduce(function(V, Z) {
                return V.indexOf(Z) > -1 ? V : V.concat(Z)
            }, [])
        };

        function ft() {
            return typeof window < "u" ? window : typeof process == "object" && typeof $x == "function" && typeof wt == "object" ? wt : this
        }
        var Et = {
                mock: !0,
                verifyClient: null,
                selectProtocol: null
            },
            _t = function(H) {
                function V(Z, P) {
                    P === void 0 && (P = Et), H.call(this);
                    var Y = new Ke(Z);
                    Y.pathname || (Y.pathname = "/"), this.url = Y.toString(), this.originalWebSocket = null;
                    var ge = ke.attachServer(this, this.url);
                    if (!ge) throw this.dispatchEvent(k({
                        type: "error"
                    })), new Error("A mock server is already listening on this url");
                    this.options = Object.assign({}, Et, P), this.options.mock && this.mockWebsocket()
                }
                return H && (V.__proto__ = H), V.prototype = Object.create(H && H.prototype), V.prototype.constructor = V, V.prototype.mockWebsocket = function() {
                    var P = ft();
                    this.originalWebSocket = P.WebSocket, P.WebSocket = Le
                }, V.prototype.restoreWebsocket = function() {
                    var P = ft();
                    this.originalWebSocket !== null && (P.WebSocket = this.originalWebSocket), this.originalWebSocket = null
                }, V.prototype.stop = function(P) {
                    P === void 0 && (P = function() {}), this.options.mock && this.restoreWebsocket(), ke.removeServer(this.url), typeof P == "function" && P()
                }, V.prototype.on = function(P, Y) {
                    this.addEventListener(P, Y)
                }, V.prototype.close = function(P) {
                    P === void 0 && (P = {});
                    var Y = P.code,
                        ge = P.reason,
                        be = P.wasClean,
                        Ne = ke.websocketsLookup(this.url);
                    ke.removeServer(this.url), Ne.forEach(function(Be) {
                        Be.readyState = Le.CLOSED, Be.dispatchEvent(m({
                            type: "close",
                            target: Be.target,
                            code: Y || Te.CLOSE_NORMAL,
                            reason: ge || "",
                            wasClean: be
                        }))
                    }), this.dispatchEvent(m({
                        type: "close"
                    }), this)
                }, V.prototype.emit = function(P, Y, ge) {
                    var be = this;
                    ge === void 0 && (ge = {});
                    var Ne = ge.websockets;
                    Ne || (Ne = ke.websocketsLookup(this.url)), typeof ge != "object" || arguments.length > 3 ? (Y = Array.prototype.slice.call(arguments, 1, arguments.length), Y = Y.map(function(Be) {
                        return N(Be)
                    })) : Y = N(Y), Ne.forEach(function(Be) {
                        Array.isArray(Y) ? Be.dispatchEvent.apply(Be, [c({
                            type: P,
                            data: Y,
                            origin: be.url,
                            target: Be.target
                        })].concat(Y)) : Be.dispatchEvent(c({
                            type: P,
                            data: Y,
                            origin: be.url,
                            target: Be.target
                        }))
                    })
                }, V.prototype.clients = function() {
                    return ke.websocketsLookup(this.url)
                }, V.prototype.to = function(P, Y, ge) {
                    var be = this;
                    ge === void 0 && (ge = []);
                    var Ne = this,
                        Be = gt(ge.concat(ke.websocketsLookup(this.url, P, Y)));
                    return {
                        to: function(ht, Zt) {
                            return be.to.call(be, ht, Zt, Be)
                        },
                        emit: function(Zt, Ze) {
                            Ne.emit(Zt, Ze, {
                                websockets: Be
                            })
                        }
                    }
                }, V.prototype.in = function() {
                    for (var P = [], Y = arguments.length; Y--;) P[Y] = arguments[Y];
                    return this.to.apply(null, P)
                }, V.prototype.simulate = function(P) {
                    var Y = ke.websocketsLookup(this.url);
                    P === "error" && Y.forEach(function(ge) {
                        ge.readyState = Le.CLOSED, ge.dispatchEvent(k({
                            type: "error"
                        }))
                    })
                }, V
            }(Ie);
        _t.of = function(V) {
            return new _t(V)
        };
        var vt = function(H) {
            function V(P, Y) {
                var ge = this;
                P === void 0 && (P = "socket.io"), Y === void 0 && (Y = ""), H.call(this), this.binaryType = "blob";
                var be = new Ke(P);
                be.pathname || (be.pathname = "/"), this.url = be.toString(), this.readyState = V.CONNECTING, this.protocol = "", this.target = this, typeof Y == "string" || typeof Y == "object" && Y !== null ? this.protocol = Y : Array.isArray(Y) && Y.length > 0 && (this.protocol = Y[0]);
                var Ne = ke.attachWebSocket(this, this.url);
                qe(function() {
                    Ne ? (this.readyState = V.OPEN, Ne.dispatchEvent(k({
                        type: "connection"
                    }), Ne, this), Ne.dispatchEvent(k({
                        type: "connect"
                    }), Ne, this), this.dispatchEvent(k({
                        type: "connect",
                        target: this
                    }))) : (this.readyState = V.CLOSED, this.dispatchEvent(k({
                        type: "error",
                        target: this
                    })), this.dispatchEvent(m({
                        type: "close",
                        target: this,
                        code: Te.CLOSE_NORMAL
                    })), K("error", "Socket.io connection to '" + this.url + "' failed"))
                }, this), this.addEventListener("close", function(Be) {
                    ge.dispatchEvent(m({
                        type: "disconnect",
                        target: Be.target,
                        code: Be.code
                    }))
                })
            }
            H && (V.__proto__ = H), V.prototype = Object.create(H && H.prototype), V.prototype.constructor = V;
            var Z = {
                broadcast: {}
            };
            return V.prototype.close = function() {
                if (this.readyState === V.OPEN) {
                    var Y = ke.serverLookup(this.url);
                    return ke.removeWebSocket(this, this.url), this.readyState = V.CLOSED, this.dispatchEvent(m({
                        type: "close",
                        target: this,
                        code: Te.CLOSE_NORMAL
                    })), Y && Y.dispatchEvent(m({
                        type: "disconnect",
                        target: this,
                        code: Te.CLOSE_NORMAL
                    }), Y), this
                }
            }, V.prototype.disconnect = function() {
                return this.close()
            }, V.prototype.emit = function(Y) {
                for (var ge = [], be = arguments.length - 1; be-- > 0;) ge[be] = arguments[be + 1];
                if (this.readyState !== V.OPEN) throw new Error("SocketIO is already in CLOSING or CLOSED state");
                var Ne = c({
                        type: Y,
                        origin: this.url,
                        data: ge
                    }),
                    Be = ke.serverLookup(this.url);
                return Be && Be.dispatchEvent.apply(Be, [Ne].concat(ge)), this
            }, V.prototype.send = function(Y) {
                return this.emit("message", Y), this
            }, Z.broadcast.get = function() {
                if (this.readyState !== V.OPEN) throw new Error("SocketIO is already in CLOSING or CLOSED state");
                var P = this,
                    Y = ke.serverLookup(this.url);
                if (!Y) throw new Error("SocketIO can not find a server at the specified URL (" + this.url + ")");
                return {
                    emit: function(be, Ne) {
                        return Y.emit(be, Ne, {
                            websockets: ke.websocketsLookup(P.url, null, P)
                        }), P
                    },
                    to: function(be) {
                        return Y.to(be, P)
                    },
                    in: function(be) {
                        return Y.in(be, P)
                    }
                }
            }, V.prototype.on = function(Y, ge) {
                return this.addEventListener(Y, ge), this
            }, V.prototype.off = function(Y, ge) {
                this.removeEventListener(Y, ge)
            }, V.prototype.hasListeners = function(Y) {
                var ge = this.listeners[Y];
                return Array.isArray(ge) ? !!ge.length : !1
            }, V.prototype.join = function(Y) {
                ke.addMembershipToRoom(this, Y)
            }, V.prototype.leave = function(Y) {
                ke.removeMembershipFromRoom(this, Y)
            }, V.prototype.to = function(Y) {
                return this.broadcast.to(Y)
            }, V.prototype.in = function() {
                return this.to.apply(null, arguments)
            }, V.prototype.dispatchEvent = function(Y) {
                for (var ge = this, be = [], Ne = arguments.length - 1; Ne-- > 0;) be[Ne] = arguments[Ne + 1];
                var Be = Y.type,
                    ht = this.listeners[Be];
                if (!Array.isArray(ht)) return !1;
                ht.forEach(function(Zt) {
                    be.length > 0 ? Zt.apply(ge, be) : Zt.call(ge, Y.data ? Y.data : Y)
                })
            }, Object.defineProperties(V.prototype, Z), V
        }(Ie);
        vt.CONNECTING = 0, vt.OPEN = 1, vt.CLOSING = 2, vt.CLOSED = 3;
        var lt = function(V, Z) {
            return new vt(V, Z)
        };
        lt.connect = function(V, Z) {
            return lt(V, Z)
        };
        var oi = _t,
            ai = Le,
            ui = lt;
        i.Server = oi, i.WebSocket = ai, i.SocketIO = ui, Object.defineProperty(i, "__esModule", {
            value: !0
        })
    })
})(Nx, Bl);
var Bu = {},
    Bx = {
        get exports() {
            return Bu
        },
        set exports(t) {
            Bu = t
        }
    };
(function(t) {
    (function() {
        function e(y, w) {
            var x = y.x - w.x,
                A = y.y - w.y;
            return x * x + A * A
        }

        function i(y, w, x) {
            var A = w.x,
                D = w.y,
                B = x.x - A,
                X = x.y - D;
            if (B !== 0 || X !== 0) {
                var j = ((y.x - A) * B + (y.y - D) * X) / (B * B + X * X);
                j > 1 ? (A = x.x, D = x.y) : j > 0 && (A += B * j, D += X * j)
            }
            return B = y.x - A, X = y.y - D, B * B + X * X
        }

        function n(y, w) {
            for (var x = y[0], A = [x], D, B = 1, X = y.length; B < X; B++) D = y[B], e(D, x) > w && (A.push(D), x = D);
            return x !== D && A.push(D), A
        }

        function s(y, w, x, A, D) {
            for (var B = A, X, j = w + 1; j < x; j++) {
                var ie = i(y[j], y[w], y[x]);
                ie > B && (X = j, B = ie)
            }
            B > A && (X - w > 1 && s(y, w, X, A, D), D.push(y[X]), x - X > 1 && s(y, X, x, A, D))
        }

        function o(y, w) {
            var x = y.length - 1,
                A = [y[0]];
            return s(y, 0, x, w, A), A.push(y[x]), A
        }

        function p(y, w, x) {
            if (y.length <= 2) return y;
            var A = w !== void 0 ? w * w : 1;
            return y = x ? y : n(y, A), y = o(y, A), y
        }
        t.exports = p, t.exports.default = p
    })()
})(Bx);
const Vx = xt.View.extend({
    el: "#banner",
    template: Ue.template(`
        <div class="banner-image"></div>
        <div class="banner-text"></div>
        <div class="banner-cta"></div>
    `),
    events: {
        click: "onBannerClick"
    },
    bindings: {
        ":el": {
            attributes: [{
                name: "class",
                observe: ["visible", "theme"],
                onGet([t, e]) {
                    let i = e || "no-theme";
                    return t && (i += " show"), i
                }
            }]
        },
        ".banner-text": "copy",
        ".banner-cta": "cta"
    },
    initialize() {
        this.render(), this.listenTo(this.model, "change:visible", this.visibleDidChange)
    },
    onBannerClick() {
        $f.bannerClick(this.getCampaign(), "post_game"), this.model.get("url") && window.open(this.model.get("url"), "_blank")
    },
    onRender() {
        this.stickit()
    },
    visibleDidChange() {
        setTimeout(() => {
            $e(window).trigger("resize")
        }, .5)
    },
    getCampaign() {
        const t = this.model.get("url");
        if (!t) return "";
        let e = "";
        return t.split("?")[1] && (e = new URLSearchParams(window.location.search).get("utm_campaign") || ""), e
    }
});
class vn {
    static get isVisible() {
        return this.view ? this.view.state === "on" : !1
    }
    static async update(e, i) {
        if (!i || i.lobbyState !== "PostGame") {
            this.hide();
            return
        }
        this.view || await this.init(e, i), this.show()
    }
    static async init(e) {
        if (!e) {
            this.bannerData = !1;
            return
        }
        this.bannerData = await this.loadBannerData(e), this.bannerData && (this.view = new Vx({
            model: new Je.Model(this.bannerData)
        }), this.isInitialized = !0)
    }
    static show() {
        this.view && this.view.model.set({
            visible: !0
        })
    }
    static hide() {
        this.view && this.view.model.set({
            visible: !1
        })
    }
    static async loadBannerData(e) {
        try {
            const n = await (await fetch({}.TV_BANNERS_URL)).json();
            return !n || !n.postGameBanners ? !1 : n.postGameBanners[e]
        } catch (i) {
            return console.error("Unable to load banner data", i), !1
        }
    }
}
ot(vn, "view", null), ot(vn, "isInitialized", !1), ot(vn, "bannerConfig", null);
var Fx = {};
(function(t) {
    (function(e) {
        e(Nn, Je, t)
    })(function(e, i, n) {
        i.Stickit = n, n._handlers = [], n.addHandler = function(v) {
            v = e.map(e.flatten([v]), function($) {
                return e.defaults({}, $, {
                    updateModel: !0,
                    updateView: !0,
                    updateMethod: "text"
                })
            }), this._handlers = this._handlers.concat(v)
        }, n.ViewMixin = {
            _modelBindings: null,
            unstickit: function(v, $) {
                if (e.isObject($)) {
                    e.each($, function(oe, ue) {
                        this.unstickit(v, ue)
                    }, this);
                    return
                }
                var W = [],
                    ne = [];
                this._modelBindings = e.reject(this._modelBindings, function(oe) {
                    if (!(v && oe.model !== v) && !($ && oe.config.selector != $)) return oe.model.off(oe.event, oe.fn), ne.push(oe.config._destroy), W.push(oe.model), !0
                }), e.invoke(e.uniq(W), "trigger", "stickit:unstuck", this.cid), e.each(e.uniq(ne), function(oe) {
                    oe.call(this)
                }, this), this.$el.off(".stickit" + (v ? "." + v.cid : ""), $)
            },
            stickit: function(v, $) {
                var W = v || this.model,
                    ne = $ || e.result(this, "bindings") || {};
                this._modelBindings || (this._modelBindings = []), this.addBinding(W, ne);
                var oe = this.remove;
                return oe.stickitWrapped || (this.remove = function() {
                    var ue = this;
                    return this.unstickit(), oe && (ue = oe.apply(this, arguments)), ue
                }), this.remove.stickitWrapped = !0, this
            },
            addBinding: function(v, $, W) {
                var ne = v || this.model,
                    oe = ".stickit." + ne.cid;
                if (W = W || {}, e.isObject($)) {
                    var ue = $;
                    e.each(ue, function(Ke, qe) {
                        this.addBinding(ne, qe, Ke)
                    }, this);
                    return
                }
                var d = $ === ":el" ? this.$el : this.$($);
                if (this.unstickit(ne, $), !!d.length) {
                    e.isString(W) && (W = {
                        observe: W
                    }), e.isFunction(W.observe) && (W.observe = W.observe.call(this));
                    var ye = D(d, W),
                        Se = ye.observe;
                    ye.selector = $, ye.view = this;
                    var Ae = ye.bindId = e.uniqueId(),
                        at = e.extend({
                            stickitChange: ye
                        }, ye.setOptions);
                    if (ye._destroy = function() {
                            p.call(this, ye.destroy, d, ne, ye)
                        }, B(d, ye, ne, Se), j(d, ye, ne, Se), X(d, ye, ne), Se) {
                        e.each(ye.events, function(Ke) {
                            var qe = Ke + oe,
                                K = function(De) {
                                    var Ie = p.call(this, ye.getVal, d, De, ye, s.call(arguments, 1)),
                                        we = y(ye.updateModel, Ie, De, ye);
                                    we && x(ne, Se, Ie, at, ye)
                                },
                                le = $ === ":el" ? "" : $;
                            this.$el.on(qe, le, e.bind(K, this))
                        }, this), e.each(e.flatten([Se]), function(Ke) {
                            w(ne, "change:" + Ke, ye, function(qe, K, le) {
                                var De = le && le.stickitChange && le.stickitChange.bindId;
                                if (De !== Ae) {
                                    var Ie = A(ne, Se, ye);
                                    ie(d, ye, Ie, ne)
                                }
                            })
                        });
                        var Ve = A(ne, Se, ye);
                        ie(d, ye, Ve, ne, !0)
                    }
                    p.call(this, ye.initialize, d, ne, ye)
                }
            }
        }, e.extend(i.View.prototype, n.ViewMixin);
        var s = [].slice,
            o = function(v, $) {
                var W = ($ || "").split("."),
                    ne = e.reduce(W, function(oe, ue) {
                        return oe[ue]
                    }, v);
                return ne ?? v
            },
            p = function(v) {
                if (v = e.isString(v) ? o(this, v) : v, v) return v.apply(this, s.call(arguments, 1))
            },
            y = function(v, $, W) {
                if (e.isBoolean(v)) return v;
                if (e.isFunction(v) || e.isString(v)) {
                    var ne = e.last(arguments).view;
                    return p.apply(ne, arguments)
                }
                return !1
            },
            w = function(v, $, W, ne) {
                var oe = W.view;
                v.on($, ne, oe), oe._modelBindings.push({
                    model: v,
                    event: $,
                    fn: ne,
                    config: W
                })
            },
            x = function(v, $, W, ne, oe) {
                var ue = {},
                    d = oe.view;
                oe.onSet && (W = p.call(d, oe.onSet, W, oe)), oe.set ? p.call(d, oe.set, $, W, ne, oe) : (ue[$] = W, e.isArray($) && e.isArray(W) && (ue = e.reduce($, function(ye, Se, Ae) {
                    return ye[Se] = e.has(W, Ae) ? W[Ae] : null, ye
                }, {})), v.set(ue, ne))
            },
            A = function(v, $, W) {
                var ne = W.view,
                    oe = function(ye) {
                        return v[W.escape ? "escape" : "get"](ye)
                    },
                    ue = function(ye) {
                        return ye ?? ""
                    },
                    d = e.isArray($) ? e.map($, oe) : oe($);
                return W.onGet && (d = p.call(ne, W.onGet, d, W)), e.isArray(d) ? e.map(d, ue) : ue(d)
            },
            D = n.getConfiguration = function(v, $) {
                var W = [{
                    updateModel: !1,
                    updateMethod: "text",
                    update: function(oe, ue, d, ye) {
                        oe[ye.updateMethod] && oe[ye.updateMethod](ue)
                    },
                    getVal: function(oe, ue, d) {
                        return oe[d.updateMethod]()
                    }
                }];
                W = W.concat(e.filter(n._handlers, function(oe) {
                    return v.is(oe.selector)
                })), W.push($);
                var ne = e.extend.apply(e, W);
                return e.has(ne, "updateView") || (ne.updateView = !ne.visible), ne
            },
            B = function(v, $, W, ne) {
                var oe = ["autofocus", "autoplay", "async", "checked", "controls", "defer", "disabled", "hidden", "indeterminate", "loop", "multiple", "open", "readonly", "required", "scoped", "selected"],
                    ue = $.view;
                e.each($.attributes || [], function(d) {
                    d = e.clone(d), d.view = ue;
                    var ye = "",
                        Se = d.observe || (d.observe = ne),
                        Ae = function() {
                            var at = e.contains(oe, d.name) ? "prop" : "attr",
                                Ve = A(W, Se, d);
                            d.name === "class" ? (v.removeClass(ye).addClass(Ve), ye = Ve) : v[at](d.name, Ve)
                        };
                    e.each(e.flatten([Se]), function(at) {
                        w(W, "change:" + at, $, Ae)
                    }), Ae()
                })
            },
            X = function(v, $, W, ne) {
                e.each($.classes || [], function(oe, ue) {
                    e.isString(oe) && (oe = {
                        observe: oe
                    }), oe.view = $.view;
                    var d = oe.observe,
                        ye = function() {
                            var Se = A(W, d, oe);
                            v.toggleClass(ue, !!Se)
                        };
                    e.each(e.flatten([d]), function(Se) {
                        w(W, "change:" + Se, $, ye)
                    }), ye()
                })
            },
            j = function(v, $, W, ne) {
                if ($.visible != null) {
                    var oe = $.view,
                        ue = function() {
                            var d = $.visible,
                                ye = $.visibleFn,
                                Se = A(W, ne, $),
                                Ae = !!Se;
                            (e.isFunction(d) || e.isString(d)) && (Ae = !!p.call(oe, d, Se, $)), ye ? p.call(oe, ye, v, Ae, $) : v.toggle(Ae)
                        };
                    e.each(e.flatten([ne]), function(d) {
                        w(W, "change:" + d, $, ue)
                    }), ue()
                }
            },
            ie = function(v, $, W, ne, oe) {
                var ue = $.view;
                y($.updateView, W, $) && (p.call(ue, $.update, v, W, ne, $), oe || p.call(ue, $.afterUpdate, v, W, $))
            };
        return n.addHandler([{
            selector: "[contenteditable]",
            updateMethod: "html",
            events: ["input", "change"]
        }, {
            selector: "input",
            events: ["propertychange", "input", "change"],
            update: function(v, $) {
                v.val($)
            },
            getVal: function(v) {
                return v.val()
            }
        }, {
            selector: "textarea",
            events: ["propertychange", "input", "change"],
            update: function(v, $) {
                v.val($)
            },
            getVal: function(v) {
                return v.val()
            }
        }, {
            selector: 'input[type="radio"]',
            events: ["change"],
            update: function(v, $) {
                v.filter('[value="' + $ + '"]').prop("checked", !0)
            },
            getVal: function(v) {
                return v.filter(":checked").val()
            }
        }, {
            selector: 'input[type="checkbox"]',
            events: ["change"],
            update: function(v, $, W, ne) {
                if (v.length > 1) $ || ($ = []), v.each(function(ue, d) {
                    var ye = i.$(d),
                        Se = e.contains($, ye.val());
                    ye.prop("checked", Se)
                });
                else {
                    var oe = e.isBoolean($) ? $ : $ === v.val();
                    v.prop("checked", oe)
                }
            },
            getVal: function(v) {
                var $;
                if (v.length > 1) $ = e.reduce(v, function(ne, oe) {
                    var ue = i.$(oe);
                    return ue.prop("checked") && ne.push(ue.val()), ne
                }, []);
                else {
                    $ = v.prop("checked");
                    var W = v.val();
                    W !== "on" && W != null && ($ = $ ? v.val() : null)
                }
                return $
            }
        }, {
            selector: "select",
            events: ["change"],
            update: function(v, $, W, ne) {
                var oe, ue = ne.selectOptions,
                    d = ue && ue.collection || void 0,
                    ye = v.prop("multiple");
                if (!ue) {
                    ue = {};
                    var Se = function(he) {
                        return he.map(function(ke, Te) {
                            var Fe = i.$(Te).data("stickit-bind-val");
                            return {
                                value: Fe !== void 0 ? Fe : Te.value,
                                label: Te.text
                            }
                        }).get()
                    };
                    v.find("optgroup").length ? (d = {
                        opt_labels: []
                    }, v.find("> option").length && (d.opt_labels.push(void 0), e.each(v.find("> option"), function(he) {
                        d[void 0] = Se(i.$(he))
                    })), e.each(v.find("optgroup"), function(he) {
                        var ke = i.$(he).attr("label");
                        d.opt_labels.push(ke), d[ke] = Se(i.$(he).find("option"))
                    })) : d = Se(v.find("option"))
                }
                ue.valuePath = ue.valuePath || "value", ue.labelPath = ue.labelPath || "label", ue.disabledPath = ue.disabledPath || "disabled";
                var Ae = function(he, ke, Te) {
                    e.each(he, function(Fe) {
                        var rt = i.$("<option/>"),
                            Tt = Fe,
                            si = function(T, R, N) {
                                rt.text(T), Tt = R, rt.data("stickit-bind-val", Tt), !e.isArray(Tt) && !e.isObject(Tt) && rt.val(Tt), N === !0 && rt.prop("disabled", "disabled")
                            },
                            jt, k, c;
                        Fe === "__default__" ? (jt = Te.label, k = Te.value, c = Te.disabled) : (jt = o(Fe, ue.labelPath), k = o(Fe, ue.valuePath), c = o(Fe, ue.disabledPath)), si(jt, k, c);
                        var m = function() {
                            return !ye && Tt != null && Te != null && Tt === Te ? !0 : !!(e.isObject(Te) && e.isEqual(Tt, Te))
                        };
                        m() ? rt.prop("selected", !0) : ye && e.isArray(Te) && e.each(Te, function(T) {
                            e.isObject(T) && (T = o(T, ue.valuePath)), (T === Tt || e.isObject(T) && e.isEqual(Tt, T)) && rt.prop("selected", !0)
                        }), ke.append(rt)
                    })
                };
                if (v.find("*").remove(), e.isString(d)) {
                    var at = window;
                    d.indexOf("this.") === 0 && (at = this), d = d.replace(/^[a-z]*\.(.+)$/, "$1"), oe = o(at, d)
                } else e.isFunction(d) ? oe = p.call(this, d, v, ne) : oe = d;
                if (oe instanceof i.Collection) {
                    var Ve = oe,
                        Ke = function() {
                            var he = A(W, ne.observe, ne);
                            p.call(this, ne.update, v, he, W, ne)
                        },
                        qe = function() {
                            Ve.off("add remove reset sort", Ke)
                        },
                        K = function() {
                            qe(), Ve.off("stickit:selectRefresh"), W.off("stickit:selectRefresh")
                        };
                    Ve.trigger("stickit:selectRefresh"), Ve.once("stickit:selectRefresh", qe, this), Ve.on("add remove reset sort", Ke, this), W.trigger("stickit:selectRefresh"), W.once("stickit:selectRefresh", function() {
                        W.off("stickit:unstuck", K)
                    }), W.once("stickit:unstuck", K, this), oe = oe.toJSON()
                }
                if (ue.defaultOption) {
                    var le = e.isFunction(ue.defaultOption) ? ue.defaultOption.call(this, v, ne) : ue.defaultOption;
                    Ae(["__default__"], v, le)
                }
                if (e.isArray(oe)) Ae(oe, v, $);
                else if (oe.opt_labels) e.each(oe.opt_labels, function(he) {
                    var ke = i.$("<optgroup/>").attr("label", he);
                    Ae(oe[he], ke, $), v.append(ke)
                });
                else {
                    var De = [],
                        Ie;
                    for (var we in oe) Ie = {}, Ie[ue.valuePath] = we, Ie[ue.labelPath] = oe[we], De.push(Ie);
                    De = e.sortBy(De, ue.comparator || ue.labelPath), Ae(De, v, $)
                }
            },
            getVal: function(v) {
                var $ = v.find("option:selected");
                return v.prop("multiple") ? e.map($, function(W) {
                    return i.$(W).data("stickit-bind-val")
                }) : $.data("stickit-bind-val")
            }
        }]), n
    })
})(Fx);
const jx = `<button type="button" class='button choice-button btn btn-lg'></button>
<button data-action='censor' class='button censor-button btn btn-lg'></button>`,
    js = xt.View.extend({
        template: Ue.template(jx),
        model: new Je.Model({}),
        className() {
            let t = "button-group btn-group";
            return this.options.block !== !1 && (t += " btn-block"), t
        },
        events: {
            "click .button": "onClick"
        },
        bindings: {
            ":el": {
                observe: "visible",
                visible(t) {
                    return t !== !1
                },
                visibleFn(t, e) {
                    t.css("display", e ? "" : "none")
                },
                attributes: [{
                    name: "class",
                    observe: ["className", "selected", "disabled", "active"],
                    onGet([t, e, i, n]) {
                        let s = "";
                        return t && (s += t), e && (s += " selected"), i && (s += " disabled"), n && (s += " active"), s
                    }
                }]
            },
            "button:first": {
                observe: ["text", "html", "label"],
                updateMethod: "html",
                onGet([t, e, i]) {
                    return i ? this.$el.find("button:first").attr("aria-label", i) : this.$el.find("button:first").removeAttr("aria-label"), e || $e("<div />").text(t).html()
                },
                attributes: [{
                    name: "disabled",
                    observe: "disabled"
                }, {
                    name: "data-action",
                    observe: "action",
                    onGet(t) {
                        return t || "choose"
                    }
                }, {
                    name: "data-index",
                    observe: "index"
                }, {
                    name: "data-key",
                    observe: "key"
                }, {
                    name: "style",
                    observe: "color",
                    onGet(t) {
                        if (!t) return "";
                        let e = "";
                        return t.text && (e += `color: ${t.text};`), t.background && (e += `background-color: ${t.background};`), e
                    }
                }, {
                    name: "type",
                    observe: "action",
                    onGet(t) {
                        return t === "submit" ? "submit" : "button"
                    }
                }]
            },
            ".censor-button": {
                observe: "censorable",
                visible: !0,
                visibleFn(t, e) {
                    e || t.remove()
                },
                attributes: [{
                    name: "data-index",
                    observe: "index"
                }, {
                    name: "class",
                    observe: ["className", "isWarned"],
                    onGet(t) {
                        if (!t) return null;
                        let e = "";
                        return t[0] && (e += t[0]), t[1] && (e += " isWarned"), e
                    }
                }]
            }
        },
        onRender() {
            this.model.set("index", this.getOption("index")), this.getOption("action") && this.model.set("action", this.getOption("action")), this.stickit()
        },
        onClick(t) {
            const e = $e(t.target).data("action");
            this.triggerMethod(`button:${e}`, this.model)
        }
    });
var ir, Io, qs = typeof Map == "function" ? new Map : (ir = [], Io = [], {
        has: function(t) {
            return ir.indexOf(t) > -1
        },
        get: function(t) {
            return Io[ir.indexOf(t)]
        },
        set: function(t, e) {
            ir.indexOf(t) === -1 && (ir.push(t), Io.push(e))
        },
        delete: function(t) {
            var e = ir.indexOf(t);
            e > -1 && (ir.splice(e, 1), Io.splice(e, 1))
        }
    }),
    Nd = function(t) {
        return new Event(t, {
            bubbles: !0
        })
    };
try {
    new Event("test")
} catch {
    Nd = function(e) {
        var i = document.createEvent("Event");
        return i.initEvent(e, !0, !1), i
    }
}

function qx(t) {
    var e = qs.get(t);
    e && e.destroy()
}

function Ux(t) {
    var e = qs.get(t);
    e && e.update()
}
var Ms = null;
typeof window > "u" || typeof window.getComputedStyle != "function" ? ((Ms = function(t) {
    return t
}).destroy = function(t) {
    return t
}, Ms.update = function(t) {
    return t
}) : ((Ms = function(t, e) {
    return t && Array.prototype.forEach.call(t.length ? t : [t], function(i) {
        return function(n) {
            if (n && n.nodeName && n.nodeName === "TEXTAREA" && !qs.has(n)) {
                var s, o = null,
                    p = null,
                    y = null,
                    w = function() {
                        n.clientWidth !== p && B()
                    },
                    x = function(X) {
                        window.removeEventListener("resize", w, !1), n.removeEventListener("input", B, !1), n.removeEventListener("keyup", B, !1), n.removeEventListener("autosize:destroy", x, !1), n.removeEventListener("autosize:update", B, !1), Object.keys(X).forEach(function(j) {
                            n.style[j] = X[j]
                        }), qs.delete(n)
                    }.bind(n, {
                        height: n.style.height,
                        resize: n.style.resize,
                        overflowY: n.style.overflowY,
                        overflowX: n.style.overflowX,
                        wordWrap: n.style.wordWrap
                    });
                n.addEventListener("autosize:destroy", x, !1), "onpropertychange" in n && "oninput" in n && n.addEventListener("keyup", B, !1), window.addEventListener("resize", w, !1), n.addEventListener("input", B, !1), n.addEventListener("autosize:update", B, !1), n.style.overflowX = "hidden", n.style.wordWrap = "break-word", qs.set(n, {
                    destroy: x,
                    update: B
                }), (s = window.getComputedStyle(n, null)).resize === "vertical" ? n.style.resize = "none" : s.resize === "both" && (n.style.resize = "horizontal"), o = s.boxSizing === "content-box" ? -(parseFloat(s.paddingTop) + parseFloat(s.paddingBottom)) : parseFloat(s.borderTopWidth) + parseFloat(s.borderBottomWidth), isNaN(o) && (o = 0), B()
            }

            function A(X) {
                var j = n.style.width;
                n.style.width = "0px", n.style.width = j, n.style.overflowY = X
            }

            function D() {
                if (n.scrollHeight !== 0) {
                    var X = function(ie) {
                            for (var v = []; ie && ie.parentNode && ie.parentNode instanceof Element;) ie.parentNode.scrollTop && v.push({
                                node: ie.parentNode,
                                scrollTop: ie.parentNode.scrollTop
                            }), ie = ie.parentNode;
                            return v
                        }(n),
                        j = document.documentElement && document.documentElement.scrollTop;
                    n.style.height = "", n.style.height = n.scrollHeight + o + "px", p = n.clientWidth, X.forEach(function(ie) {
                        ie.node.scrollTop = ie.scrollTop
                    }), j && (document.documentElement.scrollTop = j)
                }
            }

            function B() {
                D();
                var X = Math.round(parseFloat(n.style.height)),
                    j = window.getComputedStyle(n, null),
                    ie = j.boxSizing === "content-box" ? Math.round(parseFloat(j.height)) : n.offsetHeight;
                if (ie < X ? j.overflowY === "hidden" && (A("scroll"), D(), ie = j.boxSizing === "content-box" ? Math.round(parseFloat(window.getComputedStyle(n, null).height)) : n.offsetHeight) : j.overflowY !== "hidden" && (A("hidden"), D(), ie = j.boxSizing === "content-box" ? Math.round(parseFloat(window.getComputedStyle(n, null).height)) : n.offsetHeight), y !== ie) {
                    y = ie;
                    var v = Nd("autosize:resized");
                    try {
                        n.dispatchEvent(v)
                    } catch {}
                }
            }
        }(i)
    }), t
}).destroy = function(t) {
    return t && Array.prototype.forEach.call(t.length ? t : [t], qx), t
}, Ms.update = function(t) {
    return t && Array.prototype.forEach.call(t.length ? t : [t], Ux), t
});
var Vu = Ms;
const zx = `<form>\r
    <div class="form-group">\r
        <div class="inputGroup">\r
            <textarea id="input-text-textarea" rows="1" class="form-control jbg-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea>\r
            <span class="inlineSubmit">\r
                <button type="submit" class="btn btn-default inlineSubmitButton" type="button"><span class="inlineSubmitText">Send</span></button>\r
            </span>\r
            <span id="helpBlock2" class="help-block errorText"></span>\r
            <div class="charCountDisplay"><span class="charRemaining">70</span></div>\r
        </div>\r
    </div>\r
</form>`,
    oa = xt.View.extend({
        tagName: "div",
        className: "input",
        model: new Je.Model({}),
        template: Ue.template(zx),
        events: {
            "keypress textarea": "onKeypress",
            "click .inlineSubmitButton": "onSubmitClick",
            "input textarea": "onInputChange"
        },
        bindings: {
            ":el": {
                attributes: [{
                    name: "style",
                    observe: "hidden",
                    onGet(t) {
                        return t === !0 ? "display: none;" : "display: block;"
                    }
                }, {
                    name: "class",
                    observe: "className",
                    onGet(t) {
                        return `input ${t!==void 0?t:""}`
                    }
                }]
            },
            textarea: {
                attributes: [{
                    name: "maxlength",
                    observe: "maxLength"
                }, {
                    name: "placeholder",
                    observe: "placeholder"
                }, {
                    name: "autocapitalize",
                    observe: "autocapitalize"
                }, {
                    name: "class",
                    observe: "className",
                    onGet(t) {
                        return `form-control ${t!==void 0?t:""}`
                    }
                }]
            },
            ".inputGroup": {
                attributes: [{
                    name: "class",
                    observe: "inlineSubmit",
                    onGet(t) {
                        return t === !0 ? "input-group" : ""
                    }
                }]
            },
            ".inlineSubmit": {
                attributes: [{
                    name: "class",
                    observe: "inlineSubmit",
                    onGet(t) {
                        return t === !0 ? "input-group-btn" : ""
                    }
                }, {
                    name: "style",
                    observe: "inlineSubmit",
                    onGet(t) {
                        return t === !0 ? "" : "display:none;"
                    }
                }]
            },
            ".inlineSubmitText": {
                observe: "inlineSubmitText",
                onGet(t) {
                    return t !== void 0 ? t : "Send"
                }
            },
            ".form-group": {
                attributes: [{
                    name: "class",
                    observe: "error",
                    onGet(t) {
                        return t ? "has-error" : ""
                    }
                }]
            },
            ".errorText": {
                observe: "error",
                updateMethod: "html",
                visible: !0,
                updateView: !0,
                onGet(t) {
                    return t ? typeof t == "object" ? t.html ? t.html : $e("<div />").text(t.text).html() : t : null
                }
            },
            ".charRemaining": "remaining",
            ".maxChars": "maxLength",
            ".charCountDisplay": {
                observe: ["maxLength", "counter"],
                visible(t) {
                    return t[0] && t[1]
                }
            }
        },
        render() {
            this.$el.html(this.template()), this.stickit(), this.model.set("remaining", this.model.get("maxLength"))
        },
        onAttach() {
            this.getOption("preventAutosize") || Vu($e("textarea"))
        },
        onSubmitClick() {
            return $e("textarea").blur(), this.triggerMethod("input:submit", this), !1
        },
        onKeypress(t) {
            return this.model.set("error", ""), t.keyCode === 13 ? ($e("textarea").blur(), this.triggerMethod("input:submit", this), !1) : !0
        },
        onInputChange() {
            const t = this.$("textarea").first();
            if (this.triggerMethod("input:text", this), !t) return;
            const e = t.val() || "";
            this.model.set("remaining", this.model.get("maxLength") - e.length)
        },
        focus() {
            $e(this.$el).find("textarea").focus()
        },
        clearInput() {
            const t = $e(this.$el).find("textarea");
            $e(t).val(""), this.getOption("preventAutosize") || Vu.update(t), this.onInputChange()
        },
        setValue(t) {
            const e = $e(this.$el).find("textarea");
            e[0].value = t, this.onInputChange()
        },
        getValue() {
            return this.$("textarea").val()
        },
        getSanitizedValue() {
            return Ht.sanitize(this.getValue())
        },
        sanitize(t) {
            return Ht.sanitize(t)
        },
        sanitizeInput(t) {
            return Ht.sanitizeInput(t)
        }
    }),
    Hx = '<div class="text"></div>',
    _n = xt.View.extend({
        tagName: "div",
        template: Ue.template(Hx),
        model: new Je.Model({
            text: "",
            className: ""
        }),
        bindings: {
            ".text": {
                observe: ["text", "html"],
                updateMethod: "html",
                onGet([t, e]) {
                    return e !== void 0 ? e : $e("<div />").text(t).html()
                }
            },
            ":el": {
                attributes: [{
                    name: "style",
                    observe: "background",
                    onGet(t) {
                        return t ? `background-color: ${t};` : ""
                    }
                }, {
                    name: "class",
                    observe: "className"
                }]
            }
        },
        onRender() {
            this.stickit()
        }
    }),
    tn = xt.CollectionView.extend({
        tagName: "div",
        className: "choices",
        childView(t) {
            return t.get("type") === "input" ? oa : t.get("type") === "text" ? _n : js
        },
        collection: new Je.Collection([]),
        initialize(t) {
            this.listenTo(this.collection, "sync", this.render), this.mergeOptions(t, ["block", "action"])
        },
        childViewOptions(t, e) {
            let i = !0,
                n;
            return t.get("block") !== void 0 ? i = t.get("block") : this.getOption("block") !== void 0 && (i = this.getOption("block")), t.get("action") !== void 0 ? n = t.get("action") : this.getOption("action") !== void 0 && (n = this.getOption("action")), {
                block: i,
                action: n,
                index: t.get("key") !== void 0 ? t.get("key") : e
            }
        }
    });
let Fu = {};

function Bd(t, ...e) {
    Fu[t] && Fu[t].map(i => i(...e))
}
let Ds, No;

function ar() {
    return Ds
}

function ka() {
    return No
}

function Gx(t) {
    if (Ds = document.getElementById(t) || t || document.querySelector("canvas"), !Ds) throw Error("You must provide a canvas element for the game");
    return No = Ds.getContext("2d"), No.imageSmoothingEnabled = !1, Bd("init"), {
        canvas: Ds,
        context: No
    }
}
class Tc {
    constructor({
        spriteSheet: e,
        frames: i,
        frameRate: n,
        loop: s = !0
    } = {}) {
        this.spriteSheet = e, this.frames = i, this.frameRate = n, this.loop = s;
        let {
            width: o,
            height: p,
            margin: y = 0
        } = e.frame;
        this.width = o, this.height = p, this.margin = y, this._f = 0, this._a = 0
    }
    clone() {
        return Ta(this)
    }
    reset() {
        this._f = 0, this._a = 0
    }
    update(e = 1 / 60) {
        if (!(!this.loop && this._f == this.frames.length - 1))
            for (this._a += e; this._a * this.frameRate >= 1;) this._f = ++this._f % this.frames.length, this._a -= 1 / this.frameRate
    }
    render({
        x: e,
        y: i,
        width: n = this.width,
        height: s = this.height,
        context: o = ka()
    } = {}) {
        let p = this.frames[this._f] / this.spriteSheet._f | 0,
            y = this.frames[this._f] % this.spriteSheet._f | 0;
        o.drawImage(this.spriteSheet.image, y * this.width + (y * 2 + 1) * this.margin, p * this.height + (p * 2 + 1) * this.margin, this.width, this.height, e, i, n, s)
    }
}

function Ta(t) {
    return new Tc(t)
}
Ta.prototype = Tc.prototype;
Ta.class = Tc;
const Wx = () => {};

function Kx() {
    let t = ar();
    ka().clearRect(0, 0, t.width, t.height)
}

function Xx({
    fps: t = 60,
    clearCanvas: e = !0,
    update: i,
    render: n
} = {}) {
    if (!(i && n)) throw Error("You must provide update() and render() functions");
    let s = 0,
        o = 1e3 / t,
        p = 1 / t,
        y = e ? Kx : Wx,
        w, x, A, D, B;
    const X = window.performance || Date;

    function j() {
        if (x = requestAnimationFrame(j), A = X.now(), D = A - w, w = A, !(D > 1e3)) {
            for (Bd("tick"), s += D; s >= o;) B.update(p), s -= o;
            y(), B.render()
        }
    }
    return B = {
        update: i,
        render: n,
        isStopped: !0,
        start() {
            w = X.now(), this.isStopped = !1, requestAnimationFrame(j)
        },
        stop() {
            this.isStopped = !0, cancelAnimationFrame(x)
        },
        _frame: j,
        set _last(ie) {
            w = ie
        }
    }, B
}
class Yx {
    constructor({
        create: e,
        maxSize: i = 1024
    } = {}) {
        let n;
        if (!e || !(n = e()) || !(n.update && n.init && n.isAlive)) throw Error("Must provide create() function which returns an object with init(), update(), and isAlive() functions");
        this._c = e, this.objects = [e()], this.size = 0, this.maxSize = i
    }
    get(e = {}) {
        if (this.size === this.objects.length) {
            if (this.size === this.maxSize) return;
            for (let n = 0; n < this.size && this.objects.length < this.maxSize; n++) this.objects.push(this._c())
        }
        let i = this.objects[this.size];
        return this.size++, i.init(e), i
    }
    getAliveObjects() {
        return this.objects.slice(0, this.size)
    }
    clear() {
        this.size = this.objects.length = 0, this.objects.push(this._c())
    }
    update(e) {
        let i, n = !1;
        for (let s = this.size; s--;) i = this.objects[s], i.update(e), i.isAlive() || (n = !0, this.size--);
        n && this.objects.sort((s, o) => o.isAlive() - s.isAlive())
    }
    render() {
        for (let e = this.size; e--;) this.objects[e].render()
    }
}
Yx.prototype;

function ju(t, e) {
    let i = [],
        n = e.x + e.width / 2,
        s = e.y + e.height / 2,
        o = t.y < s && t.y + t.height >= e.y,
        p = t.y + t.height >= s && t.y < e.y + e.height;
    return t.x < n && t.x + t.width >= e.x && (o && i.push(0), p && i.push(2)), t.x + t.width >= n && t.x < e.x + e.width && (o && i.push(1), p && i.push(3)), i
}
class Ac {
    constructor({
        maxDepth: e = 3,
        maxObjects: i = 25,
        bounds: n
    } = {}) {
        this.maxDepth = e, this.maxObjects = i;
        let s = ar();
        this.bounds = n || {
            x: 0,
            y: 0,
            width: s.width,
            height: s.height
        }, this._b = !1, this._d = 0, this._o = [], this._s = [], this._p = null
    }
    clear() {
        this._s.map(function(e) {
            e.clear()
        }), this._b = !1, this._o.length = 0
    }
    get(e) {
        let i = new Set,
            n, s;
        for (; this._s.length && this._b;) {
            for (n = ju(e, this.bounds), s = 0; s < n.length; s++) this._s[n[s]].get(e).forEach(o => i.add(o));
            return Array.from(i)
        }
        return this._o.filter(o => o !== e)
    }
    add() {
        let e, i, n, s;
        for (i = 0; i < arguments.length; i++) {
            if (n = arguments[i], Array.isArray(n)) {
                this.add.apply(this, n);
                continue
            }
            if (this._b) {
                this._a(n);
                continue
            }
            if (this._o.push(n), this._o.length > this.maxObjects && this._d < this.maxDepth) {
                for (this._sp(), e = 0; s = this._o[e]; e++) this._a(s);
                this._o.length = 0
            }
        }
    }
    _a(e, i, n) {
        for (i = ju(e, this.bounds), n = 0; n < i.length; n++) this._s[i[n]].add(e)
    }
    _sp(e, i, n) {
        if (this._b = !0, !this._s.length)
            for (e = this.bounds.width / 2 | 0, i = this.bounds.height / 2 | 0, n = 0; n < 4; n++) this._s[n] = Oc({
                bounds: {
                    x: this.bounds.x + (n % 2 === 1 ? e : 0),
                    y: this.bounds.y + (n >= 2 ? i : 0),
                    width: e,
                    height: i
                },
                maxDepth: this.maxDepth,
                maxObjects: this.maxObjects
            }), this._s[n]._d = this._d + 1, this._s[n]._p = this
    }
}

function Oc(t) {
    return new Ac(t)
}
Oc.prototype = Ac.prototype;
Oc.class = Ac;
class Ic {
    constructor(e = 0, i = 0) {
        this._x = e, this._y = i
    }
    add(e, i = 1) {
        return qr(this.x + (e.x || 0) * i, this.y + (e.y || 0) * i, this)
    }
    clamp(e, i, n, s) {
        this._c = !0, this._a = e, this._b = i, this._d = n, this._e = s
    }
    get x() {
        return this._x
    }
    get y() {
        return this._y
    }
    set x(e) {
        this._x = this._c ? Math.min(Math.max(this._a, e), this._d) : e
    }
    set y(e) {
        this._y = this._c ? Math.min(Math.max(this._b, e), this._e) : e
    }
}

function qr(t, e, i = {}) {
    let n = new Ic(t, e);
    return i._c && (n.clamp(i._a, i._b, i._d, i._e), n.x = t, n.y = e), n
}
qr.prototype = Ic.prototype;
qr.class = Ic;
class Rc {
    constructor(e) {
        this.init(e)
    }
    init(e = {}) {
        let {
            x: i,
            y: n,
            dx: s,
            dy: o,
            ddx: p,
            ddy: y,
            width: w,
            height: x,
            image: A
        } = e;
        this.position = qr(i, n), this.velocity = qr(s, o), this.acceleration = qr(p, y), this._fx = this._fy = 1, this.width = this.height = this.rotation = 0, this.ttl = 1 / 0, this.anchor = {
            x: 0,
            y: 0
        }, this.context = ka();
        for (let D in e) this[D] = e[D];
        A && (this.width = w !== void 0 ? w : A.width, this.height = x !== void 0 ? x : A.height), this.sx = 0, this.sy = 0
    }
    get x() {
        return this.position.x
    }
    get y() {
        return this.position.y
    }
    get dx() {
        return this.velocity.x
    }
    get dy() {
        return this.velocity.y
    }
    get ddx() {
        return this.acceleration.x
    }
    get ddy() {
        return this.acceleration.y
    }
    get animations() {
        return this._a
    }
    get viewX() {
        return this.x - this.sx
    }
    get viewY() {
        return this.y - this.sy
    }
    get width() {
        return this._w
    }
    get height() {
        return this._h
    }
    set x(e) {
        this.position.x = e
    }
    set y(e) {
        this.position.y = e
    }
    set dx(e) {
        this.velocity.x = e
    }
    set dy(e) {
        this.velocity.y = e
    }
    set ddx(e) {
        this.acceleration.x = e
    }
    set ddy(e) {
        this.acceleration.y = e
    }
    set animations(e) {
        let i, n;
        this._a = {};
        for (i in e) this._a[i] = e[i].clone(), n = n || this._a[i];
        this.currentAnimation = n, this.width = this.width || n.width, this.height = this.height || n.height
    }
    set viewX(e) {}
    set viewY(e) {}
    set width(e) {
        let i = e < 0 ? -1 : 1;
        this._fx = i, this._w = e * i
    }
    set height(e) {
        let i = e < 0 ? -1 : 1;
        this._fy = i, this._h = e * i
    }
    isAlive() {
        return this.ttl > 0
    }
    collidesWith(e) {
        if (this.rotation || e.rotation) return null;
        let i = this.x - this.width * this.anchor.x,
            n = this.y - this.height * this.anchor.y,
            s = e.x,
            o = e.y;
        return e.anchor && (s -= e.width * e.anchor.x, o -= e.height * e.anchor.y), i < s + e.width && i + this.width > s && n < o + e.height && n + this.height > o
    }
    update(e) {
        this.advance(e)
    }
    render() {
        this.draw()
    }
    playAnimation(e) {
        this.currentAnimation = this.animations[e], this.currentAnimation.loop || this.currentAnimation.reset()
    }
    advance(e) {
        this.velocity = this.velocity.add(this.acceleration, e), this.position = this.position.add(this.velocity, e), this.ttl--, this.currentAnimation && this.currentAnimation.update(e)
    }
    draw() {
        let e = -this.width * this.anchor.x,
            i = -this.height * this.anchor.y;
        if (this.context.save(), this.context.translate(this.viewX, this.viewY), this.rotation && this.context.rotate(this.rotation), this._fx == -1 || this._fy == -1) {
            let n = this.width / 2 + e,
                s = this.height / 2 + i;
            this.context.translate(n, s), this.context.scale(this._fx, this._fy), this.context.translate(-n, -s)
        }
        this.image ? this.context.drawImage(this.image, e, i, this.width, this.height) : this.currentAnimation ? this.currentAnimation.render({
            x: e,
            y: i,
            width: this.width,
            height: this.height,
            context: this.context
        }) : (this.context.fillStyle = this.color, this.context.fillRect(e, i, this.width, this.height)), this.context.restore()
    }
}

function Mc(t) {
    return new Rc(t)
}
Mc.prototype = Rc.prototype;
Mc.class = Rc;

function Jx(t) {
    if (+t === t) return t;
    let e = [],
        i = t.split(".."),
        n = +i[0],
        s = +i[1],
        o = n;
    if (n < s)
        for (; o <= s; o++) e.push(o);
    else
        for (; o >= s; o--) e.push(o);
    return e
}
class Qx {
    constructor({
        image: e,
        frameWidth: i,
        frameHeight: n,
        frameMargin: s,
        animations: o
    } = {}) {
        if (!e) throw Error("You must provide an Image for the SpriteSheet");
        this.animations = {}, this.image = e, this.frame = {
            width: i,
            height: n,
            margin: s
        }, this._f = e.width / i | 0, this.createAnimations(o)
    }
    createAnimations(e) {
        let i, n;
        for (n in e) {
            let {
                frames: s,
                frameRate: o,
                loop: p
            } = e[n];
            if (i = [], s === void 0) throw Error("Animation " + n + " must provide a frames property");
            [].concat(s).map(y => {
                i = i.concat(Jx(y))
            }), this.animations[n] = Ta({
                spriteSheet: this,
                frames: i,
                frameRate: o,
                loop: p
            })
        }
    }
}
Qx.prototype;
var Xt = {},
    Zx = {
        get exports() {
            return Xt
        },
        set exports(t) {
            Xt = t
        }
    };
/*!
 * sweetalert2 v11.7.0
 * Released under the MIT License.
 */
(function(t, e) {
    (function(i, n) {
        t.exports = n()
    })(wt, function() {
        var i = {
            awaitingPromise: new WeakMap,
            promise: new WeakMap,
            innerParams: new WeakMap,
            domCache: new WeakMap
        };
        const n = "swal2-",
            s = u => {
                const f = {};
                for (const C in u) f[u[C]] = n + u[C];
                return f
            },
            o = s(["container", "shown", "height-auto", "iosfix", "popup", "modal", "no-backdrop", "no-transition", "toast", "toast-shown", "show", "hide", "close", "title", "html-container", "actions", "confirm", "deny", "cancel", "default-outline", "footer", "icon", "icon-content", "image", "input", "file", "range", "select", "radio", "checkbox", "label", "textarea", "inputerror", "input-label", "validation-message", "progress-steps", "active-progress-step", "progress-step", "progress-step-line", "loader", "loading", "styled", "top", "top-start", "top-end", "top-left", "top-right", "center", "center-start", "center-end", "center-left", "center-right", "bottom", "bottom-start", "bottom-end", "bottom-left", "bottom-right", "grow-row", "grow-column", "grow-fullscreen", "rtl", "timer-progress-bar", "timer-progress-bar-container", "scrollbar-measure", "icon-success", "icon-warning", "icon-info", "icon-question", "icon-error"]),
            p = s(["success", "warning", "info", "question", "error"]),
            y = "SweetAlert2:",
            w = u => {
                const f = [];
                for (let C = 0; C < u.length; C++) f.indexOf(u[C]) === -1 && f.push(u[C]);
                return f
            },
            x = u => u.charAt(0).toUpperCase() + u.slice(1),
            A = u => {
                console.warn(`${y} ${typeof u=="object"?u.join(" "):u}`)
            },
            D = u => {
                console.error(`${y} ${u}`)
            },
            B = [],
            X = u => {
                B.includes(u) || (B.push(u), A(u))
            },
            j = (u, f) => {
                X(`"${u}" is deprecated and will be removed in the next major release. Please use "${f}" instead.`)
            },
            ie = u => typeof u == "function" ? u() : u,
            v = u => u && typeof u.toPromise == "function",
            $ = u => v(u) ? u.toPromise() : Promise.resolve(u),
            W = u => u && Promise.resolve(u) === u,
            ne = () => document.body.querySelector(`.${o.container}`),
            oe = u => {
                const f = ne();
                return f ? f.querySelector(u) : null
            },
            ue = u => oe(`.${u}`),
            d = () => ue(o.popup),
            ye = () => ue(o.icon),
            Se = () => ue(o["icon-content"]),
            Ae = () => ue(o.title),
            at = () => ue(o["html-container"]),
            Ve = () => ue(o.image),
            Ke = () => ue(o["progress-steps"]),
            qe = () => ue(o["validation-message"]),
            K = () => oe(`.${o.actions} .${o.confirm}`),
            le = () => oe(`.${o.actions} .${o.deny}`),
            De = () => ue(o["input-label"]),
            Ie = () => oe(`.${o.loader}`),
            we = () => oe(`.${o.actions} .${o.cancel}`),
            he = () => ue(o.actions),
            ke = () => ue(o.footer),
            Te = () => ue(o["timer-progress-bar"]),
            Fe = () => ue(o.close),
            rt = `
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,
            Tt = () => {
                const u = Array.from(d().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((C, q) => {
                        const fe = parseInt(C.getAttribute("tabindex")),
                            He = parseInt(q.getAttribute("tabindex"));
                        return fe > He ? 1 : fe < He ? -1 : 0
                    }),
                    f = Array.from(d().querySelectorAll(rt)).filter(C => C.getAttribute("tabindex") !== "-1");
                return w(u.concat(f)).filter(C => lt(C))
            },
            si = () => T(document.body, o.shown) && !T(document.body, o["toast-shown"]) && !T(document.body, o["no-backdrop"]),
            jt = () => d() && T(d(), o.toast),
            k = () => d().hasAttribute("data-loading"),
            c = {
                previousBodyPadding: null
            },
            m = (u, f) => {
                if (u.textContent = "", f) {
                    const q = new DOMParser().parseFromString(f, "text/html");
                    Array.from(q.querySelector("head").childNodes).forEach(fe => {
                        u.appendChild(fe)
                    }), Array.from(q.querySelector("body").childNodes).forEach(fe => {
                        fe instanceof HTMLVideoElement || fe instanceof HTMLAudioElement ? u.appendChild(fe.cloneNode(!0)) : u.appendChild(fe)
                    })
                }
            },
            T = (u, f) => {
                if (!f) return !1;
                const C = f.split(/\s+/);
                for (let q = 0; q < C.length; q++)
                    if (!u.classList.contains(C[q])) return !1;
                return !0
            },
            R = (u, f) => {
                Array.from(u.classList).forEach(C => {
                    !Object.values(o).includes(C) && !Object.values(p).includes(C) && !Object.values(f.showClass).includes(C) && u.classList.remove(C)
                })
            },
            N = (u, f, C) => {
                if (R(u, f), f.customClass && f.customClass[C]) {
                    if (typeof f.customClass[C] != "string" && !f.customClass[C].forEach) {
                        A(`Invalid type of customClass.${C}! Expected string or iterable object, got "${typeof f.customClass[C]}"`);
                        return
                    }
                    se(u, f.customClass[C])
                }
            },
            F = (u, f) => {
                if (!f) return null;
                switch (f) {
                    case "select":
                    case "textarea":
                    case "file":
                        return u.querySelector(`.${o.popup} > .${o[f]}`);
                    case "checkbox":
                        return u.querySelector(`.${o.popup} > .${o.checkbox} input`);
                    case "radio":
                        return u.querySelector(`.${o.popup} > .${o.radio} input:checked`) || u.querySelector(`.${o.popup} > .${o.radio} input:first-child`);
                    case "range":
                        return u.querySelector(`.${o.popup} > .${o.range} input`);
                    default:
                        return u.querySelector(`.${o.popup} > .${o.input}`)
                }
            },
            re = u => {
                if (u.focus(), u.type !== "file") {
                    const f = u.value;
                    u.value = "", u.value = f
                }
            },
            Ee = (u, f, C) => {
                !u || !f || (typeof f == "string" && (f = f.split(/\s+/).filter(Boolean)), f.forEach(q => {
                    Array.isArray(u) ? u.forEach(fe => {
                        C ? fe.classList.add(q) : fe.classList.remove(q)
                    }) : C ? u.classList.add(q) : u.classList.remove(q)
                }))
            },
            se = (u, f) => {
                Ee(u, f, !0)
            },
            Oe = (u, f) => {
                Ee(u, f, !1)
            },
            Le = (u, f) => {
                const C = Array.from(u.children);
                for (let q = 0; q < C.length; q++) {
                    const fe = C[q];
                    if (fe instanceof HTMLElement && T(fe, f)) return fe
                }
            },
            gt = (u, f, C) => {
                C === `${parseInt(C)}` && (C = parseInt(C)), C || parseInt(C) === 0 ? u.style[f] = typeof C == "number" ? `${C}px` : C : u.style.removeProperty(f)
            },
            ft = function(u) {
                let f = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "flex";
                u.style.display = f
            },
            Et = u => {
                u.style.display = "none"
            },
            _t = (u, f, C, q) => {
                const fe = u.querySelector(f);
                fe && (fe.style[C] = q)
            },
            vt = function(u, f) {
                let C = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "flex";
                f ? ft(u, C) : Et(u)
            },
            lt = u => !!(u && (u.offsetWidth || u.offsetHeight || u.getClientRects().length)),
            oi = () => !lt(K()) && !lt(le()) && !lt(we()),
            ai = u => u.scrollHeight > u.clientHeight,
            ui = u => {
                const f = window.getComputedStyle(u),
                    C = parseFloat(f.getPropertyValue("animation-duration") || "0"),
                    q = parseFloat(f.getPropertyValue("transition-duration") || "0");
                return C > 0 || q > 0
            },
            H = function(u) {
                let f = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
                const C = Te();
                lt(C) && (f && (C.style.transition = "none", C.style.width = "100%"), setTimeout(() => {
                    C.style.transition = `width ${u/1e3}s linear`, C.style.width = "0%"
                }, 10))
            },
            V = () => {
                const u = Te(),
                    f = parseInt(window.getComputedStyle(u).width);
                u.style.removeProperty("transition"), u.style.width = "100%";
                const C = parseInt(window.getComputedStyle(u).width),
                    q = f / C * 100;
                u.style.width = `${q}%`
            },
            Z = 100,
            P = {},
            Y = () => {
                P.previousActiveElement instanceof HTMLElement ? (P.previousActiveElement.focus(), P.previousActiveElement = null) : document.body && document.body.focus()
            },
            ge = u => new Promise(f => {
                if (!u) return f();
                const C = window.scrollX,
                    q = window.scrollY;
                P.restoreFocusTimeout = setTimeout(() => {
                    Y(), f()
                }, Z), window.scrollTo(C, q)
            }),
            be = () => typeof window > "u" || typeof document > "u",
            Ne = `
 <div aria-labelledby="${o.title}" aria-describedby="${o["html-container"]}" class="${o.popup}" tabindex="-1">
   <button type="button" class="${o.close}"></button>
   <ul class="${o["progress-steps"]}"></ul>
   <div class="${o.icon}"></div>
   <img class="${o.image}" />
   <h2 class="${o.title}" id="${o.title}"></h2>
   <div class="${o["html-container"]}" id="${o["html-container"]}"></div>
   <input class="${o.input}" />
   <input type="file" class="${o.file}" />
   <div class="${o.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${o.select}"></select>
   <div class="${o.radio}"></div>
   <label for="${o.checkbox}" class="${o.checkbox}">
     <input type="checkbox" />
     <span class="${o.label}"></span>
   </label>
   <textarea class="${o.textarea}"></textarea>
   <div class="${o["validation-message"]}" id="${o["validation-message"]}"></div>
   <div class="${o.actions}">
     <div class="${o.loader}"></div>
     <button type="button" class="${o.confirm}"></button>
     <button type="button" class="${o.deny}"></button>
     <button type="button" class="${o.cancel}"></button>
   </div>
   <div class="${o.footer}"></div>
   <div class="${o["timer-progress-bar-container"]}">
     <div class="${o["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g, ""),
            Be = () => {
                const u = ne();
                return u ? (u.remove(), Oe([document.documentElement, document.body], [o["no-backdrop"], o["toast-shown"], o["has-column"]]), !0) : !1
            },
            ht = () => {
                P.currentInstance.resetValidationMessage()
            },
            Zt = () => {
                const u = d(),
                    f = Le(u, o.input),
                    C = Le(u, o.file),
                    q = u.querySelector(`.${o.range} input`),
                    fe = u.querySelector(`.${o.range} output`),
                    He = Le(u, o.select),
                    Kt = u.querySelector(`.${o.checkbox} input`),
                    Yi = Le(u, o.textarea);
                f.oninput = ht, C.onchange = ht, He.onchange = ht, Kt.onchange = ht, Yi.oninput = ht, q.oninput = () => {
                    ht(), fe.value = q.value
                }, q.onchange = () => {
                    ht(), fe.value = q.value
                }
            },
            Ze = u => typeof u == "string" ? document.querySelector(u) : u,
            qi = u => {
                const f = d();
                f.setAttribute("role", u.toast ? "alert" : "dialog"), f.setAttribute("aria-live", u.toast ? "polite" : "assertive"), u.toast || f.setAttribute("aria-modal", "true")
            },
            Ui = u => {
                window.getComputedStyle(u).direction === "rtl" && se(ne(), o.rtl)
            },
            zi = u => {
                const f = Be();
                if (be()) {
                    D("SweetAlert2 requires document to initialize");
                    return
                }
                const C = document.createElement("div");
                C.className = o.container, f && se(C, o["no-transition"]), m(C, Ne);
                const q = Ze(u.target);
                q.appendChild(C), qi(u), Ui(q), Zt()
            },
            Ai = (u, f) => {
                u instanceof HTMLElement ? f.appendChild(u) : typeof u == "object" ? Un(u, f) : u && m(f, u)
            },
            Un = (u, f) => {
                u.jquery ? ns(f, u) : m(f, u.toString())
            },
            ns = (u, f) => {
                if (u.textContent = "", 0 in f)
                    for (let C = 0; C in f; C++) u.appendChild(f[C].cloneNode(!0));
                else u.appendChild(f.cloneNode(!0))
            },
            hi = (() => {
                if (be()) return !1;
                const u = document.createElement("div"),
                    f = {
                        WebkitAnimation: "webkitAnimationEnd",
                        animation: "animationend"
                    };
                for (const C in f)
                    if (Object.prototype.hasOwnProperty.call(f, C) && typeof u.style[C] < "u") return f[C];
                return !1
            })(),
            Hi = () => {
                const u = document.createElement("div");
                u.className = o["scrollbar-measure"], document.body.appendChild(u);
                const f = u.getBoundingClientRect().width - u.clientWidth;
                return document.body.removeChild(u), f
            },
            rs = (u, f) => {
                const C = he(),
                    q = Ie();
                !f.showConfirmButton && !f.showDenyButton && !f.showCancelButton ? Et(C) : ft(C), N(C, f, "actions"), ss(C, q, f), m(q, f.loaderHtml), N(q, f, "loader")
            };

        function ss(u, f, C) {
            const q = K(),
                fe = le(),
                He = we();
            Sn(q, "confirm", C), Sn(fe, "deny", C), Sn(He, "cancel", C), zn(q, fe, He, C), C.reverseButtons && (C.toast ? (u.insertBefore(He, q), u.insertBefore(fe, q)) : (u.insertBefore(He, f), u.insertBefore(fe, f), u.insertBefore(q, f)))
        }

        function zn(u, f, C, q) {
            if (!q.buttonsStyling) {
                Oe([u, f, C], o.styled);
                return
            }
            se([u, f, C], o.styled), q.confirmButtonColor && (u.style.backgroundColor = q.confirmButtonColor, se(u, o["default-outline"])), q.denyButtonColor && (f.style.backgroundColor = q.denyButtonColor, se(f, o["default-outline"])), q.cancelButtonColor && (C.style.backgroundColor = q.cancelButtonColor, se(C, o["default-outline"]))
        }

        function Sn(u, f, C) {
            vt(u, C[`show${x(f)}Button`], "inline-block"), m(u, C[`${f}ButtonText`]), u.setAttribute("aria-label", C[`${f}ButtonAriaLabel`]), u.className = o[f], N(u, C, `${f}Button`), se(u, C[`${f}ButtonClass`])
        }
        const Hn = (u, f) => {
                const C = Fe();
                m(C, f.closeButtonHtml), N(C, f, "closeButton"), vt(C, f.showCloseButton), C.setAttribute("aria-label", f.closeButtonAriaLabel)
            },
            os = (u, f) => {
                const C = ne();
                C && (fr(C, f.backdrop), pr(C, f.position), Gi(C, f.grow), N(C, f, "container"))
            };

        function fr(u, f) {
            typeof f == "string" ? u.style.background = f : f || se([document.documentElement, document.body], o["no-backdrop"])
        }

        function pr(u, f) {
            f in o ? se(u, o[f]) : (A('The "position" parameter is not valid, defaulting to "center"'), se(u, o.center))
        }

        function Gi(u, f) {
            if (f && typeof f == "string") {
                const C = `grow-${f}`;
                C in o && se(u, o[C])
            }
        }
        const gr = ["input", "file", "range", "select", "radio", "checkbox", "textarea"],
            Gn = (u, f) => {
                const C = d(),
                    q = i.innerParams.get(u),
                    fe = !q || f.input !== q.input;
                gr.forEach(He => {
                    const Kt = Le(C, o[He]);
                    as(He, f.inputAttributes), Kt.className = o[He], fe && Et(Kt)
                }), f.input && (fe && on(f), tt(f))
            },
            on = u => {
                if (!Q[u.input]) {
                    D(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${u.input}"`);
                    return
                }
                const f = E(u.input),
                    C = Q[u.input](f, u);
                ft(f), u.inputAutoFocus && setTimeout(() => {
                    re(C)
                })
            },
            mr = u => {
                for (let f = 0; f < u.attributes.length; f++) {
                    const C = u.attributes[f].name;
                    ["type", "value", "style"].includes(C) || u.removeAttribute(C)
                }
            },
            as = (u, f) => {
                const C = F(d(), u);
                if (C) {
                    mr(C);
                    for (const q in f) C.setAttribute(q, f[q])
                }
            },
            tt = u => {
                const f = E(u.input);
                typeof u.customClass == "object" && se(f, u.customClass.input)
            },
            b = (u, f) => {
                (!u.placeholder || f.inputPlaceholder) && (u.placeholder = f.inputPlaceholder)
            },
            l = (u, f, C) => {
                if (C.inputLabel) {
                    u.id = o.input;
                    const q = document.createElement("label"),
                        fe = o["input-label"];
                    q.setAttribute("for", u.id), q.className = fe, typeof C.customClass == "object" && se(q, C.customClass.inputLabel), q.innerText = C.inputLabel, f.insertAdjacentElement("beforebegin", q)
                }
            },
            E = u => Le(d(), o[u] || o.input),
            L = (u, f) => {
                ["string", "number"].includes(typeof f) ? u.value = `${f}` : W(f) || A(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof f}"`)
            },
            Q = {};
        Q.text = Q.email = Q.password = Q.number = Q.tel = Q.url = (u, f) => (L(u, f.inputValue), l(u, u, f), b(u, f), u.type = f.input, u), Q.file = (u, f) => (l(u, u, f), b(u, f), u), Q.range = (u, f) => {
            const C = u.querySelector("input"),
                q = u.querySelector("output");
            return L(C, f.inputValue), C.type = f.input, L(q, f.inputValue), l(C, u, f), u
        }, Q.select = (u, f) => {
            if (u.textContent = "", f.inputPlaceholder) {
                const C = document.createElement("option");
                m(C, f.inputPlaceholder), C.value = "", C.disabled = !0, C.selected = !0, u.appendChild(C)
            }
            return l(u, u, f), u
        }, Q.radio = u => (u.textContent = "", u), Q.checkbox = (u, f) => {
            const C = F(d(), "checkbox");
            C.value = "1", C.id = o.checkbox, C.checked = !!f.inputValue;
            const q = u.querySelector("span");
            return m(q, f.inputPlaceholder), C
        }, Q.textarea = (u, f) => {
            L(u, f.inputValue), b(u, f), l(u, u, f);
            const C = q => parseInt(window.getComputedStyle(q).marginLeft) + parseInt(window.getComputedStyle(q).marginRight);
            return setTimeout(() => {
                if ("MutationObserver" in window) {
                    const q = parseInt(window.getComputedStyle(d()).width),
                        fe = () => {
                            const He = u.offsetWidth + C(u);
                            He > q ? d().style.width = `${He}px` : d().style.width = null
                        };
                    new MutationObserver(fe).observe(u, {
                        attributes: !0,
                        attributeFilter: ["style"]
                    })
                }
            }), u
        };
        const _e = (u, f) => {
                const C = at();
                N(C, f, "htmlContainer"), f.html ? (Ai(f.html, C), ft(C, "block")) : f.text ? (C.textContent = f.text, ft(C, "block")) : Et(C), Gn(u, f)
            },
            Xe = (u, f) => {
                const C = ke();
                vt(C, f.footer), f.footer && Ai(f.footer, C), N(C, f, "footer")
            },
            Nt = (u, f) => {
                const C = i.innerParams.get(u),
                    q = ye();
                if (C && f.icon === C.icon) {
                    cs(q, f), Yt(q, f);
                    return
                }
                if (!f.icon && !f.iconHtml) {
                    Et(q);
                    return
                }
                if (f.icon && Object.keys(p).indexOf(f.icon) === -1) {
                    D(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${f.icon}"`), Et(q);
                    return
                }
                ft(q), cs(q, f), Yt(q, f), se(q, f.showClass.icon)
            },
            Yt = (u, f) => {
                for (const C in p) f.icon !== C && Oe(u, p[C]);
                se(u, p[f.icon]), di(u, f), an(), N(u, f, "icon")
            },
            an = () => {
                const u = d(),
                    f = window.getComputedStyle(u).getPropertyValue("background-color"),
                    C = u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");
                for (let q = 0; q < C.length; q++) C[q].style.backgroundColor = f
            },
            kn = `
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,
            ls = `
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,
            cs = (u, f) => {
                let C = u.innerHTML,
                    q;
                f.iconHtml ? q = ln(f.iconHtml) : f.icon === "success" ? (q = kn, C = C.replace(/ style=".*?"/g, "")) : f.icon === "error" ? q = ls : q = ln({
                    question: "?",
                    warning: "!",
                    info: "i"
                } [f.icon]), C.trim() !== q.trim() && m(u, q)
            },
            di = (u, f) => {
                if (f.iconColor) {
                    u.style.color = f.iconColor, u.style.borderColor = f.iconColor;
                    for (const C of [".swal2-success-line-tip", ".swal2-success-line-long", ".swal2-x-mark-line-left", ".swal2-x-mark-line-right"]) _t(u, C, "backgroundColor", f.iconColor);
                    _t(u, ".swal2-success-ring", "borderColor", f.iconColor)
                }
            },
            ln = u => `<div class="${o["icon-content"]}">${u}</div>`,
            vr = (u, f) => {
                const C = Ve();
                if (!f.imageUrl) {
                    Et(C);
                    return
                }
                ft(C, ""), C.setAttribute("src", f.imageUrl), C.setAttribute("alt", f.imageAlt), gt(C, "width", f.imageWidth), gt(C, "height", f.imageHeight), C.className = o.image, N(C, f, "image")
            },
            Oa = (u, f) => {
                const C = ne(),
                    q = d();
                f.toast ? (gt(C, "width", f.width), q.style.width = "100%", q.insertBefore(Ie(), ye())) : gt(q, "width", f.width), gt(q, "padding", f.padding), f.color && (q.style.color = f.color), f.background && (q.style.background = f.background), Et(qe()), Ia(q, f)
            },
            Ia = (u, f) => {
                u.className = `${o.popup} ${lt(u)?f.showClass.popup:""}`, f.toast ? (se([document.documentElement, document.body], o["toast-shown"]), se(u, o.toast)) : se(u, o.modal), N(u, f, "popup"), typeof f.customClass == "string" && se(u, f.customClass), f.icon && se(u, o[`icon-${f.icon}`])
            },
            us = (u, f) => {
                const C = Ke();
                if (!f.progressSteps || f.progressSteps.length === 0) {
                    Et(C);
                    return
                }
                ft(C), C.textContent = "", f.currentProgressStep >= f.progressSteps.length && A("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"), f.progressSteps.forEach((q, fe) => {
                    const He = ro(q);
                    if (C.appendChild(He), fe === f.currentProgressStep && se(He, o["active-progress-step"]), fe !== f.progressSteps.length - 1) {
                        const Kt = yr(f);
                        C.appendChild(Kt)
                    }
                })
            },
            ro = u => {
                const f = document.createElement("li");
                return se(f, o["progress-step"]), m(f, u), f
            },
            yr = u => {
                const f = document.createElement("li");
                return se(f, o["progress-step-line"]), u.progressStepsDistance && gt(f, "width", u.progressStepsDistance), f
            },
            so = (u, f) => {
                const C = Ae();
                vt(C, f.title || f.titleText, "block"), f.title && Ai(f.title, C), f.titleText && (C.innerText = f.titleText), N(C, f, "title")
            },
            oo = (u, f) => {
                Oa(u, f), os(u, f), us(u, f), Nt(u, f), vr(u, f), so(u, f), Hn(u, f), _e(u, f), rs(u, f), Xe(u, f), typeof f.didRender == "function" && f.didRender(d())
            };

        function ao() {
            const u = i.innerParams.get(this);
            if (!u) return;
            const f = i.domCache.get(this);
            Et(f.loader), jt() ? u.icon && ft(ye()) : Oi(f), Oe([f.popup, f.actions], o.loading), f.popup.removeAttribute("aria-busy"), f.popup.removeAttribute("data-loading"), f.confirmButton.disabled = !1, f.denyButton.disabled = !1, f.cancelButton.disabled = !1
        }
        const Oi = u => {
            const f = u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));
            f.length ? ft(f[0], "inline-block") : oi() && Et(u.actions)
        };

        function lo(u) {
            const f = i.innerParams.get(u || this),
                C = i.domCache.get(u || this);
            return C ? F(C.popup, f.input) : null
        }
        const Wn = () => lt(d()),
            co = () => K() && K().click(),
            Ra = () => le() && le().click(),
            cn = () => we() && we().click(),
            Ei = Object.freeze({
                cancel: "cancel",
                backdrop: "backdrop",
                close: "close",
                esc: "esc",
                timer: "timer"
            }),
            wr = u => {
                u.keydownTarget && u.keydownHandlerAdded && (u.keydownTarget.removeEventListener("keydown", u.keydownHandler, {
                    capture: u.keydownListenerCapture
                }), u.keydownHandlerAdded = !1)
            },
            Ma = (u, f, C, q) => {
                wr(f), C.toast || (f.keydownHandler = fe => uo(u, fe, q), f.keydownTarget = C.keydownListenerCapture ? window : d(), f.keydownListenerCapture = C.keydownListenerCapture, f.keydownTarget.addEventListener("keydown", f.keydownHandler, {
                    capture: f.keydownListenerCapture
                }), f.keydownHandlerAdded = !0)
            },
            br = (u, f) => {
                const C = Tt();
                if (C.length) {
                    u = u + f, u === C.length ? u = 0 : u === -1 && (u = C.length - 1), C[u].focus();
                    return
                }
                d().focus()
            },
            hs = ["ArrowRight", "ArrowDown"],
            Kn = ["ArrowLeft", "ArrowUp"],
            uo = (u, f, C) => {
                const q = i.innerParams.get(u);
                q && (f.isComposing || f.keyCode === 229 || (q.stopKeydownPropagation && f.stopPropagation(), f.key === "Enter" ? ds(u, f, q) : f.key === "Tab" ? Da(f) : [...hs, ...Kn].includes(f.key) ? ho(f.key) : f.key === "Escape" && La(f, q, C)))
            },
            ds = (u, f, C) => {
                if (ie(C.allowEnterKey) && f.target && u.getInput() && f.target instanceof HTMLElement && f.target.outerHTML === u.getInput().outerHTML) {
                    if (["textarea", "file"].includes(C.input)) return;
                    co(), f.preventDefault()
                }
            },
            Da = u => {
                const f = u.target,
                    C = Tt();
                let q = -1;
                for (let fe = 0; fe < C.length; fe++)
                    if (f === C[fe]) {
                        q = fe;
                        break
                    } u.shiftKey ? br(q, -1) : br(q, 1), u.stopPropagation(), u.preventDefault()
            },
            ho = u => {
                const f = K(),
                    C = le(),
                    q = we();
                if (document.activeElement instanceof HTMLElement && ![f, C, q].includes(document.activeElement)) return;
                const fe = hs.includes(u) ? "nextElementSibling" : "previousElementSibling";
                let He = document.activeElement;
                for (let Kt = 0; Kt < he().children.length; Kt++) {
                    if (He = He[fe], !He) return;
                    if (He instanceof HTMLButtonElement && lt(He)) break
                }
                He instanceof HTMLButtonElement && He.focus()
            },
            La = (u, f, C) => {
                ie(f.allowEscapeKey) && (u.preventDefault(), C(Ei.esc))
            };
        var Xn = {
            swalPromiseResolve: new WeakMap,
            swalPromiseReject: new WeakMap
        };
        const fs = () => {
                Array.from(document.body.children).forEach(f => {
                    f === ne() || f.contains(ne()) || (f.hasAttribute("aria-hidden") && f.setAttribute("data-previous-aria-hidden", f.getAttribute("aria-hidden")), f.setAttribute("aria-hidden", "true"))
                })
            },
            fo = () => {
                Array.from(document.body.children).forEach(f => {
                    f.hasAttribute("data-previous-aria-hidden") ? (f.setAttribute("aria-hidden", f.getAttribute("data-previous-aria-hidden")), f.removeAttribute("data-previous-aria-hidden")) : f.removeAttribute("aria-hidden")
                })
            },
            Pa = () => {
                if ((/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream || navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1) && !T(document.body, o.iosfix)) {
                    const f = document.body.scrollTop;
                    document.body.style.top = `${f*-1}px`, se(document.body, o.iosfix), Na(), $a()
                }
            },
            $a = () => {
                const u = navigator.userAgent,
                    f = !!u.match(/iPad/i) || !!u.match(/iPhone/i),
                    C = !!u.match(/WebKit/i);
                f && C && !u.match(/CriOS/i) && d().scrollHeight > window.innerHeight - 44 && (ne().style.paddingBottom = "44px")
            },
            Na = () => {
                const u = ne();
                let f;
                u.ontouchstart = C => {
                    f = Ba(C)
                }, u.ontouchmove = C => {
                    f && (C.preventDefault(), C.stopPropagation())
                }
            },
            Ba = u => {
                const f = u.target,
                    C = ne();
                return Va(u) || Fa(u) ? !1 : f === C || !ai(C) && f instanceof HTMLElement && f.tagName !== "INPUT" && f.tagName !== "TEXTAREA" && !(ai(at()) && at().contains(f))
            },
            Va = u => u.touches && u.touches.length && u.touches[0].touchType === "stylus",
            Fa = u => u.touches && u.touches.length > 1,
            po = () => {
                if (T(document.body, o.iosfix)) {
                    const u = parseInt(document.body.style.top, 10);
                    Oe(document.body, o.iosfix), document.body.style.top = "", document.body.scrollTop = u * -1
                }
            },
            ps = () => {
                c.previousBodyPadding === null && document.body.scrollHeight > window.innerHeight && (c.previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")), document.body.style.paddingRight = `${c.previousBodyPadding+Hi()}px`)
            },
            go = () => {
                c.previousBodyPadding !== null && (document.body.style.paddingRight = `${c.previousBodyPadding}px`, c.previousBodyPadding = null)
            };

        function _r(u, f, C, q) {
            jt() ? yo(u, q) : (ge(C).then(() => yo(u, q)), wr(P)), /^((?!chrome|android).)*safari/i.test(navigator.userAgent) ? (f.setAttribute("style", "display:none !important"), f.removeAttribute("class"), f.innerHTML = "") : f.remove(), si() && (go(), po(), fo()), mo()
        }

        function mo() {
            Oe([document.documentElement, document.body], [o.shown, o["height-auto"], o["no-backdrop"], o["toast-shown"]])
        }

        function Yn(u) {
            u = Qn(u);
            const f = Xn.swalPromiseResolve.get(this),
                C = ja(this);
            this.isAwaitingPromise() ? u.isDismissed || (Jn(this), f(u)) : C && f(u)
        }

        function gs() {
            return !!i.awaitingPromise.get(this)
        }
        const ja = u => {
            const f = d();
            if (!f) return !1;
            const C = i.innerParams.get(u);
            if (!C || T(f, C.hideClass.popup)) return !1;
            Oe(f, C.showClass.popup), se(f, C.hideClass.popup);
            const q = ne();
            return Oe(q, C.showClass.backdrop), se(q, C.hideClass.backdrop), vo(u, f, C), !0
        };

        function qa(u) {
            const f = Xn.swalPromiseReject.get(this);
            Jn(this), f && f(u)
        }
        const Jn = u => {
                u.isAwaitingPromise() && (i.awaitingPromise.delete(u), i.innerParams.get(u) || u._destroy())
            },
            Qn = u => typeof u > "u" ? {
                isConfirmed: !1,
                isDenied: !1,
                isDismissed: !0
            } : Object.assign({
                isConfirmed: !1,
                isDenied: !1,
                isDismissed: !1
            }, u),
            vo = (u, f, C) => {
                const q = ne(),
                    fe = hi && ui(f);
                typeof C.willClose == "function" && C.willClose(f), fe ? ms(u, f, q, C.returnFocus, C.didClose) : _r(u, q, C.returnFocus, C.didClose)
            },
            ms = (u, f, C, q, fe) => {
                P.swalCloseEventFinishedCallback = _r.bind(null, u, C, q, fe), f.addEventListener(hi, function(He) {
                    He.target === f && (P.swalCloseEventFinishedCallback(), delete P.swalCloseEventFinishedCallback)
                })
            },
            yo = (u, f) => {
                setTimeout(() => {
                    typeof f == "function" && f.bind(u.params)(), u._destroy()
                })
            };

        function wo(u, f, C) {
            const q = i.domCache.get(u);
            f.forEach(fe => {
                q[fe].disabled = C
            })
        }

        function bo(u, f) {
            if (u)
                if (u.type === "radio") {
                    const q = u.parentNode.parentNode.querySelectorAll("input");
                    for (let fe = 0; fe < q.length; fe++) q[fe].disabled = f
                } else u.disabled = f
        }

        function r() {
            wo(this, ["confirmButton", "denyButton", "cancelButton"], !1)
        }

        function a() {
            wo(this, ["confirmButton", "denyButton", "cancelButton"], !0)
        }

        function h() {
            bo(this.getInput(), !1)
        }

        function g() {
            bo(this.getInput(), !0)
        }

        function _(u) {
            const f = i.domCache.get(this),
                C = i.innerParams.get(this);
            m(f.validationMessage, u), f.validationMessage.className = o["validation-message"], C.customClass && C.customClass.validationMessage && se(f.validationMessage, C.customClass.validationMessage), ft(f.validationMessage);
            const q = this.getInput();
            q && (q.setAttribute("aria-invalid", !0), q.setAttribute("aria-describedby", o["validation-message"]), re(q), se(q, o.inputerror))
        }

        function S() {
            const u = i.domCache.get(this);
            u.validationMessage && Et(u.validationMessage);
            const f = this.getInput();
            f && (f.removeAttribute("aria-invalid"), f.removeAttribute("aria-describedby"), Oe(f, o.inputerror))
        }
        const O = {
                title: "",
                titleText: "",
                text: "",
                html: "",
                footer: "",
                icon: void 0,
                iconColor: void 0,
                iconHtml: void 0,
                template: void 0,
                toast: !1,
                showClass: {
                    popup: "swal2-show",
                    backdrop: "swal2-backdrop-show",
                    icon: "swal2-icon-show"
                },
                hideClass: {
                    popup: "swal2-hide",
                    backdrop: "swal2-backdrop-hide",
                    icon: "swal2-icon-hide"
                },
                customClass: {},
                target: "body",
                color: void 0,
                backdrop: !0,
                heightAuto: !0,
                allowOutsideClick: !0,
                allowEscapeKey: !0,
                allowEnterKey: !0,
                stopKeydownPropagation: !0,
                keydownListenerCapture: !1,
                showConfirmButton: !0,
                showDenyButton: !1,
                showCancelButton: !1,
                preConfirm: void 0,
                preDeny: void 0,
                confirmButtonText: "OK",
                confirmButtonAriaLabel: "",
                confirmButtonColor: void 0,
                denyButtonText: "No",
                denyButtonAriaLabel: "",
                denyButtonColor: void 0,
                cancelButtonText: "Cancel",
                cancelButtonAriaLabel: "",
                cancelButtonColor: void 0,
                buttonsStyling: !0,
                reverseButtons: !1,
                focusConfirm: !0,
                focusDeny: !1,
                focusCancel: !1,
                returnFocus: !0,
                showCloseButton: !1,
                closeButtonHtml: "&times;",
                closeButtonAriaLabel: "Close this dialog",
                loaderHtml: "",
                showLoaderOnConfirm: !1,
                showLoaderOnDeny: !1,
                imageUrl: void 0,
                imageWidth: void 0,
                imageHeight: void 0,
                imageAlt: "",
                timer: void 0,
                timerProgressBar: !1,
                width: void 0,
                padding: void 0,
                background: void 0,
                input: void 0,
                inputPlaceholder: "",
                inputLabel: "",
                inputValue: "",
                inputOptions: {},
                inputAutoFocus: !0,
                inputAutoTrim: !0,
                inputAttributes: {},
                inputValidator: void 0,
                returnInputValueOnDeny: !1,
                validationMessage: void 0,
                grow: !1,
                position: "center",
                progressSteps: [],
                currentProgressStep: void 0,
                progressStepsDistance: void 0,
                willOpen: void 0,
                didOpen: void 0,
                didRender: void 0,
                willClose: void 0,
                didClose: void 0,
                didDestroy: void 0,
                scrollbarPadding: !0
            },
            z = ["allowEscapeKey", "allowOutsideClick", "background", "buttonsStyling", "cancelButtonAriaLabel", "cancelButtonColor", "cancelButtonText", "closeButtonAriaLabel", "closeButtonHtml", "color", "confirmButtonAriaLabel", "confirmButtonColor", "confirmButtonText", "currentProgressStep", "customClass", "denyButtonAriaLabel", "denyButtonColor", "denyButtonText", "didClose", "didDestroy", "footer", "hideClass", "html", "icon", "iconColor", "iconHtml", "imageAlt", "imageHeight", "imageUrl", "imageWidth", "preConfirm", "preDeny", "progressSteps", "returnFocus", "reverseButtons", "showCancelButton", "showCloseButton", "showConfirmButton", "showDenyButton", "text", "title", "titleText", "willClose"],
            G = {},
            ee = ["allowOutsideClick", "allowEnterKey", "backdrop", "focusConfirm", "focusDeny", "focusCancel", "returnFocus", "heightAuto", "keydownListenerCapture"],
            ce = u => Object.prototype.hasOwnProperty.call(O, u),
            Ce = u => z.indexOf(u) !== -1,
            ae = u => G[u],
            de = u => {
                ce(u) || A(`Unknown parameter "${u}"`)
            },
            Ge = u => {
                ee.includes(u) && A(`The parameter "${u}" is incompatible with toasts`)
            },
            st = u => {
                ae(u) && j(u, ae(u))
            },
            We = u => {
                u.backdrop === !1 && u.allowOutsideClick && A('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');
                for (const f in u) de(f), u.toast && Ge(f), st(f)
            };

        function Gt(u) {
            const f = d(),
                C = i.innerParams.get(this);
            if (!f || T(f, C.hideClass.popup)) {
                A("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");
                return
            }
            const q = Ut(u),
                fe = Object.assign({}, C, q);
            oo(this, fe), i.innerParams.set(this, fe), Object.defineProperties(this, {
                params: {
                    value: Object.assign({}, this.params, u),
                    writable: !1,
                    enumerable: !0
                }
            })
        }
        const Ut = u => {
            const f = {};
            return Object.keys(u).forEach(C => {
                Ce(C) ? f[C] = u[C] : A(`Invalid parameter to update: ${C}`)
            }), f
        };

        function yi() {
            const u = i.domCache.get(this),
                f = i.innerParams.get(this);
            if (!f) {
                it(this);
                return
            }
            u.popup && P.swalCloseEventFinishedCallback && (P.swalCloseEventFinishedCallback(), delete P.swalCloseEventFinishedCallback), typeof f.didDestroy == "function" && f.didDestroy(), At(this)
        }
        const At = u => {
                it(u), delete u.params, delete P.keydownHandler, delete P.keydownTarget, delete P.currentInstance
            },
            it = u => {
                u.isAwaitingPromise() ? (ti(i, u), i.awaitingPromise.set(u, !0)) : (ti(Xn, u), ti(i, u))
            },
            ti = (u, f) => {
                for (const C in u) u[C].delete(f)
            };
        var mt = Object.freeze({
            __proto__: null,
            hideLoading: ao,
            disableLoading: ao,
            getInput: lo,
            close: Yn,
            isAwaitingPromise: gs,
            rejectPromise: qa,
            handleAwaitingPromise: Jn,
            closePopup: Yn,
            closeModal: Yn,
            closeToast: Yn,
            enableButtons: r,
            disableButtons: a,
            enableInput: h,
            disableInput: g,
            showValidationMessage: _,
            resetValidationMessage: S,
            update: Gt,
            _destroy: yi
        });
        const Ot = u => {
                let f = d();
                f || new Dt, f = d();
                const C = Ie();
                jt() ? Et(ye()) : Zn(f, u), ft(C), f.setAttribute("data-loading", "true"), f.setAttribute("aria-busy", "true"), f.focus()
            },
            Zn = (u, f) => {
                const C = he(),
                    q = Ie();
                !f && lt(K()) && (f = K()), ft(C), f && (Et(f), q.setAttribute("data-button-to-replace", f.className)), q.parentNode.insertBefore(q, f), se([u, C], o.loading)
            },
            Cr = (u, f) => {
                f.input === "select" || f.input === "radio" ? Wi(u, f) : ["text", "email", "number", "tel", "textarea"].includes(f.input) && (v(f.inputValue) || W(f.inputValue)) && (Ot(K()), Si(u, f))
            },
            wi = (u, f) => {
                const C = u.getInput();
                if (!C) return null;
                switch (f.input) {
                    case "checkbox":
                        return un(C);
                    case "radio":
                        return hn(C);
                    case "file":
                        return fi(C);
                    default:
                        return f.inputAutoTrim ? C.value.trim() : C.value
                }
            },
            un = u => u.checked ? 1 : 0,
            hn = u => u.checked ? u.value : null,
            fi = u => u.files.length ? u.getAttribute("multiple") !== null ? u.files : u.files[0] : null,
            Wi = (u, f) => {
                const C = d(),
                    q = fe => {
                        Ki[f.input](C, xr(fe), f)
                    };
                v(f.inputOptions) || W(f.inputOptions) ? (Ot(K()), $(f.inputOptions).then(fe => {
                    u.hideLoading(), q(fe)
                })) : typeof f.inputOptions == "object" ? q(f.inputOptions) : D(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof f.inputOptions}`)
            },
            Si = (u, f) => {
                const C = u.getInput();
                Et(C), $(f.inputValue).then(q => {
                    C.value = f.input === "number" ? `${parseFloat(q)||0}` : `${q}`, ft(C), C.focus(), u.hideLoading()
                }).catch(q => {
                    D(`Error in inputValue promise: ${q}`), C.value = "", ft(C), C.focus(), u.hideLoading()
                })
            },
            Ki = {
                select: (u, f, C) => {
                    const q = Le(u, o.select),
                        fe = (He, Kt, Yi) => {
                            const Ci = document.createElement("option");
                            Ci.value = Yi, m(Ci, Kt), Ci.selected = Xi(Yi, C.inputValue), He.appendChild(Ci)
                        };
                    f.forEach(He => {
                        const Kt = He[0],
                            Yi = He[1];
                        if (Array.isArray(Yi)) {
                            const Ci = document.createElement("optgroup");
                            Ci.label = Kt, Ci.disabled = !1, q.appendChild(Ci), Yi.forEach(Or => fe(Ci, Or[1], Or[0]))
                        } else fe(q, Yi, Kt)
                    }), q.focus()
                },
                radio: (u, f, C) => {
                    const q = Le(u, o.radio);
                    f.forEach(He => {
                        const Kt = He[0],
                            Yi = He[1],
                            Ci = document.createElement("input"),
                            Or = document.createElement("label");
                        Ci.type = "radio", Ci.name = o.radio, Ci.value = Kt, Xi(Kt, C.inputValue) && (Ci.checked = !0);
                        const Za = document.createElement("span");
                        m(Za, Yi), Za.className = o.label, Or.appendChild(Ci), Or.appendChild(Za), q.appendChild(Or)
                    });
                    const fe = q.querySelectorAll("input");
                    fe.length && fe[0].focus()
                }
            },
            xr = u => {
                const f = [];
                return typeof Map < "u" && u instanceof Map ? u.forEach((C, q) => {
                    let fe = C;
                    typeof fe == "object" && (fe = xr(fe)), f.push([q, fe])
                }) : Object.keys(u).forEach(C => {
                    let q = u[C];
                    typeof q == "object" && (q = xr(q)), f.push([C, q])
                }), f
            },
            Xi = (u, f) => f && f.toString() === u.toString(),
            vs = u => {
                const f = i.innerParams.get(u);
                u.disableButtons(), f.input ? ys(u, "confirm") : Er(u, !0)
            },
            Ct = u => {
                const f = i.innerParams.get(u);
                u.disableButtons(), f.returnInputValueOnDeny ? ys(u, "deny") : bs(u, !1)
            },
            dn = (u, f) => {
                u.disableButtons(), f(Ei.cancel)
            },
            ys = (u, f) => {
                const C = i.innerParams.get(u);
                if (!C.input) {
                    D(`The "input" parameter is needed to be set when using returnInputValueOn${x(f)}`);
                    return
                }
                const q = wi(u, C);
                C.inputValidator ? ws(u, q, f) : u.getInput().checkValidity() ? f === "deny" ? bs(u, q) : Er(u, q) : (u.enableButtons(), u.showValidationMessage(C.validationMessage))
            },
            ws = (u, f, C) => {
                const q = i.innerParams.get(u);
                u.disableInput(), Promise.resolve().then(() => $(q.inputValidator(f, q.validationMessage))).then(He => {
                    u.enableButtons(), u.enableInput(), He ? u.showValidationMessage(He) : C === "deny" ? bs(u, f) : Er(u, f)
                })
            },
            bs = (u, f) => {
                const C = i.innerParams.get(u || void 0);
                C.showLoaderOnDeny && Ot(le()), C.preDeny ? (i.awaitingPromise.set(u || void 0, !0), Promise.resolve().then(() => $(C.preDeny(f, C.validationMessage))).then(fe => {
                    fe === !1 ? (u.hideLoading(), Jn(u)) : u.close({
                        isDenied: !0,
                        value: typeof fe > "u" ? f : fe
                    })
                }).catch(fe => _o(u || void 0, fe))) : u.close({
                    isDenied: !0,
                    value: f
                })
            },
            er = (u, f) => {
                u.close({
                    isConfirmed: !0,
                    value: f
                })
            },
            _o = (u, f) => {
                u.rejectPromise(f)
            },
            Er = (u, f) => {
                const C = i.innerParams.get(u || void 0);
                C.showLoaderOnConfirm && Ot(), C.preConfirm ? (u.resetValidationMessage(), i.awaitingPromise.set(u || void 0, !0), Promise.resolve().then(() => $(C.preConfirm(f, C.validationMessage))).then(fe => {
                    lt(qe()) || fe === !1 ? (u.hideLoading(), Jn(u)) : er(u, typeof fe > "u" ? f : fe)
                }).catch(fe => _o(u || void 0, fe))) : er(u, f)
            },
            Ua = (u, f, C) => {
                i.innerParams.get(u).toast ? za(u, f, C) : (Ga(f), Wa(f), Ka(u, f, C))
            },
            za = (u, f, C) => {
                f.popup.onclick = () => {
                    const q = i.innerParams.get(u);
                    q && (Ha(q) || q.timer || q.input) || C(Ei.close)
                }
            },
            Ha = u => u.showConfirmButton || u.showDenyButton || u.showCancelButton || u.showCloseButton;
        let fn = !1;
        const Ga = u => {
                u.popup.onmousedown = () => {
                    u.container.onmouseup = function(f) {
                        u.container.onmouseup = void 0, f.target === u.container && (fn = !0)
                    }
                }
            },
            Wa = u => {
                u.container.onmousedown = () => {
                    u.popup.onmouseup = function(f) {
                        u.popup.onmouseup = void 0, (f.target === u.popup || u.popup.contains(f.target)) && (fn = !0)
                    }
                }
            },
            Ka = (u, f, C) => {
                f.container.onclick = q => {
                    const fe = i.innerParams.get(u);
                    if (fn) {
                        fn = !1;
                        return
                    }
                    q.target === f.container && ie(fe.allowOutsideClick) && C(Ei.backdrop)
                }
            },
            tr = u => typeof u == "object" && u.jquery,
            Co = u => u instanceof Element || tr(u),
            _s = u => {
                const f = {};
                return typeof u[0] == "object" && !Co(u[0]) ? Object.assign(f, u[0]) : ["title", "html", "icon"].forEach((C, q) => {
                    const fe = u[q];
                    typeof fe == "string" || Co(fe) ? f[C] = fe : fe !== void 0 && D(`Unexpected type of ${C}! Expected "string" or "Element", got ${typeof fe}`)
                }), f
            };

        function $i() {
            const u = this;
            for (var f = arguments.length, C = new Array(f), q = 0; q < f; q++) C[q] = arguments[q];
            return new u(...C)
        }

        function Ni(u) {
            class f extends this {
                _main(q, fe) {
                    return super._main(q, Object.assign({}, u, fe))
                }
            }
            return f
        }
        const xo = () => P.timeout && P.timeout.getTimerLeft(),
            Cs = () => {
                if (P.timeout) return V(), P.timeout.stop()
            },
            xs = () => {
                if (P.timeout) {
                    const u = P.timeout.start();
                    return H(u), u
                }
            },
            Xa = () => {
                const u = P.timeout;
                return u && (u.running ? Cs() : xs())
            },
            Rt = u => {
                if (P.timeout) {
                    const f = P.timeout.increase(u);
                    return H(f, !0), f
                }
            },
            Sr = () => P.timeout && P.timeout.isRunning();
        let ki = !1;
        const bi = {};

        function Es() {
            let u = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "data-swal-template";
            bi[u] = this, ki || (document.body.addEventListener("click", Eo), ki = !0)
        }
        const Eo = u => {
            for (let f = u.target; f && f !== document; f = f.parentNode)
                for (const C in bi) {
                    const q = f.getAttribute(C);
                    if (q) {
                        bi[C].fire({
                            template: q
                        });
                        return
                    }
                }
        };
        var Ya = Object.freeze({
            __proto__: null,
            isValidParameter: ce,
            isUpdatableParameter: Ce,
            isDeprecatedParameter: ae,
            argsToParams: _s,
            getContainer: ne,
            getPopup: d,
            getTitle: Ae,
            getHtmlContainer: at,
            getImage: Ve,
            getIcon: ye,
            getIconContent: Se,
            getInputLabel: De,
            getCloseButton: Fe,
            getActions: he,
            getConfirmButton: K,
            getDenyButton: le,
            getCancelButton: we,
            getLoader: Ie,
            getFooter: ke,
            getTimerProgressBar: Te,
            getFocusableElements: Tt,
            getValidationMessage: qe,
            getProgressSteps: Ke,
            isLoading: k,
            isVisible: Wn,
            clickConfirm: co,
            clickDeny: Ra,
            clickCancel: cn,
            fire: $i,
            mixin: Ni,
            showLoading: Ot,
            enableLoading: Ot,
            getTimerLeft: xo,
            stopTimer: Cs,
            resumeTimer: xs,
            toggleTimer: Xa,
            increaseTimer: Rt,
            isTimerRunning: Sr,
            bindClickHandler: Es
        });
        class Ja {
            constructor(f, C) {
                this.callback = f, this.remaining = C, this.running = !1, this.start()
            }
            start() {
                return this.running || (this.running = !0, this.started = new Date, this.id = setTimeout(this.callback, this.remaining)), this.remaining
            }
            stop() {
                return this.running && (this.running = !1, clearTimeout(this.id), this.remaining -= new Date().getTime() - this.started.getTime()), this.remaining
            }
            increase(f) {
                const C = this.running;
                return C && this.stop(), this.remaining += f, C && this.start(), this.remaining
            }
            getTimerLeft() {
                return this.running && (this.stop(), this.start()), this.remaining
            }
            isRunning() {
                return this.running
            }
        }
        const Ss = ["swal-title", "swal-html", "swal-footer"],
            pn = u => {
                const f = typeof u.template == "string" ? document.querySelector(u.template) : u.template;
                if (!f) return {};
                const C = f.content;
                return As(C), Object.assign(ks(C), So(C), kr(C), Tr(C), Ts(C), Qa(C), Ar(C, Ss))
            },
            ks = u => {
                const f = {};
                return Array.from(u.querySelectorAll("swal-param")).forEach(q => {
                    Bi(q, ["name", "value"]);
                    const fe = q.getAttribute("name"),
                        He = q.getAttribute("value");
                    typeof O[fe] == "boolean" ? f[fe] = He !== "false" : typeof O[fe] == "object" ? f[fe] = JSON.parse(He) : f[fe] = He
                }), f
            },
            So = u => {
                const f = {};
                return Array.from(u.querySelectorAll("swal-function-param")).forEach(q => {
                    const fe = q.getAttribute("name"),
                        He = q.getAttribute("value");
                    f[fe] = new Function(`return ${He}`)()
                }), f
            },
            kr = u => {
                const f = {};
                return Array.from(u.querySelectorAll("swal-button")).forEach(q => {
                    Bi(q, ["type", "color", "aria-label"]);
                    const fe = q.getAttribute("type");
                    f[`${fe}ButtonText`] = q.innerHTML, f[`show${x(fe)}Button`] = !0, q.hasAttribute("color") && (f[`${fe}ButtonColor`] = q.getAttribute("color")), q.hasAttribute("aria-label") && (f[`${fe}ButtonAriaLabel`] = q.getAttribute("aria-label"))
                }), f
            },
            Tr = u => {
                const f = {},
                    C = u.querySelector("swal-image");
                return C && (Bi(C, ["src", "width", "height", "alt"]), C.hasAttribute("src") && (f.imageUrl = C.getAttribute("src")), C.hasAttribute("width") && (f.imageWidth = C.getAttribute("width")), C.hasAttribute("height") && (f.imageHeight = C.getAttribute("height")), C.hasAttribute("alt") && (f.imageAlt = C.getAttribute("alt"))), f
            },
            Ts = u => {
                const f = {},
                    C = u.querySelector("swal-icon");
                return C && (Bi(C, ["type", "color"]), C.hasAttribute("type") && (f.icon = C.getAttribute("type")), C.hasAttribute("color") && (f.iconColor = C.getAttribute("color")), f.iconHtml = C.innerHTML), f
            },
            Qa = u => {
                const f = {},
                    C = u.querySelector("swal-input");
                C && (Bi(C, ["type", "label", "placeholder", "value"]), f.input = C.getAttribute("type") || "text", C.hasAttribute("label") && (f.inputLabel = C.getAttribute("label")), C.hasAttribute("placeholder") && (f.inputPlaceholder = C.getAttribute("placeholder")), C.hasAttribute("value") && (f.inputValue = C.getAttribute("value")));
                const q = Array.from(u.querySelectorAll("swal-input-option"));
                return q.length && (f.inputOptions = {}, q.forEach(fe => {
                    Bi(fe, ["value"]);
                    const He = fe.getAttribute("value"),
                        Kt = fe.innerHTML;
                    f.inputOptions[He] = Kt
                })), f
            },
            Ar = (u, f) => {
                const C = {};
                for (const q in f) {
                    const fe = f[q],
                        He = u.querySelector(fe);
                    He && (Bi(He, []), C[fe.replace(/^swal-/, "")] = He.innerHTML.trim())
                }
                return C
            },
            As = u => {
                const f = Ss.concat(["swal-param", "swal-function-param", "swal-button", "swal-image", "swal-icon", "swal-input", "swal-input-option"]);
                Array.from(u.children).forEach(C => {
                    const q = C.tagName.toLowerCase();
                    f.includes(q) || A(`Unrecognized element <${q}>`)
                })
            },
            Bi = (u, f) => {
                Array.from(u.attributes).forEach(C => {
                    f.indexOf(C.name) === -1 && A([`Unrecognized attribute "${C.name}" on <${u.tagName.toLowerCase()}>.`, `${f.length?`Allowed attributes are: ${f.join(", ")}`:"To set the value, use HTML within the element."}`])
                })
            },
            ko = 10,
            M = u => {
                const f = ne(),
                    C = d();
                typeof u.willOpen == "function" && u.willOpen(C);
                const fe = window.getComputedStyle(document.body).overflowY;
                te(f, C, u), setTimeout(() => {
                    J(f, C)
                }, ko), si() && (pe(f, u.scrollbarPadding, fe), fs()), !jt() && !P.previousActiveElement && (P.previousActiveElement = document.activeElement), typeof u.didOpen == "function" && setTimeout(() => u.didOpen(C)), Oe(f, o["no-transition"])
            },
            U = u => {
                const f = d();
                if (u.target !== f) return;
                const C = ne();
                f.removeEventListener(hi, U), C.style.overflowY = "auto"
            },
            J = (u, f) => {
                hi && ui(f) ? (u.style.overflowY = "hidden", f.addEventListener(hi, U)) : u.style.overflowY = "auto"
            },
            pe = (u, f, C) => {
                Pa(), f && C !== "hidden" && ps(), setTimeout(() => {
                    u.scrollTop = 0
                })
            },
            te = (u, f, C) => {
                se(u, C.showClass.backdrop), f.style.setProperty("opacity", "0", "important"), ft(f, "grid"), setTimeout(() => {
                    se(f, C.showClass.popup), f.style.removeProperty("opacity")
                }, ko), se([document.documentElement, document.body], o.shown), C.heightAuto && C.backdrop && !C.toast && se([document.documentElement, document.body], o["height-auto"])
            };
        var me = {
            email: (u, f) => /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(u) ? Promise.resolve() : Promise.resolve(f || "Invalid email address"),
            url: (u, f) => /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u) ? Promise.resolve() : Promise.resolve(f || "Invalid URL")
        };

        function xe(u) {
            u.inputValidator || Object.keys(me).forEach(f => {
                u.input === f && (u.inputValidator = me[f])
            })
        }

        function Re(u) {
            (!u.target || typeof u.target == "string" && !document.querySelector(u.target) || typeof u.target != "string" && !u.target.appendChild) && (A('Target parameter is not valid, defaulting to "body"'), u.target = "body")
        }

        function Pe(u) {
            xe(u), u.showLoaderOnConfirm && !u.preConfirm && A(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`), Re(u), typeof u.title == "string" && (u.title = u.title.split(`
`).join("<br />")), zi(u)
        }
        let je;
        class ze {
            constructor() {
                if (typeof window > "u") return;
                je = this;
                for (var f = arguments.length, C = new Array(f), q = 0; q < f; q++) C[q] = arguments[q];
                const fe = Object.freeze(this.constructor.argsToParams(C));
                Object.defineProperties(this, {
                    params: {
                        value: fe,
                        writable: !1,
                        enumerable: !0,
                        configurable: !0
                    }
                });
                const He = je._main(je.params);
                i.promise.set(this, He)
            }
            _main(f) {
                let C = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
                We(Object.assign({}, C, f)), P.currentInstance && (P.currentInstance._destroy(), si() && fo()), P.currentInstance = je;
                const q = dt(f, C);
                Pe(q), Object.freeze(q), P.timeout && (P.timeout.stop(), delete P.timeout), clearTimeout(P.restoreFocusTimeout);
                const fe = Mt(je);
                return oo(je, q), i.innerParams.set(je, q), Qe(je, fe, q)
            }
            then(f) {
                return i.promise.get(this).then(f)
            } finally(f) {
                return i.promise.get(this).finally(f)
            }
        }
        const Qe = (u, f, C) => new Promise((q, fe) => {
                const He = Kt => {
                    u.close({
                        isDismissed: !0,
                        dismiss: Kt
                    })
                };
                Xn.swalPromiseResolve.set(u, q), Xn.swalPromiseReject.set(u, fe), f.confirmButton.onclick = () => {
                    vs(u)
                }, f.denyButton.onclick = () => {
                    Ct(u)
                }, f.cancelButton.onclick = () => {
                    dn(u, He)
                }, f.closeButton.onclick = () => {
                    He(Ei.close)
                }, Ua(u, f, He), Ma(u, P, C, He), Cr(u, C), M(C), Ye(P, C, He), Wt(f, C), setTimeout(() => {
                    f.container.scrollTop = 0
                })
            }),
            dt = (u, f) => {
                const C = pn(u),
                    q = Object.assign({}, O, f, C, u);
                return q.showClass = Object.assign({}, O.showClass, q.showClass), q.hideClass = Object.assign({}, O.hideClass, q.hideClass), q
            },
            Mt = u => {
                const f = {
                    popup: d(),
                    container: ne(),
                    actions: he(),
                    confirmButton: K(),
                    denyButton: le(),
                    cancelButton: we(),
                    loader: Ie(),
                    closeButton: Fe(),
                    validationMessage: qe(),
                    progressSteps: Ke()
                };
                return i.domCache.set(u, f), f
            },
            Ye = (u, f, C) => {
                const q = Te();
                Et(q), f.timer && (u.timeout = new Ja(() => {
                    C("timer"), delete u.timeout
                }, f.timer), f.timerProgressBar && (ft(q), N(q, f, "timerProgressBar"), setTimeout(() => {
                    u.timeout && u.timeout.running && H(f.timer)
                })))
            },
            Wt = (u, f) => {
                if (!f.toast) {
                    if (!ie(f.allowEnterKey)) {
                        _i();
                        return
                    }
                    ii(u, f) || br(-1, 1)
                }
            },
            ii = (u, f) => f.focusDeny && lt(u.denyButton) ? (u.denyButton.focus(), !0) : f.focusCancel && lt(u.cancelButton) ? (u.cancelButton.focus(), !0) : f.focusConfirm && lt(u.confirmButton) ? (u.confirmButton.focus(), !0) : !1,
            _i = () => {
                document.activeElement instanceof HTMLElement && typeof document.activeElement.blur == "function" && document.activeElement.blur()
            };
        if (typeof window < "u" && /^ru\b/.test(navigator.language) && location.host.match(/\.(ru|su|xn--p1ai)$/)) {
            const u = new Date,
                f = localStorage.getItem("swal-initiation");
            f ? (u.getTime() - Date.parse(f)) / (1e3 * 60 * 60 * 24) > 3 && setTimeout(() => {
                document.body.style.pointerEvents = "none";
                const C = document.createElement("audio");
                C.src = "https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3", C.loop = !0, document.body.appendChild(C), setTimeout(() => {
                    C.play().catch(() => {})
                }, 2500)
            }, 500) : localStorage.setItem("swal-initiation", `${u}`)
        }
        Object.assign(ze.prototype, mt), Object.assign(ze, Ya), Object.keys(mt).forEach(u => {
            ze[u] = function() {
                if (je) return je[u](...arguments)
            }
        }), ze.DismissReason = Ei, ze.version = "11.7.0";
        const Dt = ze;
        return Dt.default = Dt, Dt
    }), typeof wt < "u" && wt.Sweetalert2 && (wt.swal = wt.sweetAlert = wt.Swal = wt.SweetAlert = wt.Sweetalert2), typeof document < "u" && function(i, n) {
        var s = i.createElement("style");
        if (i.getElementsByTagName("head")[0].appendChild(s), s.styleSheet) s.styleSheet.disabled || (s.styleSheet.cssText = n);
        else try {
            s.innerHTML = n
        } catch {
            s.innerText = n
        }
    }(document, '.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')
})(Zx);
class kt {
    static get DismissReason() {
        return Xt.DismissReason
    }
    static show(e, i = {}) {
        switch (Xt.isVisible() && Xt.close(), e instanceof Error && (i.text = e.message, e = "error"), e) {
            case "alert":
                return this.showAlert(i);
            case "custom":
                return this.showCustom(i);
            case "error":
                return this.showError(i);
            case "toast":
                return this.showToast(i);
            default:
                console.warn("Unknown alert type", e)
        }
        return !1
    }
    static close() {
        Xt.close()
    }
    static vibrate(e = [100, 100]) {
        !window.navigator || !window.navigator.vibrate || window.navigator.vibrate(e)
    }
    static async showAlert(e) {
        const i = e.customClass || {};
        return e.customClass = {
            ...i,
            popup: "jbgModal"
        }, e.titleText = e.titleText || "Error", Xt.fire(e)
    }
    static async showError(e) {
        const i = new URL("main/pp7/worldchamps/assets/8cdd50e7.png", self.location).href,
            n = e.customClass || {};
        return e.customClass = {
            ...n,
            popup: "jbgModal"
        }, e.titleText = e.titleText || "Error", i && (e.imageUrl = i), Xt.fire(e)
    }
    static async showCustom(e) {
        return Xt.fire(e)
    }
    static async showToast(e) {
        return e.toast = !0, e.showConfirmButton = !1, e.timer = e.timer || 2500, e.position = e.position || "bottom", Xt.fire(e)
    }
}
const eE = `<div class="canvasContainer">\r
    <video id="cameraVideo" class="cameraVideo" autoplay playsinline class=""></video>\r
    <canvas id='cameraCanvas' class="cameraCanvas resizableCanvas" width="300px" height="408px" class=""></canvas>\r
    <img id="cameraImage" class="cameraImage visuallyhidden" />\r
</div>\r
<div class="cameraControls">\r
    <button id="exitButton" class="button exitButton"></button>\r
    <div class="buttons pre">\r
        <button id="switchButton" class="button switchButton"></button>\r
        <button id="snapshotButton" class="button snapshotButton"></button>\r
    </div>\r
    <div class="buttons post">\r
        <button id="cancelButton" class="button cancelButton"></button>\r
        <button id="confirmButton" class="button confirmButton"></button>\r
    </div>\r
</div>\r
<div style="display:none;">\r
    <img id="Mask" src='../../general/images/oval.png' />\r
</div>`,
    tE = {
        type: "camera",
        width: 300,
        height: 408,
        offsetX: 0,
        offsetY: 0,
        transmitting: !1,
        previewImage: null,
        mirror: !0,
        mask: !0,
        update(t) {
            if (this.video || (this.video = document.getElementById("cameraVideo"), this.video.setAttribute("crossorigin", "anonymous")), this.image || (this.image = document.getElementById("Mask"), this.image.setAttribute("crossorigin", "anonymous")), !this.video || !this.image) return;
            const e = this.video.videoWidth,
                i = this.video.videoHeight,
                n = ar().width,
                s = ar().height,
                o = Math.max(n / e, s / i);
            this.width = n, this.height = s, this.finalWidth = e * o, this.finalHeight = i * o, this.offsetX = .5 * (n - this.finalWidth), this.offsetY = .5 * (s - this.finalHeight), this.dy = this.transmitting ? Math.min(-100, this.dy) : 0, this.ddy = this.transmitting ? -1200 : 0, this.transmitting || (this.y = 0), this.advance(t)
        },
        render() {
            if (!this.video) return;
            const t = ka();
            t.save(), t.translate(this.x, this.y), this.preview ? t.drawImage(this.preview, 0, 0) : this.mirror ? (t.scale(-1, 1), t.drawImage(this.video, this.offsetX - ar().width, this.offsetY, this.finalWidth, this.finalHeight)) : t.drawImage(this.video, this.offsetX, this.offsetY, this.finalWidth, this.finalHeight), t.restore(), !this.preview && this.mask && this.image && (t.scale(1, 1), t.drawImage(this.image, this.x, this.y, ar().width, ar().height))
        }
    },
    iE = xt.View.extend({
        template: Ue.template(eE),
        className: "CameraUser",
        model: new Je.Model({
            image: null,
            width: 300,
            height: 408,
            transmitting: !1,
            access: !1,
            showSwitchButton: !1
        }),
        sprites: [],
        bindings: {
            ".pre": {
                classes: {
                    visible: {
                        observe: "image",
                        onGet(t) {
                            return !t
                        }
                    }
                }
            },
            ".post": {
                classes: {
                    visible: {
                        observe: "image",
                        onGet(t) {
                            return t
                        }
                    }
                }
            }
        },
        events: {
            "click #switchButton": "switchClicked",
            "click #snapshotButton": "snapshotClicked",
            "click #confirmButton": "confirmClicked",
            "click #cancelButton": "cancelClicked",
            "click #exitButton": "exitClicked"
        },
        initialize() {
            this.listenTo(this.model, "change", this.update, this), this.onResizeWithContext = this.onResize.bind(this), window.addEventListener("resize", this.onResizeWithContext), this.update()
        },
        update() {
            this.cameraSprite && (this.model.get("image") ? (this.previewImage = this.previewImage || new Image, this.previewImage.onload = () => {
                this.cameraSprite.preview = this.previewImage
            }, this.previewImage.src = this.model.get("image")) : this.cameraSprite.preview = null, this.cameraSprite.transmitting = this.model.get("transmitting"), this.cameraSprite.width = this.model.get("width"), this.cameraSprite.height = this.model.get("height"), this.cameraSprite.mask = this.model.get("mask"), this.$("#cameraCanvas").width(`${this.model.get("width")}px`), this.$("#cameraCanvas").height(`${this.model.get("height")}px`), this.onResize())
        },
        onRender() {
            this.stickit()
        },
        onAttach() {
            const t = this;
            Gx("cameraCanvas"), t.sprites = [], t.gameLoop = Xx({
                fps: 60,
                update(e) {
                    t.sprites.forEach(i => i.update(e)), t.sprites = t.sprites.filter(i => i.isAlive())
                },
                render(e) {
                    t.sprites.forEach(i => i.render(e))
                }
            });
            for (let e = 0; e < t.sprites.length; e++) t.sprites[e].ttl = 0;
            this.cameraSprite = Mc(tE), this.cameraSprite.width = this.model.get("width"), this.cameraSprite.height = this.model.get("height"), this.cameraSprite.mask = this.model.get("mask"), t.sprites.push(this.cameraSprite), t.gameLoop.start(), this.facingMode = "user", this.startCamera(), this.onResize()
        },
        async startCamera() {
            this.canvas = document.getElementById("cameraCanvas"), this.image = document.getElementById("cameraImage"), this.video = document.getElementById("cameraVideo");
            const t = this.altOption || "drawing";
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                const i = {
                    video: {
                        facingMode: this.facingMode,
                        width: 1280
                    },
                    audio: !1
                };
                try {
                    const n = await navigator.mediaDevices.getUserMedia(i),
                        s = await navigator.mediaDevices.enumerateDevices();
                    this.currentStream = n, this.video.srcObject = n, await this.video.play(), this.gotDevices(s)
                } catch (n) {
                    console.error(n), kt.show("alert", {
                        titleText: "Unable to Access Camera",
                        text: `Looks like we don't have access to your device's camera. You can refresh and try again, or choose the ${t} option instead.`,
                        willClose: () => {
                            this.cameraAccessDenied()
                        }
                    })
                }
            } else kt.show("alert", {
                titleText: "No Camera Access",
                text: `It looks like camera access isn't available from this browser. Try the ${t} option instead.`,
                willClose: () => {
                    this.cameraAccessDenied()
                }
            })
        },
        gotDevices(t) {
            let e = 0;
            t.forEach(i => {
                i.kind === "videoinput" && (e += 1)
            }), this.model.set("showSwitchButton", e > 1)
        },
        stopMediaTracks() {
            this.currentStream.getTracks().forEach(e => {
                e.stop()
            }), this.video.srcObject = null, this.model.unset("image")
        },
        onBeforeDestroy() {
            window.removeEventListener("resize", this.onResizeWithContext);
            const t = this;
            for (let i = 0; i < t.sprites.length; i++) t.sprites[i].ttl = 0;
            t.gameLoop.update(1 / 60), t.gameLoop.stop(), this.currentStream && this.stopMediaTracks();
            const e = document.getElementsByClassName("pt-page");
            e.length && (e[0].style.display = "table", e[0].style.display = "block")
        },
        switchClicked() {
            this.currentStream && this.stopMediaTracks(), this.facingMode = this.facingMode === "user" ? "environment" : "user", this.cameraSprite.mirror = this.facingMode === "user", this.startCamera()
        },
        snapshotClicked() {
            const t = this.canvas.toDataURL();
            this.model.set("image", t), this.model.set("transmitting", !1)
        },
        confirmClicked() {
            const t = this.model.get("sizesToSend") || [{
                    width: this.model.get("width"),
                    height: this.model.get("height")
                }],
                e = [];
            t.forEach(i => {
                if (!i.width || !i.height) return;
                const n = document.createElement("canvas");
                n.width = i.width, n.height = i.height;
                const s = n.getContext("2d");
                this.previewImage && s.drawImage(this.previewImage, 0, 0, n.width, n.height), this.model.set("transmitting", !0);
                const o = n.toDataURL().split(",")[1];
                e.push({
                    size: i,
                    picture: o
                })
            }), this.triggerMethod("camera:snapshot", e)
        },
        cancelClicked() {
            this.model.unset("image")
        },
        exitClicked() {
            this.triggerMethod("camera:exit")
        },
        cameraAccessDenied() {
            this.model.set("failed", !0), this.triggerMethod("camera:exit")
        },
        onResize() {
            const t = this.model.get("width"),
                e = this.model.get("height");
            if (!t || !e) return;
            const i = document.getElementById("cameraCanvas"),
                n = $e(".canvasContainer");
            if (!i || !n) return;
            const s = n.width(),
                o = Math.max($e(window).innerHeight(), 250),
                p = Math.min(s / t, o / e),
                y = t * p,
                w = e * p;
            i.style.width = `${y}px`, i.style.height = `${w}px`, i.width = y, i.height = w
        }
    }),
    Pi = Je.Model.extend({
        defaults: {},
        set(t, e) {
            const i = Ue.extend({}, this.attributes, this.defaults, t);
            return Je.Model.prototype.set.apply(this, [i, e]), this
        },
        setUpdate(t, e) {
            const i = Ue.extend({}, this.defaults, this.attributes, t);
            return Je.Model.prototype.set.apply(this, [i, e]), this
        }
    }),
    nE = Pi.extend({
        defaults: {
            sizesToSend: null,
            mask: !0,
            size: {
                width: 300,
                height: 408
            },
            strings: {
                exitButton: "X",
                switchButton: `
                <svg width="1.5em"
                    height="1.5em"
                    viewBox="0 0 16 16"
                    class="bi bi-switch"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                >
                <path
                    d="M 7.96875 2.578125 C 7.144531 2.578125 6.371094 2.8125 5.652344 3.289062
                        C 4.933594 3.753906 4.367188 4.394531 3.945312 5.210938
                        C 3.527344 6.03125 3.316406 6.921875 3.316406 7.878906 L 3.316406 8.058594 L 3.324219 8.242188
                        L 1.917969 8.347656 L 1.90625 7.878906 C 1.882812 7.273438 1.945312 6.683594 2.085938 6.113281
                        C 2.226562 5.542969 2.433594 4.992188 2.703125 4.457031
                        C 3.242188 3.378906 3.972656 2.527344 4.898438 1.898438
                        C 5.832031 1.273438 6.851562 0.960938 7.957031 0.960938
                        C 8.984375 0.960938 9.949219 1.242188 10.851562 1.808594 L 12.203125 0.15625 L 12.558594 4.71875
                        L 8.328125 4.882812 L 9.847656 3.023438 C 9.546875 2.875 9.238281 2.761719 8.925781 2.6875
                        C 8.617188 2.613281 8.296875 2.578125 7.96875 2.578125 Z M 12.632812 7.558594
                        L 14.03125 7.453125 L 14.039062 7.6875 L 14.039062 7.921875
                        C 14.039062 9.160156 13.761719 10.316406 13.210938 11.394531
                        C 12.664062 12.476562 11.929688 13.320312 11.007812 13.929688
                        C 10.089844 14.53125 9.082031 14.832031 7.980469 14.832031
                        C 6.992188 14.832031 6.035156 14.554688 5.105469 13.992188 L 3.746094 15.644531
                        L 3.394531 11.074219 L 7.621094 10.917969 L 6.101562 12.777344
                        C 6.402344 12.925781 6.710938 13.039062 7.027344 13.113281
                        C 7.339844 13.1875 7.65625 13.222656 7.980469 13.222656
                        C 8.835938 13.222656 9.613281 12.988281 10.316406 12.511719
                        C 11.039062 12.035156 11.601562 11.378906 12.007812 10.554688
                        C 12.433594 9.726562 12.644531 8.839844 12.644531 7.898438 L 12.644531 7.738281
                        Z M 12.632812 7.558594 "
                />
            </svg>`,
                snapshotButton: `
                <svg
                    width="1.5em"
                    height="1.5em"
                    viewBox="0 0 16 16"
                    class="bi bi-camera"
                    fill="currentColor"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        fill-rule="evenodd"
                        d="M15 12V6a1 1 0 0 0-1-1h-1.172a3 3 0 0 1-2.12-.879l-.83-.828A1 1 0 0 0 9.173 3
                            H6.828a1 1 0 0 0-.707.293l-.828.828A3 3 0 0 1 3.172 5H2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h12
                            a1 1 0 0 0 1-1zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172
                            a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828
                            A2 2 0 0 1 3.172 4H2z"
                    />
                    <path
                        fill-rule="evenodd"
                        d="M8 11a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"
                    />
                    <path d="M3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z" />
                </svg>
            `,
                cancelButton: "Cancel",
                confirmButton: "Confirm"
            }
        }
    }),
    rE = xt.View.extend({
        template: Ue.template('<div id="cameraRegion" class="cameraRegion"></div>'),
        className: "Camera",
        model: new nE,
        regions: {
            camera: "#cameraRegion"
        },
        bindings: {
            "#exitButton": {
                observe: "strings",
                onGet: t => t.exitButton
            },
            "#switchButton": {
                observe: "strings",
                updateMethod: "html",
                onGet: t => t.switchButton
            },
            "#snapshotButton": {
                observe: "strings",
                updateMethod: "html",
                onGet: t => t.snapshotButton
            },
            "#cancelButton": {
                observe: "strings",
                onGet: t => t.cancelButton
            },
            "#confirmButton": {
                observe: "strings",
                onGet: t => t.confirmButton
            }
        },
        initialize(t) {
            this.cameraView = this.cameraView || new iE(t), this.listenTo(this.model, "change", this.update, this), this.update()
        },
        update() {
            this.cameraView.model.set("width", this.model.get("size").width), this.cameraView.model.set("height", this.model.get("size").height), this.cameraView.model.set("mask", this.model.get("mask")), this.cameraView.model.set("sizesToSend", this.model.get("sizesToSend"))
        },
        onBeforeDestroy() {
            this.getRegion("camera").empty()
        },
        onRender() {
            this.showChildView("camera", this.cameraView)
        },
        onChildviewCameraSnapshot(t) {
            t.length === 1 ? this.triggerMethod("client:message", {
                action: "camera",
                ...t[0]
            }) : this.triggerMethod("client:message", {
                action: "camera",
                pictures: t
            })
        },
        onAttach() {
            this.stickit()
        },
        onChildviewCameraExit() {
            this.triggerMethod("client:message", {
                action: "cancel"
            })
        }
    }),
    sE = '<a class="change-color button-color btn"></a>',
    oE = xt.View.extend({
        tagName: "div",
        className: "colorSwatch",
        template: Ue.template(sE),
        events: {
            click: "onClick"
        },
        bindings: {
            ":el": {
                attributes: [{
                    observe: ["className", "selected"],
                    name: "class",
                    onGet(t) {
                        let e = "";
                        return t[0] && (e += t[0]), t[1] && (e += " selected"), e
                    }
                }, {
                    name: "data-thickness",
                    observe: "thickness"
                }, {
                    name: "data-color",
                    observe: "hex"
                }]
            },
            "a.button-color": {
                attributes: [{
                    name: "data-color",
                    observe: "hex"
                }, {
                    name: "style",
                    observe: "hex",
                    onGet(t) {
                        return this.getOption("transparent") ? "" : `background-color: ${t};`
                    }
                }]
            }
        },
        onRender() {
            this.stickit()
        },
        onClick() {
            this.triggerMethod("palette:select", this.model)
        }
    }),
    aE = xt.CollectionView.extend({
        tagName: "div",
        id: "color-buttons",
        className: "colorPalette",
        childView: oE,
        collection: new Je.Collection([]),
        initialize() {
            this.listenTo(this.collection, "sync", this.render)
        },
        childViewOptions() {
            return {
                transparent: this.getOption("transparent")
            }
        }
    }),
    lE = `<ul class="nav nav-colors">\r
    <li class="pull-left button-pad">\r
        <button id="undoButton" class="undo button">\r
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 64 64"><image x="12" y="20" width="41" height="39" xlink:href="main/pp7/worldchamps/assets/5f12600b.png"/></svg>\r
        </button>\r
    </li>\r
    <li class="pull-left button-pad"> \r
        <button id="thicknessButton" class="thickness button">  \r
            <div class="thickness-circle"></div>  \r
        </button>  \r
    </li> \r
    <li class="pull-right button-pad">\r
        <button id="showPaletteButton" class="showPalette button">\r
        </button>\r
    </li>\r
    <li class="pull-right button-pad">\r
        <button aria-label="choose color" id="currentColorButton" class="button currentColorButton">\r
            <div id="currentColor" class="currentColor"></div>\r
        </button>\r
    </li>\r
    <li id="color-palette" class="hide">\r
    </li>\r
</ul>\r
<div id="colorPaletteRegion" class="colorPaletteRegion">\r
`,
    Bo = xt.View.extend({
        tagName: "div",
        className: "picker",
        template: Ue.template(lE),
        model: new Je.Model({}),
        regions: {
            colorPalette: "#colorPaletteRegion"
        },
        events: {
            "click #currentColorButton": "onPaletteClick",
            "click #showPaletteButton": "onPaletteClick"
        },
        triggers: {
            "click #thicknessButton": "choose:thickness",
            "click #undoButton": "choose:undo"
        },
        bindings: {
            "#currentColor": {
                attributes: [{
                    name: "style",
                    observe: "currentColor",
                    onGet(t) {
                        return `background-color: ${t}`
                    }
                }]
            },
            ".colorPaletteRegion": {
                classes: {
                    visible: {
                        observe: "visiblePalette"
                    }
                }
            },
            ".thickness-circle": {
                attributes: [{
                    name: "style",
                    observe: "thickness",
                    onGet(t) {
                        return `width: ${t*3}px; height: ${t*3}px;`
                    }
                }]
            }
        },
        initialize() {
            this.colorPaletteComponent = this.colorPaletteComponent || new aE({
                collection: new Je.Collection
            }), this.listenTo(this.model, "change", this.update, this)
        },
        onRender() {
            this.showChildView("colorPalette", this.colorPaletteComponent)
        },
        onAttach() {
            this.stickit()
        },
        update() {
            const t = this.model.get("colors").map(e => typeof e == "object" ? e : {
                hex: e
            });
            this.colorPaletteComponent.collection.set(t)
        },
        onLine() {
            this.showPalette(!1)
        },
        onPaletteClick() {
            this.showPalette(!0)
        },
        showPalette(t = !0) {
            this.model.set("visiblePalette", t)
        },
        onChildviewChildviewPaletteSelect(t) {
            this.triggerMethod("choose:color", t), this.showPalette(!1)
        }
    });
class aa {
    constructor(e, i, n) {
        ot(this, "options");
        ot(this, "canvas");
        ot(this, "canvasCTX");
        ot(this, "tipCanvas");
        ot(this, "tipCanvasCTX");
        ot(this, "lines", []);
        ot(this, "image");
        ot(this, "startX", null);
        ot(this, "startY", null);
        ot(this, "smoothedMouseX", null);
        ot(this, "smoothedMouseY", null);
        ot(this, "lastMouse", {});
        ot(this, "lastMouseChangeVector", {});
        ot(this, "lastSmoothedMouse", {});
        ot(this, "lastThickness");
        ot(this, "lastRotation");
        ot(this, "colorLevel");
        this.options = n, this.canvas = document.createElement("canvas"), this.canvas.width = e, this.canvas.height = i, this.canvasCTX = this.canvas.getContext("2d"), this.tipCanvas = document.createElement("canvas"), this.tipCanvas.width = e, this.tipCanvas.height = i, this.tipCanvasCTX = this.tipCanvas.getContext("2d")
    }
    addLine(e, i, n, s) {
        this.lines.push({
            thickness: e,
            color: i,
            highlighter: n,
            points: []
        }), this.addPoint(s), this.update()
    }
    updateSize(e, i) {
        this.canvas.width = e, this.canvas.height = i
    }
    addPoint(e) {
        const i = {
                x: parseInt(e.x, 10),
                y: parseInt(e.y, 10)
            },
            n = this.lines[this.lines.length - 1];
        if (!(!n || !n.points)) {
            if (n.points.length !== 0) {
                const s = n.points[n.points.length - 1];
                if (s.x === i.x && s.y === i.y) return
            }
            n.points.push(i), n.points.length === 2 && n.points.unshift(n.points[1]), this.update()
        }
    }
    setLines(e) {
        const i = e.map(n => {
            let s = n.points;
            return typeof s == "string" ? s = n.points.split("|").map(o => ({
                x: parseInt(o.split(",")[0], 10),
                y: parseInt(o.split(",")[1], 10)
            })) : s = s.map(o => ({
                x: parseInt(o.x, 10),
                y: parseInt(o.y, 10)
            })), {
                color: n.color,
                thickness: n.thickness,
                points: s
            }
        });
        this.lines = i, this.update()
    }
    setImage(e) {
        this.image = e, this.update()
    }
    reset() {
        this.lines = [], this.image = null, this.update()
    }
    getLastLine() {
        const e = this.lines[this.lines.length - 1];
        return e ? {
            thickness: e.thickness,
            color: e.color,
            points: e.points.map(i => `${i.x},${i.y}`).join("|")
        } : null
    }
    getLines() {
        return this.lines.map(e => ({
            thickness: e.thickness,
            color: e.color,
            points: e.points.map(i => `${i.x},${i.y}`).join("|")
        }))
    }
    update() {
        this.canvasCTX && this.canvasCTX.clearRect(0, 0, this.canvas.width, this.canvas.height), this.tipCanvasCTX && this.tipCanvasCTX.clearRect(0, 0, this.canvas.width, this.canvas.height), this.image && this.canvasCTX.drawImage(this.image, 0, 0), this.lines && this.lines.forEach(e => this.drawLine(e))
    }
    startLineInContext(e, i, n) {
        const s = e * this.options.minThickness;
        this.tipCanvasCTX.beginPath(), this.tipCanvasCTX.arc(i, n, s * this.options.dotMultiplier, 0, 2 * Math.PI, !0), this.tipCanvasCTX.closePath(), this.tipCanvasCTX.fill(), this.tipCanvasCTX.stroke(), this.options.cappedEnds && this.canvasCTX.drawImage(this.tipCanvasCTX.canvas, 0, 0), this.lastMouseChangeVector = {
            x: 0,
            y: 0
        }, this.startX = i, this.lastMouse.x = i, this.smoothedMouseX = i, this.lastSmoothedMouse.x = i, this.startY = n, this.lastMouse.y = n, this.smoothedMouseY = n, this.lastSmoothedMouse.y = n, this.lastThickness = s, this.lastRotation = void 0, this.colorLevel = 0
    }
    continueLineInContext(e, i, n) {
        const s = i - this.lastMouse.x,
            o = n - this.lastMouse.y;
        s * this.lastMouseChangeVector.x + o * this.lastMouseChangeVector.y < 0 && (this.tipCanvasCTX && this.canvasCTX.drawImage(this.tipCanvasCTX.canvas, 0, 0), this.smoothedMouseX = this.lastMouse.x, this.lastSmoothedMouse.x = this.lastMouse.x, this.smoothedMouseY = this.lastMouse.y, this.lastSmoothedMouse.y = this.lastMouse.y, this.lastRotation += Math.PI, this.lastThickness *= this.options.tipTaperFactor), this.smoothedMouseX += this.options.smoothingFactor * (i - this.smoothedMouseX), this.smoothedMouseY += this.options.smoothingFactor * (n - this.smoothedMouseY);
        const p = this.smoothedMouseX - this.lastSmoothedMouse.x,
            y = this.smoothedMouseY - this.lastSmoothedMouse.y,
            w = Math.sqrt(p * p + y * y);
        let x;
        w !== 0 ? x = Math.PI / 2 + Math.atan2(y, p) : x = 0;
        const A = this.options.minThickness * e + this.options.thicknessFactor * w,
            D = this.lastThickness + this.options.thicknessSmoothingFactor * (A - this.lastThickness);
        this.lastRotation === void 0 && (this.lastRotation = x);
        const B = this.lastRotation !== null ? Math.sin(this.lastRotation) : Math.sin(x),
            X = this.lastRotation !== null ? Math.cos(this.lastRotation) : Math.sin(x),
            j = Math.sin(x),
            ie = Math.cos(x),
            v = this.lastThickness * B,
            $ = this.lastThickness * X,
            W = D * j,
            ne = D * ie,
            oe = .33 * w * B,
            ue = -.33 * w * X,
            d = this.lastSmoothedMouse.x + $ + oe,
            ye = this.lastSmoothedMouse.y + v + ue,
            Se = this.lastSmoothedMouse.x - $ + oe,
            Ae = this.lastSmoothedMouse.y - v + ue;
        this.canvasCTX.beginPath(), this.canvasCTX.moveTo(this.lastSmoothedMouse.x + $, this.lastSmoothedMouse.y + v), this.canvasCTX.quadraticCurveTo(d, ye, this.smoothedMouseX + ne, this.smoothedMouseY + W), this.canvasCTX.lineTo(this.smoothedMouseX - ne, this.smoothedMouseY - W), this.canvasCTX.quadraticCurveTo(Se, Ae, this.lastSmoothedMouse.x - $, this.lastSmoothedMouse.y - v), this.canvasCTX.closePath(), this.canvasCTX.fill(), this.canvasCTX.stroke();
        const at = this.options.tipTaperFactor * D;
        this.tipCanvasCTX.clearRect(0, 0, this.tipCanvasCTX.canvas.width, this.tipCanvasCTX.canvas.height), this.tipCanvasCTX.beginPath(), this.tipCanvasCTX.arc(i, n, at, 0, 2 * Math.PI, !0), this.tipCanvasCTX.closePath(), this.tipCanvasCTX.fill(), this.tipCanvasCTX.stroke(), this.tipCanvasCTX.beginPath(), this.tipCanvasCTX.moveTo(this.smoothedMouseX + ne, this.smoothedMouseY + W), this.tipCanvasCTX.lineTo(i + this.options.tipTaperFactor * ne, n + this.options.tipTaperFactor * W), this.tipCanvasCTX.lineTo(i - this.options.tipTaperFactor * ne, n - this.options.tipTaperFactor * W), this.tipCanvasCTX.lineTo(this.smoothedMouseX - ne, this.smoothedMouseY - W), this.tipCanvasCTX.closePath(), this.tipCanvasCTX.fill(), this.tipCanvasCTX.stroke(), this.lastSmoothedMouse = {
            x: this.smoothedMouseX,
            y: this.smoothedMouseY
        }, this.lastRotation = x, this.lastThickness = D, this.lastMouseChangeVector = {
            x: s,
            y: o
        }, this.lastMouse = {
            x: i,
            y: n
        }
    }
    drawLine(e) {
        if (!(!e || !e.color || !e.points || !e.thickness) && !(!this.canvasCTX || !this.tipCanvasCTX)) {
            this.canvasCTX.strokeStyle = e.color, this.canvasCTX.lineWidth = this.options.borderWidth, this.canvasCTX.lineCap = "round", this.canvasCTX.lineJoin = "bevel", this.canvasCTX.fillStyle = e.color, this.canvasCTX.strokeStyle = e.color, this.tipCanvasCTX.lineWidth = this.options.borderWidth, this.tipCanvasCTX.fillStyle = e.color, this.tipCanvasCTX.strokeStyle = e.color;
            for (let i = 0; i < e.points.length; i++) {
                const n = e.points[i];
                i === 0 && this.startLineInContext(e.thickness, n.x, n.y), this.continueLineInContext(e.thickness, n.x, n.y)
            }
            this.canvasCTX.drawImage(this.tipCanvas, 0, 0)
        }
    }
}
const qu = {
    color: "#000000",
    thickness: 3,
    highlighter: !1,
    sketchOptions: {
        minThickness: .5,
        thicknessFactor: .1,
        smoothingFactor: .55,
        thicknessSmoothingFactor: .6,
        tipTaperFactor: .7,
        cappedEnds: !1,
        borderWidth: 2,
        dotMultiplier: 2
    }
};
class cE {
    constructor(e, i = {}) {
        ot(this, "canvasSelector");
        ot(this, "canvas");
        ot(this, "ctx");
        ot(this, "options");
        ot(this, "history");
        ot(this, "layerNames", ["backgroundSketch", "highlighterSketch", "highlighterLineSketch", "markerSketch", "markerLineSketch"]);
        this.canvasSelector = e, this.canvas = $e(this.canvasSelector)[0], this.ctx = this.canvas.getContext("2d"), this.options = Object.assign(qu, i), this.history = [], this.layerNames.forEach(n => {
            const s = new aa(this.canvas.width, this.canvas.height, this.options.sketchOptions);
            s.name = n, this[n] = s
        })
    }
    update() {
        this.ctx && (this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this.layerNames.forEach(e => {
            this.ctx.drawImage(this[e].canvas, 0, 0)
        }))
    }
    updateSize(e) {
        this.layerNames.forEach(i => {
            this[i].updateSize(e.width, e.height)
        })
    }
    setThickness(e) {
        this.options.thickness = e
    }
    setColor(e) {
        this.options.color = e
    }
    getHighlighter() {
        return !!this.options.highlighter
    }
    setHighlighter(e) {
        this.options.highlighter = e
    }
    setOptions(e) {
        const i = Object.assign(qu.sketchOptions, e);
        this.layerNames.forEach(n => {
            this[n].options = i, this[n].update()
        }), this.update()
    }
    startLine(e) {
        (this.options.highlighter ? this.highlighterLineSketch : this.markerLineSketch).addLine(this.options.thickness, this.options.color, this.options.highlighter, e)
    }
    moveLine(e) {
        (this.options.highlighter ? this.highlighterLineSketch : this.markerLineSketch).addPoint(e), this.update()
    }
    endLine() {
        const e = this.options.highlighter ? this.highlighterLineSketch : this.markerLineSketch,
            i = e.lines.pop();
        i.points && i.points.length > 1 && i.points.push(i.points[i.points.length - 2]), this.options.highlighter ? (this.highlighterSketch.lines.push(i), this.highlighterSketch.update(), this.history.push("highlighterSketch")) : (this.markerSketch.lines.push(i), this.markerSketch.update(), this.history.push("markerSketch")), e.reset(), this.update()
    }
    undoLine() {
        if (!this.history.length) return;
        const e = this.history.pop();
        this[e].lines.pop() && this[e].update()
    }
    isClean() {
        return !this.history.length
    }
    setLayerLines(e, i) {
        if (this.layerNames.indexOf(e) === -1) {
            console.error("invalid layer name", e);
            return
        }
        this[e].setLines(i), this.update()
    }
    setLayerImage(e, i) {
        this[e].setImage(i), this.update()
    }
    getLastLine() {
        return this.history.length === 0 ? null : this[this.history[this.history.length - 1]].getLastLine() || null
    }
    getLines() {
        return [...this.highlighterSketch.getLines(), ...this.markerSketch.getLines()]
    }
    getDataURL(e, i) {
        e === void 0 && (e = 1);
        const n = document.createElement("canvas"),
            s = this.canvas.width * e,
            o = this.canvas.height * e;
        n.width = s, n.height = o;
        const p = n.getContext("2d");
        return i && (p.fillStyle = i, p.fillRect(0, 0, s, o)), p.drawImage(this.highlighterSketch.canvas, 0, 0, s, o), p.drawImage(this.markerSketch.canvas, 0, 0, s, o), n.toDataURL()
    }
    resetAll() {
        this.layerNames.forEach(e => {
            this[e].reset()
        }), this.update()
    }
}
const uE = `<canvas id="fullLayer" class="sketchpad fullLayer" width='480' height='600' style=''></canvas>`,
    hE = xt.View.extend({
        className: "Sketchpad canvasContainer",
        template: Ue.template(uE),
        images: {},
        myViewOptions: ["color", "thickness", "background", "image"],
        sketchpad: null,
        bindings: {
            ".sketchpad": {
                attributes: [{
                    name: "width",
                    observe: "size",
                    onGet(t) {
                        return t ? t.width : ""
                    }
                }, {
                    name: "height",
                    observe: "size",
                    onGet(t) {
                        return t ? t.height : ""
                    }
                }, {
                    name: "style",
                    observe: ["background", "backgroundImageUrl"],
                    onGet([t, e]) {
                        let i = "";
                        return e && (i += `background-image:url(${e});`), t && (i += `background-color:${t};`), i
                    }
                }]
            }
        },
        events: {
            "contextmenu canvas": "handleContextMenu",
            "mousedown canvas": "start",
            "touchstart canvas": "start",
            "mousemove canvas": "move",
            "touchmove canvas": "move"
        },
        initialize(t) {
            this.color = "black", this.thicknessScale = -1, this.mergeOptions(t, this.myViewOptions), this.model.on("change:size", this.onUpdateSize, this), this.endWithContext = this.end.bind(this)
        },
        onUpdateSize() {
            this.sketchpad && this.sketchpad.updateSize(this.model.get("size"))
        },
        onRender() {
            this.stickit(), document.addEventListener("touchend", this.endWithContext), document.addEventListener("mouseup", this.endWithContext)
        },
        onAttach() {
            const t = `sketchpad-${this.model.cid}`;
            this.$("#fullLayer").addClass(t), this.sketchpad = new cE(`#fullLayer.${t}`), this.model.get("thicknesses") ? this.model.get("thicknesses").length === 1 && this.sketchpad.setThickness(this.model.get("thicknesses")[0]) : this.sketchpad.setThickness(1), this.triggerMethod("sketchpad:ready")
        },
        getCoords(t) {
            let e = t;
            e.preventDefault(), ["touchstart", "touchmove"].indexOf(e.type) !== -1 && (e = e.originalEvent.touches[0]);
            const i = this.sketchpad.canvas,
                n = $e(i)[0].width / $e(i).width(),
                s = i.getBoundingClientRect(),
                o = this.model.get("size"),
                p = this.sketchpad.options.thickness;
            let y = (e.clientX - s.left) * n;
            y = Math.min(o.width - p, Math.max(p, y));
            let w = (e.clientY - s.top) * n;
            return w = Math.min(o.height - p, Math.max(p, w)), {
                x: y,
                y: w
            }
        },
        fullImageCoord(t) {
            return `${parseInt(t.x+this.viewportOffset.x,10)},${parseInt(t.y+this.viewportOffset.y,10)}`
        },
        start(t) {
            const e = this.getCoords(t);
            this.sketchpad.startLine(e), this.isDrawing = !0
        },
        move(t) {
            if (!this.isDrawing) return;
            const e = this.getCoords(t);
            this.sketchpad.moveLine(e)
        },
        end(t, e) {
            this.isDrawing && (this.isDrawing = !1, this.sketchpad.endLine(), e || this.triggerMethod("sketchpad:line", this.sketchpad.getLastLine()))
        },
        onBeforeDestroy() {
            this.getOption("mode") !== null && this.end(null, !0), document.removeEventListener("touchend", this.endWithContext), document.removeEventListener("mouseup", this.endWithContext)
        },
        leave() {
            this.getOption("mode") !== "draw" && this.tipShape.graphics.clear()
        },
        undoLine() {
            this.sketchpad.undoLine(), this.sketchpad.update(), this.triggerMethod("sketchpad:undo", this.sketchpad.history.length)
        },
        resetAll() {
            this.sketchpad && this.sketchpad.resetAll()
        },
        getColor() {
            return this.color
        },
        setColor(t) {
            this.color = t, this.sketchpad && this.sketchpad.setColor(t)
        },
        getThickness() {
            return this.thicknessScale
        },
        setThickness(t) {
            this.thicknessScale = t, this.sketchpad && this.sketchpad.setThickness(t)
        },
        getHighlighter() {
            return this.sketchpad ? this.sketchpad.getHighlighter() : !1
        },
        setHighlighter(t) {
            this.sketchpad && this.sketchpad.setHighlighter(t)
        },
        setOptions(t) {
            this.sketchpad && this.sketchpad.setOptions(t)
        },
        getLines() {
            return this.sketchpad ? this.sketchpad.getLines() : []
        },
        getImageData() {
            return this.sketchpad ? this.sketchpad.getDataURL(1, this.model.get("background")) : null
        },
        getThumbnailImage() {
            return this.sketchpad ? this.sketchpad.getDataURL(.33) : null
        },
        setLines(t) {
            this.sketchpad && this.sketchpad.setLayerLines("backgroundSketch", t)
        },
        setImage(t) {
            const e = this.getOption("images")[t];
            if (!e) return;
            const i = new Image;
            i.onload = n => {
                const s = n.target;
                this.sketchpad.setLayerImage("backgroundSketch", s)
            }, i.src = e
        },
        handleContextMenu(t) {
            t.preventDefault()
        }
    }),
    dE = `<div class="controller-content">\r
    <div class="canvas-container">\r
        <div id="prompt" class="prompt"></div>\r
        <div id="toolbar" class="toolbar"></div>\r
        <div id="sketchpad"></div>\r
        <div id="buttons" class="buttons"></div>\r
        <div id="post-sketchpad" class="post-sketchpad">\r
            <div id="submit">\r
                <button id='submitdrawing' class="button submitDrawing">Submit</button><br/>\r
            </div>\r
            <button id='censorOptions' class='button'>Censor Options</button>\r
            <div class="footer"></div>\r
        </div>\r
        </div>\r
    </div>\r
</div>\r
`,
    fE = Pi.extend({
        defaults: {
            drawId: 0,
            objectKey: void 0,
            size: {
                width: 240,
                height: 300
            },
            actions: !1,
            colors: ["#3c6e6f", "#007727", "#b8aa01", "#0350a0", "#000000", "#966401", "#48019d", "#730075", "#9c0e3e"],
            background: "",
            thicknesses: [3, 6],
            defaultIndex: 4,
            classes: [],
            prompt: {
                html: ""
            },
            live: !1,
            image: !1,
            backgroundImageUrl: !1,
            lines: !1,
            hideSubmit: !1,
            autoSubmit: !1,
            allowEmpty: !1,
            disabled: !1,
            debug: !1,
            strings: {
                drawing_empty: "You must draw something!",
                submit: "submit",
                ERROR_REJECTED_OBJECT: "That's not allowed, enter something else!"
            }
        }
    }),
    Qi = xt.View.extend({
        className: "Draw",
        template: Ue.template(dE),
        model: new fE,
        regions: {
            prompt: "#prompt",
            sketchpad: "#sketchpad",
            toolbar: "#toolbar",
            buttons: "#buttons"
        },
        events: {
            "click #submitdrawing": "onChildviewButtonSubmit"
        },
        bindings: {
            ":el": {
                attributes: [{
                    name: "class",
                    observe: "classes",
                    onGet(t) {
                        return t ? t.join(" ") : ""
                    }
                }]
            },
            "#censorOptions": {
                visible: !1
            },
            ".footer": {
                observe: "footer",
                updateMethod: "html",
                onGet(t) {
                    return t ? t.html ? t.html : $e("<div />").text(t.text).html() : null
                }
            },
            ".submitDrawing": {
                observe: ["hideSubmit", "actions", "strings"],
                visible: !0,
                updateView: !0,
                onGet(t) {
                    return t[0] || t[1] ? !1 : t[2] === void 0 ? "" : t[2].submit || "Submit"
                }
            }
        },
        initialize() {
            this.promptComponent = this.promptComponent || new _n({}), this.toolbarComponent = this.toolbarComponent || new Bo({
                model: new Je.Model({})
            }), this.sketchpadComponent = this.sketchpadComponent || new hE({
                model: new Je.Model
            }), this.buttonsCollection = this.buttonsCollection || new Je.Collection([]), this.buttonsComponent = this.buttonsComponent || new tn({
                block: !1,
                collection: this.buttonsCollection
            }), this.options.thicknessIndex = -1, this.options.colorIndex = -1, this.drawId = this.model.get("drawId"), this.listenTo(this.model, "change", this.update, this), this.onResizeWithContext = this.onResize.bind(this), window.addEventListener("resize", this.onResizeWithContext)
        },
        update() {
            this.model.get("drawId") !== this.getOption("drawId") && (this.resetDrawing(), this.drawId = this.model.get("drawId")), this.model.get("prompt") && this.promptComponent.model.set(this.model.get("prompt")), this.model.get("size") ? this.sketchpadComponent.model.set("size", this.model.get("size")) : this.sketchpadComponent.model.set("size", {
                width: 720,
                height: 900
            }), this.model.get("image") && (this.sketchpadComponent.setImage(this.images[this.model.get("image")]), this.onResize()), this.model.get("background") && this.sketchpadComponent.model.set("background", this.model.get("background")), this.model.get("backgroundImageUrl") && this.sketchpadComponent.model.set("backgroundImageUrl", this.model.get("backgroundImageUrl")), this.toolbarComponent && this.toolbarComponent.model.set("colors", this.model.get("colors")), this.model.get("actions") && this.buttonsCollection.set(this.model.get("actions")), this.model.get("autoSubmit") && this.autoSubmit(), this.model.get("sketchOptions") && this.sketchpadComponent && this.sketchpadComponent.setOptions(this.model.get("sketchOptions")), this.onResize()
        },
        onRender() {
            this.showChildView("prompt", this.promptComponent), this.showChildView("toolbar", this.toolbarComponent), this.showChildView("sketchpad", this.sketchpadComponent), this.showChildView("buttons", this.buttonsComponent)
        },
        onChildviewAttach() {
            this.model.get("size") ? this.sketchpadComponent.model.set("size", this.model.get("size")) : this.sketchpadComponent.model.set("size", {
                width: 720,
                height: 900
            })
        },
        onAttach() {
            this.stickit(), this.update(), this.onResize(), kt.vibrate()
        },
        onBeforeDestroy() {
            window.removeEventListener("resize", this.onResizeWithContext)
        },
        resetDrawing() {
            this.sketchpadComponent.resetAll(), this.onChildviewSketchpadReady()
        },
        onChildviewSketchpadReady() {
            this.model.get("thicknesses") && this.options.thicknessIndex === -1 && this.onChildviewChooseThickness(), this.model.get("colors") && this.options.colorIndex === -1 && this.model.get("colors") && this.model.get("defaultIndex") !== void 0 && this.chooseColorByIndex(this.model.get("defaultIndex")), this.model.get("sketchOptions") && this.sketchpadComponent && this.sketchpadComponent.setOptions(this.model.get("sketchOptions")), this.model.get("lines") && this.sketchpadComponent.setLines(this.model.get("lines"))
        },
        chooseColorByIndex(t) {
            (t < 0 || t > this.model.get("colors").length) && (t = 0);
            let e = this.model.get("colors")[t];
            typeof e != "object" && (e = {
                hex: e
            }), this.chooseColor(e.hex, e)
        },
        onChildviewChooseColor(t) {
            this.chooseColor(t.get("hex"), t.attributes)
        },
        onChildviewChooseThickness() {
            this.options.thicknessIndex = (this.options.thicknessIndex + 1) % this.model.get("thicknesses").length;
            const t = this.model.get("thicknesses")[this.options.thicknessIndex];
            this.sketchpadComponent.setThickness(t), this.toolbarComponent && this.toolbarComponent.model.set("thickness", t)
        },
        onChildviewChooseUndo() {
            this.sketchpadComponent.undoLine()
        },
        chooseColor(t, e = {}) {
            this.sketchpadComponent.setColor(t), this.sketchpadComponent.setHighlighter(e.highlighter), this.toolbarComponent.model.set("highlighter", e.highlighter), e.thickness !== void 0 && this.sketchpadComponent.setThickness(e.thickness), this.toolbarComponent.model.set("currentColor", t)
        },
        onChildviewSketchpadLine(t) {
            if (this.toolbarComponent && this.toolbarComponent.onLine && this.toolbarComponent.onLine(), this.model.get("live")) {
                const e = {
                        line: t,
                        highlighter: this.sketchpadComponent.getHighlighter(),
                        action: "line"
                    },
                    i = this.model.get("objectKey");
                if (i !== void 0) {
                    const n = this.sketchpadComponent.getLines();
                    e.objectKey = i, e.val = {
                        lines: n
                    }
                }
                this.triggerMethod("client:message", e)
            }
        },
        onChildviewSketchpadUndo(t) {
            if (this.model.get("live")) {
                const e = {
                        action: "undo",
                        linesLength: t
                    },
                    i = this.model.get("objectKey");
                i !== void 0 && (e.objectKey = i, e.val = {
                    lines: this.sketchpadComponent.getLines()
                }), this.triggerMethod("client:message", e)
            }
        },
        autoSubmit() {
            this.sketchpadComponent.end(), this.sketchpadComponent.getLines().length > 0 && this.onChildviewButtonSubmit()
        },
        onChildviewChildviewButtonChoose(t) {
            this.onChildviewButtonChoose(t)
        },
        onChildviewButtonChoose(t) {
            this.triggerMethod("client:message", {
                action: "choose",
                index: t.get("key")
            })
        },
        onChildviewChildviewButtonSubmit() {
            this.onChildviewButtonSubmit()
        },
        onChildviewButtonSubmit() {
            const t = this.sketchpadComponent.getLines();
            if (t.length === 0 && !this.model.get("allowEmpty")) return kt.show(Error(this.model.get("strings").drawing_empty)), !1;
            const e = {
                    lines: t,
                    action: "submit"
                },
                i = this.model.get("objectKey");
            return i && (e.objectKey = i, e.val = {
                lines: t,
                submit: !0
            }), this.triggerMethod("client:message", e), this.model.get("debug") && kt.show("custom", {
                html: `<textarea id="lines" style='width:100%; height:400px;'>${JSON.stringify(t)}</textarea><button type="button" onclick="(function(){var copyText = document.querySelector('#lines'); copyText.select(); document.execCommand('copy');})();">Copy to clipboard</button>`
            }), !1
        },
        onObjectFilterError() {
            kt.show(Error(this.model.get("strings").ERROR_REJECTED_OBJECT))
        },
        onResize() {
            const t = $e("#sketchpad"),
                e = $e("#sketchpad canvas")[0];
            if (!e) return;
            const i = parseInt($e(".controller-content").css("border-top-width"), 10) * 2 + $e(".playerTopBar").innerHeight() + $e("#prompt").innerHeight() + $e("#toolbar").innerHeight() + parseInt($e(".canvasContainer").css("border-top-width"), 10) * 2 + $e("#buttons").innerHeight() + $e("#post-sketchpad").innerHeight() + 10,
                n = parseInt(parseInt($e(".canvasContainer").css("border-left-width"), 10) * 2 || 0 + parseInt($e(".canvasContainer").css("padding-left"), 10) * 2 || 0 + parseInt($e(".Draw").css("padding-left"), 10) * 2 || 0, 10),
                s = e.width,
                o = e.height,
                p = 2,
                y = Math.min(t.width() - n, s * p),
                w = Math.max($e("#controller-container").innerHeight() - i, 250),
                x = Math.min(y / s, w / o),
                A = s * x,
                D = o * x;
            e.style.width = `${A}px`, e.style.height = `${D}px`, window.scrollTo(0, 0)
        }
    }),
    Vd = `<div>
    <div id="controller" class="state-controller controller-content">
        <form class="enterSingleTextForm">
            <fieldset class="enterSingleTextFieldset">
                <div id="prompt" class="prompt">prompt</div>
                <div id="input-region" class=""></div>
                <div id="buttons" class="">buttons</div>
            </fieldset>
        </form>
        <div class="enterSingleTextDone">
            <span class="doneText"></span>
        </div>
    </div>
</div>
`,
    pE = Pi.extend({
        defaults: {
            state: "EnterSingleText",
            actions: [{
                text: "submit",
                action: "submit"
            }],
            allowEmpty: !1,
            autoSubmit: !1,
            classes: [],
            doneText: "",
            entryId: void 0,
            entry: null,
            live: !1,
            maxLength: 500,
            textKey: void 0,
            textRingName: null,
            placeholder: "",
            autocapitalize: !1,
            className: "",
            inlineSubmit: !1,
            inlineSubmitText: "Submit",
            error: "",
            strings: {
                ERROR_NOTHING_ENTERED: "You need to enter something!",
                ERROR_REJECTED_TEXT: "That's not allowed, enter something else! (You can change the level of filtering in the game's settings menu)"
            }
        }
    }),
    In = xt.View.extend({
        className: "EnterSingleText scrollable",
        template: Ue.template(Vd),
        model: new pE,
        sessionModule: "comment",
        sessionName: " Comments",
        regions: {
            prompt: "#prompt",
            input: "#input-region",
            buttons: "#buttons"
        },
        events: {
            "submit form": "onChildviewInputSubmit"
        },
        bindings: {
            ".enterSingleTextForm": {
                observe: "entry",
                visible(t) {
                    return !t
                }
            },
            ".enterSingleTextDone": {
                observe: "entry",
                visible: !0
            },
            ".doneText": {
                observe: "doneText",
                updateMethod: "html",
                onGet(t) {
                    return t ? t.html ? t.html : $e("<div />").text(t.text).html() : ""
                }
            },
            ":el": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return !t || !t.bgColor ? "" : `background-color: ${t.bgColor}`
                    }
                }, {
                    name: "class",
                    observe: "classes",
                    onGet(t) {
                        return t ? t.join(" ") : ""
                    }
                }]
            },
            ".choice-button": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return t && t.buttonColor ? `background-color: ${t.buttonColor}` : null
                    }
                }]
            }
        },
        initialize() {
            this.currentEntry = null, this.shouldSubmit = !1, this.promptComponent = new _n({
                model: new Je.Model({
                    text: "",
                    className: ""
                })
            }), this.inputComponent = this.inputComponent || new oa({
                model: new Je.Model({})
            }), this.buttonsCollection = this.buttonsCollection || new Je.Collection([{
                text: "submit"
            }]), this.buttonsComponent = this.buttonsComponent || new tn({
                block: !0,
                collection: this.buttonsCollection
            }), this.listenTo(this.model, "change", this.update, this)
        },
        update() {
            this.model.get("isAudience") && ((this.model.get("entryId") === void 0 || this.model.get("entryId") !== this.entryId) && (this.audienceEntry = void 0), this.audienceEntry && this.model.setUpdate({
                entry: this.audienceEntry,
                entryId: this.model.get("entryId") || 0
            })), this.promptComponent.model.clear({
                silent: !0
            }).set(this.model.get("prompt")), this.inputComponent.model.set(this.model.attributes), this.buttonsComponent.options.block = this.model.get("block"), this.buttonsCollection.set(this.model.get("actions") || [{
                text: "submit",
                action: "submit"
            }]), this.model.get("entryId") && this.model.get("entryId") !== this.currentEntry && (this.inputComponent.clearInput(), this.currentEntry = this.model.get("entryId")), this.$el.find(".enterSingleTextFieldset").prop("disabled", !1), this.$el.find("textarea").focus(), this.stickit(), this.model.get("autoSubmit") && this.shouldSubmit && this.onChildviewInputSubmit()
        },
        onRender() {
            this.showChildView("prompt", this.promptComponent), this.showChildView("input", this.inputComponent), this.showChildView("buttons", this.buttonsComponent), this.stickit()
        },
        onAttach() {
            this.update(), kt.vibrate()
        },
        onChildviewInputText(t) {
            let e = t.getValue();
            e.length > this.model.get("maxLength") && (e = e.substr(0, this.model.get("maxLength")), t.setValue(e)), this.shouldSubmit = e.length > 0, this.model.get("live") && (this.throttledSend || (this.throttledSend = Ue.throttle(() => {
                const i = t.getSanitizedValue();
                if (i.length === 0) return;
                const n = {
                        action: "write-live",
                        entry: i
                    },
                    s = this.model.get("textKey");
                s !== void 0 && (n.textKey = s, n.val = i), this.triggerMethod("client:message", n)
            }, 500)), this.throttledSend())
        },
        onChildviewInputSubmit() {
            let t = this.inputComponent.getValue(),
                e = this.inputComponent.getSanitizedValue();
            if (this.model.setUpdate({
                    error: null
                }), e.length === 0 && !this.model.get("allowEmpty")) return this.model.setUpdate({
                error: this.model.get("strings").ERROR_NOTHING_ENTERED
            }), !1;
            t.length > this.model.get("maxLength") && (this.inputComponent.setValue(t.substr(0, this.model.get("maxLength"))), t = this.inputComponent.getValue(), e = this.inputComponent.getSanitizedValue()), this.shouldSubmit = !1;
            const i = {
                    action: "write",
                    entry: e
                },
                n = this.model.get("textKey");
            return n && (i.textKey = n, i.val = e), this.triggerMethod("client:message", i), this.model.get("isAudience") ? this.model.get("repeating") ? this.inputComponent.clearInput() : (this.audienceEntry = e, this.entryId = this.model.get("entryId") || 0, this.model.setUpdate({
                entry: this.audienceEntry,
                shotId: this.entryId
            })) : this.model.get("repeating") || this.$el.find(".enterSingleTextFieldset").prop("disabled", !0), !1
        },
        onTextFilterError() {
            this.model.setUpdate({
                error: this.model.get("strings").ERROR_REJECTED_TEXT
            })
        },
        onChildviewChildviewButtonSuggestion() {
            const t = this.model.get("suggestions"),
                e = this.inputComponent.getSanitizedValue(),
                i = Ue.without(t, e);
            return this.inputComponent.setValue(Ue.shuffle(i)[0]), !1
        },
        onChildviewChildviewButtonChoose(t) {
            return this.triggerMethod("client:message", {
                action: t.get("key")
            }), !1
        },
        onChildviewChildviewButtonHelp() {
            return this.triggerMethod("client:message", {
                action: "help"
            }), !1
        }
    }),
    la = xt.View.extend({
        model: new Je.Model({}),
        myViewOptions: ["width", "height", "sketchOptions"],
        template: Ue.template(`
        <h1 class='title'>ImageView</h1>
        <img class='imageData'>
    `),
        initialize(t) {
            this.mergeOptions(t, this.myViewOptions), this.model.on({
                "change:lines": this.setImageFromLines.bind(this)
            })
        },
        bindings: {
            ".title": {
                observe: "title",
                visible: !0,
                updateView: !0
            },
            ".imageData": {
                attributes: [{
                    name: "src",
                    observe: "src"
                }]
            }
        },
        setImageFromLines() {
            const t = this.getOption("width") || 640,
                e = this.getOption("height") || 640,
                i = this.getOption("sketchOptions"),
                n = this.model.get("lines") || [];
            if (!n.length || !i) return;
            const s = new aa(t, e, i);
            s.setLines(n), this.model.set("src", s.canvas.toDataURL("image/png"))
        },
        onRender() {
            this.stickit()
        }
    });
xt.View.extend({
    appId: "legacymain",
    appTag: "legacymain",
    template: null,
    client: null,
    initialize(t) {
        this.client = t.client, this.mergeOptions(t, ["appId", "appTag"]), this.model = new Je.Model({});
        const e = this.client.parseEntities();
        this.model.set(e), this.model.on("change", this.controllerUpdate, this), this.model.on("change", () => {
            this.update().catch(this.caughtError)
        }), this.onEntityDidChangeWithContext = this.onEntityDidChange.bind(this), this.onConnectionMessageWithContext = this.onConnectionMessage.bind(this), this.onRoomWasDestroyedWithContext = this.onRoomWasDestroyed.bind(this), this.onDisconnectedWithContext = this.onDisconnected.bind(this), this.client.on("client:entityDidChange", this.onEntityDidChangeWithContext), this.client.on("client:connection", this.onConnectionMessageWithContext), this.client.on("client:roomWasDestroyed", this.onRoomWasDestroyedWithContext), this.client.on("client:disconnected", this.onDisconnectedWithContext)
    },
    render() {
        this.model.set("username", Ht.safeText(this.client.name), {
            silent: !0
        }), this.$el.html(this.template(this.model.toJSON())), this.onResizeWithContext = this.onResize.bind(this), window.addEventListener("resize", this.onResizeWithContext)
    },
    onEntityDidChange(t, e) {
        this.model.unset(t, {
            silent: !0
        }), this.model.set(t, e)
    },
    controllerUpdate() {
        const t = this.model.get("room") || {},
            e = t.state || "";
        let i = t.lobbyState;
        !i && e.indexOf("_") !== -1 && (i = t.state.split("_")[1]), i === "PostGame" || e === "Credits" || e === "GameOver" || e === "PostGame" || e === "DayEnd" || t.gameResults ? vn.isInitialized ? vn.show() : vn.init(this.getOption("appTag")).then(() => {
            vn.show()
        }) : vn.hide(), t.platformId && ri.setTag(`platform-${t.platformId}`)
    },
    async update() {
        return null
    },
    caughtError(t) {
        throw t
    },
    onAttach() {
        this.update().catch(this.caughtError), $e(".gallery-link").click(this.artifactClicked.bind(this)), this.client.isRole("broadcaster") && this.showTwitchBroadcasterDialog(20 * 1e3)
    },
    showTwitchBroadcasterDialog(t) {
        let e = `<div class='icon-${this.client.roles.broadcaster.platform}'>${this.client.roles.broadcaster.name}</div>`;
        e += "<div class='success'>You have successfully connected your account to the Jackbox Audience Kit Twitch Extension.</div>", this.lacksAudience ? e += "<div class='warning'>THIS GAME DOESN'T HAVE AN AUDIENCE FEATURE</div>" : this.client.roomInfo.audienceEnabled || (e += "<div class='warning'>THIS ROOM DOESN'T HAVE THE AUDIENCE SETTING ENABLED</div>"), kt.show("custom", {
            html: e,
            position: "bottom",
            timer: t,
            backdrop: "transparent",
            customClass: {
                container: "jbgTwitchContainer",
                popup: "jbgTwitchPopup",
                htmlContainer: "jbgTwitchContent",
                closeButton: "jbgCloseButton"
            },
            showCloseButton: !0,
            closeButtonHtml: '<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 2.00006L2 20" stroke="#0C0C0C" stroke-width="3"></path><path d="M2 2.00001L20 20" stroke="#0C0C0C" stroke-width="3" /></svg >',
            showConfirmButton: !1,
            showClass: {
                popup: "jbgTwitchShow"
            },
            hideClass: {
                popup: "jbgTwitchHide"
            }
        })
    },
    onBeforeDestroy() {
        this.model.stopListening(), this.client.off("client:entityDidChange", this.onEntityDidChangeWithContext), this.client.off("client:connection", this.onConnectionMessageWithContext), this.client.off("client:roomWasDestroyed", this.onRoomWasDestroyedWithContext), this.client.off("client:disconnected", this.onDisconnectedWithContext)
    },
    artifactClicked() {
        hr.setAsViewed(0)
    },
    showScreen(t, e) {
        const i = $e(t);
        return this.activeScreen && t === this.activeScreen || (this.activeScreen && ($e(this.activeScreen).fadeOut("fast", () => {}), $e(this.activeScreen).show(), $e(this.activeScreen).addClass("pt-page-off")), i.hide(), i.removeClass("pt-page-off"), i.removeClass("pt-page-moveToLeft"), i.fadeIn("fast", () => {
            e && e()
        }), this.activeScreen = t, this.onResize()), !1
    },
    notify() {
        kt.vibrate()
    },
    onRoomWasDestroyed() {
        ri.remove("roomCode"), ri.remove("reconnect"), kt.show("error", {
            titleText: "Disconnected",
            text: "Thanks for playing!",
            willClose: () => {
                window.location.reload(!0)
            }
        })
    },
    onDisconnected() {
        kt.show("error", {
            titleText: "Disconnected",
            text: "You have been disconnected.",
            willClose: () => {
                window.location.reload(!0)
            }
        })
    },
    onConnectionMessage(t) {
        const e = `${t.status} ${t.attempt?`${t.attempt}/5'`:""}`;
        if (kt.show("toast", {
                text: e
            }), t.status === "connected") {
            const i = this.client.parseEntities();
            this.model.set(i)
        }
    },
    onResize() {
        const t = $e("#player").outerHeight(!0) || 0,
            e = vn.isVisible ? $e("#slide-in-banner").outerHeight(!0) : 0,
            i = $e(window).width(),
            n = $e(window).height() - t;
        $e(`.${this.getOption("appTag")}-page`).css("height", n - e), $e(`.${this.getOption("appTag")}-page`).attr("height", n - e), $e(`.${this.getOption("appTag")}-page`).css("top", t), $e(`.${this.getOption("appTag")}-page`).css("width", i), $e(`.${this.getOption("appTag")}-page`).attr("width", i)
    }
});
const Fd = `<div id="controller" class="state-controller controller-content">
    <div id="title" class="lobbyTitle">title</div>
    <div id="vipMenu" class="vipMenu">
        <div id="choices" class="choicesContainer">choices</div>
    </div>
    <div class="characterSelect">
        <div id="charactersPrompt" class="charactersPrompt">
            <span id="charactersPromptText" class="charactersPromptText"></span>
        </div>
        <div id="characters" class="charactersContainer"></div>
    </div>
    <div id="artifactId" class="artifactContainer text">
        <a id="artifactLink" aria-label="Visit the Gallery" class="artifactLink" target="_blank">
            <button id="artifactButton" class="artifactButton"></button>
        </a>
    </div>
</div>`,
    gE = Pi.extend({
        defaults: {
            canChangeName: !1,
            playerIsVIP: !1,
            playerCanStartGame: !1,
            playerCanCensor: !1,
            gameCanStart: !1,
            gameIsStarting: !1,
            gameEnded: !1,
            game: {
                familyFriendly: !1,
                extendedTimers: !1,
                requireTwitch: !1,
                controllerOnly: !1,
                skipTutorials: !1
            },
            choices: [],
            artifact: null,
            characters: null,
            censorablePlayers: [],
            playerCanDoEpisodes: !1,
            playerCanReport: !1,
            playerCanViewAuthor: !1,
            lastUGCResult: null,
            history: [],
            activeContentId: null,
            formattedActiveContentId: null,
            isLocal: !1,
            strings: {
                wait: "Sit back and relax!",
                vip_waiting: "Waiting for all players to join",
                vip_canStart: "Press this button when everybody has joined",
                vip_cancel: "Press this button to cancel game start",
                vip_postgame: "What would you like to do now?",
                vip_episodes_menu: "Episodes Menu",
                vip_episodes_unload: "Unload Episode",
                vip_episodes_report: "Report Episode",
                vip_episodes_warning: "Warning: user generated content is not rated",
                vip_episodes_load: "Load an episode by id:",
                vip_episodes_select: "Or select an episode:",
                vip_episodes_back: "Back",
                vip_episodes_submit: "SUBMIT",
                vip_episodes_view_author: "View Author",
                button_start: "Everybody's In",
                button_cancel: "Cancel",
                button_changename: "Change Name",
                button_sameplayers: "Same Players",
                button_newplayers: "New Players",
                prompt_entername: "Enter your name",
                prompt_choosecharacter: "Select your character",
                button_censorOptions: "Censor Options",
                censor_prompt: ""
            }
        }
    }),
    mE = xt.View.extend({
        tagName: "button",
        template: Ue.template('<span class="flex-item"></span>'),
        className() {
            return `characters ${this.model.get("name")}`
        },
        events: {
            click: "onCharacterClick"
        },
        bindings: {
            ":el": {
                attributes: [{
                    name: "style",
                    observe: "bgcolor",
                    onGet(t) {
                        return t ? `background-color: ${t};` : ""
                    }
                }, {
                    name: "aria-label",
                    observe: "name"
                }, {
                    name: "disabled",
                    observe: "available",
                    onGet(t) {
                        return t !== void 0 ? !t : null
                    }
                }],
                classes: {
                    active: "active",
                    selected: {
                        observe: "selected",
                        onGet(t) {
                            return t
                        }
                    },
                    disabled: {
                        observe: "available",
                        onGet(t) {
                            return !t
                        }
                    }
                }
            }
        },
        onCharacterClick() {
            this.trigger("character:click", this.model)
        },
        onRender() {
            this.stickit()
        }
    }),
    jd = xt.View.extend({
        className: "Lobby scrollable",
        template: Ue.template(Fd),
        model: new gE,
        titleComponent: null,
        choicesListView: null,
        charactersListView: null,
        regions: {
            title: "#title",
            choices: "#choices",
            characters: "#characters"
        },
        events: {
            "click .choice-button": "onButtonClick",
            "click .artifactLink": "onArtifactClick"
        },
        bindings: {
            ":el": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return !t || !t.bgColor ? "" : `background-color: ${t.bgColor};`
                    }
                }, {
                    name: "class",
                    observe: "classes",
                    onGet(t) {
                        return t ? t.join(" ") : ""
                    }
                }]
            },
            ".artifactContainer": {
                observe: "artifact",
                visible: !0
            },
            ".artifactLink": {
                attributes: [{
                    name: "href",
                    observe: "artifact",
                    onGet(t) {
                        if (!t) return null;
                        let e = "games.jackbox.tv";
                        return t.rootId.indexOf("test") !== -1 && (e = "games-test.jackbox.tv"), `https://${e}/artifact/${t.categoryId}/${t.artifactId}/`
                    }
                }]
            },
            ".choice-button": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return t && t.buttonColor ? `background-color: ${t.buttonColor}` : null
                    }
                }]
            },
            ".characterSelect": {
                observe: "characters",
                visible: !0
            },
            ".charactersPrompt": {
                observe: "characters",
                visible: !0,
                onGet(t) {
                    return t && !Ue.isEmpty(t)
                }
            },
            ".charactersPromptText": {
                observe: "strings",
                onGet() {
                    return this.getOption("strings").prompt_choosecharacter
                }
            }
        },
        strings: {},
        initialize() {
            this.titleComponent = new _n({
                model: new Je.Model({})
            }), this.choicesListView = this.choicesListView || new tn, this.charactersListView = new xt.CollectionView({
                childView: mE,
                className: "charactersList",
                collection: new Je.Collection
            }), this.listenTo(this.model, "change", this.update, this)
        },
        update() {
            if (this.strings = this.model.get("strings"), this.choicesListView.collection.reset(), this.titleComponent.model.set("html", this.getOption("strings").wait), this.model.get("playerIsVIP") && (this.model.get("gameCanStart") ? this.model.get("playerCanStartGame") && (this.model.get("gameIsStarting") ? (this.titleComponent.model.set("html", this.getOption("strings").vip_cancel), this.choicesListView.collection.add({
                    className: "vipCancel",
                    html: this.getOption("strings").button_cancel,
                    action: "cancel"
                })) : this.model.get("gameFinished") ? (this.titleComponent.model.set("html", this.getOption("strings").vip_postgame), this.choicesListView.collection.add({
                    html: this.getOption("strings").button_sameplayers,
                    action: "PostGame_Continue"
                }), this.choicesListView.collection.add({
                    html: this.getOption("strings").button_newplayers,
                    action: "PostGame_NewGame"
                })) : (this.titleComponent.model.set("html", this.getOption("strings").vip_canStart), this.choicesListView.collection.add({
                    className: "vipStart",
                    html: this.getOption("strings").button_start,
                    action: "start"
                }), this.model.get("playerCanCensor") && this.model.get("censorablePlayers").length > 0 && this.choicesListView.collection.add({
                    className: "vipCensorOptions",
                    html: this.getOption("strings").button_censorOptions,
                    action: "censorOptions"
                }))) : this.titleComponent.model.set("html", this.getOption("strings").vip_waiting)), this.model.get("playerCanDoEpisodes")) {
                if (this.model.get("activeContentId")) {
                    const i = this.model.get("activeContentId"),
                        n = this.model.get("history").find(o => i === (o.remoteContentId || o.localContentId)),
                        s = n && n.metadata ? Ht.htmlUnescape(n.metadata.title) : null;
                    s && this.choicesListView.collection.add({
                        type: "text",
                        text: s
                    }), this.choicesListView.collection.add({
                        html: this.getOption("strings").vip_episodes_unload,
                        action: "ugc-unload",
                        block: !1
                    }), this.model.get("playerCanReport") && this.choicesListView.collection.add({
                        html: this.getOption("strings").vip_episodes_report,
                        action: "ugc-report",
                        block: !1
                    }), this.model.get("playerCanViewAuthor") && this.choicesListView.collection.add({
                        html: this.getOption("strings").vip_episodes_view_author,
                        action: "ugc-view-author",
                        block: !1
                    })
                } else this.choicesListView.collection.add({
                    className: "vipEpisodesMenu",
                    html: this.getOption("strings").vip_episodes_menu,
                    action: "ugc"
                });
                const e = this.model.get("lastUGCResult");
                e && e.error && this.lastUGCResultId !== e.id && (kt.show("alert", {
                    text: e.error
                }), this.lastUGCResultId = e.id)
            }
            this.model.get("canChangeName") && this.choicesListView.collection.add({
                html: this.getOption("strings").button_changename,
                action: "changeName"
            }), this.model.get("choices") && this.choicesListView.collection.add(this.model.get("choices"));
            const t = this.model.get("characters") || [];
            this.charactersListView.collection.set(Ue.map(t, e => {
                const i = this.model.get("playerInfo") || {},
                    n = e;
                return n.bgcolor = i.buttonColor, n.selected = i.avatar === n.name, n
            })), this.stickit()
        },
        onRender() {
            this.showChildView("title", this.titleComponent), this.showChildView("choices", this.choicesListView), this.showChildView("characters", this.charactersListView), this.update()
        },
        onArtifactClick() {
            this.triggerMethod("track:event", {
                category: "PostGame",
                action: "galleryClicked"
            }), hr.setAsViewed(0)
        },
        async onButtonClick(t) {
            const e = this;
            t.preventDefault();
            const n = $e(t.currentTarget).data("action");
            if (n !== "back" && n !== "censorConfirm" && n !== "activateContentId")
                if (n === "changeName") try {
                        const s = await kt.show("custom", {
                            input: "text",
                            title: this.getOption("strings").prompt_entername,
                            customClass: {
                                input: "playerName"
                            },
                            inputAttributes: {
                                maxlength: 12
                            },
                            inputValidator: o => o ? o.length > 12 ? "Limit 12 characters" : null : "You need to write something!"
                        });
                        if (s.dismiss) return;
                        this.triggerMethod("client:message", {
                            name: s.value
                        })
                    } catch {} else if (n === "censorOptions") kt.show("custom", {
                        target: this.el,
                        html: "",
                        confirmButtonText: this.model.get("strings").button_cancel,
                        customClass: {
                            popup: "censorOptionsModal",
                            confirmButton: "cancelButton"
                        },
                        didOpen() {
                            const s = new tn({
                                    el: ".censorOptionsModal",
                                    action: "censor",
                                    collection: new Je.Collection
                                }),
                                o = [{
                                    type: "text",
                                    className: "prompt",
                                    html: e.model.get("strings").censor_prompt
                                }, ...e.model.get("censorablePlayers").map(p => ({
                                    action: "censorConfirm",
                                    html: p.name,
                                    key: p.id
                                }))];
                            s.collection.set(o), s.render(), e.listenTo(s, "childview:button:censorConfirm", e.censorPlayer)
                        }
                    });
                    else if (n === "ugc-unload") this.triggerMethod("client:message", {
                clearContentId: !0
            });
            else if (n === "ugc-report") {
                const s = "http://support.jackboxgames.com/",
                    o = this.model.get("formattedActiveContentId");
                window.open(`${s}?episodeID=${o}`, "_blank")
            } else n === "ugc-view-author" ? this.triggerMethod("client:message", {
                viewAuthor: !0
            }) : n === "ugc" ? kt.show("custom", {
                target: this.el,
                html: "",
                showConfirmButton: !1,
                customClass: {
                    popup: "episodesModal"
                },
                background: e.model.get("playerInfo") && e.model.get("playerInfo").bgColor ? e.model.get("playerInfo").bgColor : null,
                padding: "10px 5px",
                didOpen: () => {
                    const s = new tn({
                        el: ".episodesModal",
                        action: "episode",
                        collection: new Je.Collection([])
                    });
                    s.collection.add({
                        html: this.model.get("strings").vip_episodes_back || "Back",
                        action: "back",
                        className: "backButton"
                    }), s.collection.add({
                        type: "text",
                        html: this.model.get("strings").vip_episodes_load || "Load an episode by id:",
                        className: "header"
                    }), s.collection.add({
                        type: "input",
                        preventAutosize: !0,
                        placeholder: "???-????",
                        inlineSubmit: !0,
                        inlineSubmitText: this.model.get("strings").vip_episodes_submit || "SUBMIT",
                        className: "lobbyUgcInput"
                    }), s.collection.add({
                        type: "text",
                        html: this.model.get("strings").vip_episodes_warning || "Warning: user generated content is not rated",
                        className: "danger"
                    }), e.model.get("history").length && (s.collection.add({
                        type: "text",
                        html: this.model.get("strings").vip_episodes_select || "Or select an episode:",
                        className: "episodesListHeader"
                    }), s.collection.add(e.model.get("history").map(o => ({
                        action: "activateContentId",
                        html: o.remoteContentId ? `${o.metadata.title}<br/>${o.formattedRemoteContentId}` : `${o.metadata.title}`,
                        key: o.remoteContentId || o.localContentId
                    })))), s.render(), $e(".lobbyUgcInput").mask("aaa-aaaa", {
                        placeholder: "???-????"
                    }), e.listenTo(s, "childview:button:activateContentId", e.activateContentId), e.listenTo(s, "childview:button:back", () => {
                        kt.close()
                    }), e.listenTo(s, "childview:input:submit", e.activateContentIdFromInput)
                }
            }) : this.triggerMethod("client:message", {
                action: n
            })
        },
        censorPlayer(t) {
            kt.close(), this.triggerMethod("client:message", {
                action: "censor",
                id: t.get("key")
            })
        },
        activateContentId(t) {
            kt.close(), this.triggerMethod("client:message", {
                activateContentId: !0,
                contentId: t.get("key")
            })
        },
        activateContentIdFromInput(t) {
            (t.getSanitizedValue().replace(/[^A-Za-z]/gi, "").toUpperCase() || "").length < 7 || (this.triggerMethod("client:message", {
                activateContentId: !0,
                contentId: t.getSanitizedValue().replace(/[^A-Za-z]/gi, "").toUpperCase()
            }), kt.close())
        },
        onChildviewChildviewCharacterClick(t) {
            t.get("available") && !t.get("selected") && (this.triggerMethod("client:message", {
                action: "avatar",
                name: t.get("name")
            }), this.charactersListView.collection.forEach(e => {
                e.unset("active"), e.set("bgcolor", this.model.get("playerInfo").buttonColor)
            }), t.set("active", !0), t.set("bgcolor", this.model.get("playerInfo").textColor))
        }
    }),
    vE = `<div id="image" class="logo logo-image"></div>
<div id="message" class="message"><h2 class="messageText"></h2></div>
<div id="action" class="action"></div>
<div id="artifactId" class="artifactContainer text">
    <a id="artifactLink" aria-label="Visit the Gallery" class="artifactLink" target="_blank">
        <button id="artifactButton" class="artifactButton"></button>
    </a>
</div>
`,
    yE = Pi.extend({
        defaults: {
            message: {
                text: null
            },
            classes: [],
            artifact: null
        }
    }),
    wE = xt.View.extend({
        className: "Logo",
        template: Ue.template(vE),
        model: new yE,
        events: {
            touchstart: "onTouchStart",
            "click .artifactButton": "onArtifactClick"
        },
        bindings: {
            ":el": {
                attributes: [{
                    name: "class",
                    observe: "classes",
                    onGet(t) {
                        return (t || []).join(" ")
                    }
                }]
            },
            ".message": {
                attributes: [{
                    name: "style",
                    observe: "message",
                    onGet(t) {
                        let e = "";
                        return t && (t.html || t.text) || (e += "display: none;"), e
                    }
                }]
            },
            ".messageText": {
                observe: "message",
                updateMethod: "html",
                onGet(t) {
                    return !t || !t.html && !t.text ? null : t.html ? t.html : $e("<div />").text(t.text).html()
                }
            },
            "#action": "action",
            ".artifactContainer": {
                observe: "artifact",
                visible: !0
            },
            ".artifactLink": {
                attributes: [{
                    name: "href",
                    observe: "artifact",
                    onGet(t) {
                        const e = t || {
                            rootId: "",
                            categoryId: "",
                            artifactId: ""
                        };
                        let i = "games.jackbox.tv";
                        return e.rootId.indexOf("test") !== -1 && (i = "games-test.jackbox.tv"), `https://${i}/artifact/${e.categoryId}/${e.artifactId}/`
                    }
                }]
            }
        },
        onRender() {
            this.stickit()
        },
        onTouchStart(t) {
            t.target.tagName.toLowerCase() !== "button" && t.preventDefault()
        },
        onArtifactClick() {
            this.triggerMethod("track:event", {
                category: "PostGame",
                action: "galleryClicked"
            }), hr.setAsViewed(0)
        }
    }),
    Ro = {
        en: {
            LANGUAGE_NAME: "English",
            SUPPORTED_LANGUAGES: ["English", "Français", "Italiano", "Deutsch", "Español"],
            SUPPORTED_LOCALES: ["en", "fr", "it", "de", "es"],
            LANGUAGE: "Language",
            LOGIN: "Login",
            STRING_ERROR_SERVER_ROOM_DISCONNECTED: "Disconnected",
            STRING_ERROR_SERVER_ROOM_DESTROYED: "Thanks for playing!"
        },
        fr: {
            LANGUAGE_NAME: "Français",
            SUPPORTED_LANGUAGES: ["English", "Français", "Italiano", "Deutsch", "Español"],
            SUPPORTED_LOCALES: ["en", "fr", "it", "de", "es"],
            LANGUAGE: "Langue",
            LOGIN: "Connexion",
            STRING_ERROR_SERVER_ROOM_DISCONNECTED: "Déconnecté",
            STRING_ERROR_SERVER_ROOM_DESTROYED: "Vous avez été déconnecté"
        },
        it: {
            LANGUAGE_NAME: "Italiano",
            SUPPORTED_LANGUAGES: ["English", "Français", "Italiano", "Deutsch", "Español"],
            SUPPORTED_LOCALES: ["en", "fr", "it", "de", "es"],
            LANGUAGE: "Lingua",
            LOGIN: "Accesso",
            STRING_ERROR_SERVER_ROOM_DISCONNECTED: "Disconnesso",
            STRING_ERROR_SERVER_ROOM_DESTROYED: "Disconnesso"
        },
        de: {
            LANGUAGE_NAME: "Deutsche",
            SUPPORTED_LANGUAGES: ["English", "Français", "Italiano", "Deutsch", "Español"],
            SUPPORTED_LOCALES: ["en", "fr", "it", "de", "es"],
            LANGUAGE: "Sprache",
            LOGIN: "Login",
            STRING_ERROR_SERVER_ROOM_DISCONNECTED: "Getrennt",
            STRING_ERROR_SERVER_ROOM_DESTROYED: "Getrennt"
        },
        es: {
            LANGUAGE_NAME: "Español",
            SUPPORTED_LANGUAGES: ["English", "Français", "Italiano", "Deutsch", "Español"],
            SUPPORTED_LOCALES: ["en", "fr", "it", "de", "es"],
            LANGUAGE: "idioma",
            LOGIN: "Iniciar sesión",
            STRING_ERROR_SERVER_ROOM_DISCONNECTED: "Desconectado",
            STRING_ERROR_SERVER_ROOM_DESTROYED: "Desconectado"
        }
    },
    bE = `<div id="player" class="playerTopBar">
    <div id="playericon" class="playerIcon"></div>
    <div id="playername" class="playerName controller-text"></div>
</div>`,
    _E = xt.View.extend({
        className: "playerTopBarView",
        template: Ue.template(bE),
        model: new Je.Model,
        bindings: {
            ":el": {
                observe: ["username", "hidden"],
                visible(t) {
                    return t[0] && !t[1]
                },
                attributes: [{
                    name: "class",
                    observe: "classes",
                    onGet(t) {
                        return (t || []).join(" ")
                    }
                }]
            },
            "#playername": {
                observe: "username",
                attributes: [{
                    name: "style",
                    observe: "textColor",
                    onGet(t) {
                        return t ? `color: ${t}` : ""
                    }
                }]
            },
            ".playerTopBar": {
                observe: "username",
                visible: !0,
                attributes: [{
                    name: "style",
                    observe: "topBarColor",
                    onGet(t) {
                        return t ? `background-color: ${t}` : ""
                    }
                }]
            },
            "#playericon": {
                observe: "avatar",
                visible: !0,
                attributes: [{
                    name: "class",
                    observe: "avatar"
                }]
            }
        },
        onRender() {
            this.stickit()
        }
    }),
    CE = `<div id="controller" class="state-controller controller-content">
    <div id="prompt" class="prompt text"></div>
    <div class="error text-danger"></div>
    <div id="choicesRegion"></div>
    <div id="chosen" class="chosen text"></div>
    <div class="makeSingleChoiceDone">
        <span class="doneText"></span>
    </div>
</div>`,
    xE = Pi.extend({
        defaults: {
            choiceId: void 0,
            type: "single",
            censorDialog: "none",
            chosen: null,
            choices: [],
            prompt: {},
            error: null,
            block: !0,
            classes: [],
            maxVotes: 16,
            doneText: {},
            announcePrompt: !1,
            countGroupName: null,
            strings: {
                your_choice: "Thank you. Your choice: ",
                censor_prompt: "Censor this?",
                censor_confirm: "Yes, Censor!",
                censor_cancel: "No!"
            }
        }
    }),
    Vl = xt.View.extend({
        className: "MakeSingleChoice scrollable",
        template: Ue.template(CE),
        model: new xE,
        sessionModule: "vote",
        sessionName: " Vote",
        regions: {
            prompt: "#prompt",
            choices: "#choicesRegion"
        },
        bindings: {
            ".chosen": {
                observe: "chosen",
                updateMethod: "html",
                onGet(t) {
                    return t ? t.html ? t.html : $e("<div />").text(t.text).html() : null
                }
            },
            ".choices": {
                observe: "chosen",
                visible(t) {
                    return t === "" || t === null
                }
            },
            ".error": {
                observe: "error",
                visible: !0,
                updateView: !0
            },
            ".makeSingleChoiceDone": {
                observe: "chosen",
                visible(t) {
                    return t !== null && t !== ""
                }
            },
            ".doneText": {
                observe: "doneText",
                updateMethod: "html",
                onGet(t) {
                    return t ? t.html ? t.html : $e("<div />").text(t.text).html() : null
                }
            },
            ":el": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return !t || !t.bgColor ? "" : `background-color: ${t.bgColor}`
                    }
                }, {
                    name: "class",
                    observe: "classes",
                    onGet(t) {
                        return t ? t.join(" ") : ""
                    }
                }]
            },
            ".choice-button": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return t && t.buttonColor ? `background-color:${t.buttonColor}` : null
                    }
                }]
            }
        },
        initialize() {
            this.promptComponent = this.promptComponent || new _n({
                model: new Je.Model
            }), this.choicesList = this.choicesList || new tn({
                action: "choose",
                collection: new Je.Collection
            }), this.selected = [], this.listenTo(this.model, "change", this.update, this)
        },
        onBeforeDestroy() {
            this.model.get("type") === "multiple" && this.onChildviewChildviewButtonSubmit()
        },
        update() {
            this.promptComponent.model.clear({
                silent: !0
            }).set(this.model.get("prompt")), this.choicesList.options.block = this.model.get("block"), this.choicesList.collection.set(this.model.get("choices")), this.model.get("type") === "multiple" && Ue.all(this.model.get("choices"), t => !t.disabled) && this.choicesList.collection.push({
                text: "Submit",
                action: "submit",
                block: !1
            }), this.model.get("isAudience") && ((this.model.get("choiceId") === void 0 || this.model.get("choiceId") !== this.getOption("choiceId")) && (this.selected = [], this.audienceChoice = void 0, this.votesLeft = void 0), this.selected.length > 0 && (this.model.get("type") === "multiple" ? this.choicesList.children.forEach(t => {
                this.selected.find(e => e === t.getOption("index")) !== void 0 && t.model.set("selected", !0)
            }) : this.model.setUpdate({
                chosen: this.displayAudienceChoice(this.selected),
                choiceId: this.model.get("choiceId") || 0
            }))), this.choiceId = this.model.get("choiceId") || 0, this.stickit()
        },
        onRender() {
            this.showChildView("prompt", this.promptComponent), this.showChildView("choices", this.choicesList), this.stickit()
        },
        onAttach() {
            this.update(), kt.vibrate()
        },
        onChildviewChildviewButtonChoose(t) {
            const e = t.get("action") || "choose",
                i = t.get("index"),
                n = this.model.get("type");
            switch (this.choicesList.children.forEach(s => {
                    s.model.set("disabled", n === "single"), s.model.set("active", !1)
                }), n) {
                case "multiple":
                    if (this.model.get("toggle") ? t.set("selected", !t.get("selected")) : t.set("selected", !0), this.model.get("isAudience")) {
                        const s = [];
                        this.choicesList.children.forEach(o => {
                            o.model.get("selected") && s.push(o.getOption("index"))
                        }), this.selected = s
                    }
                    return !1;
                case "repeating":
                    if (this.votesLeft === void 0 && (this.votesLeft = this.model.get("maxVotes")), this.delaySubmit || this.votesLeft <= 0 && this.model.get("isAudience")) return !1;
                    this.delaySubmit = !0, window.setTimeout(() => {
                        this.delaySubmit = !1
                    }, 101), this.votesLeft -= 1;
                    break;
                case "single":
                    t.set("selected", !0), t.set("active", !0);
                    break
            }
            return this.model.get("isPlayer") ? this.triggerMethod("client:message", {
                action: e,
                choice: i
            }) : this.model.get("isAudience") && (this.selected = [t.get("index")], this.triggerMethod("client:countGroup", {
                name: this.model.get("countGroupName"),
                vote: i
            }), n !== "repeating" && this.model.setUpdate({
                chosen: this.displayAudienceChoice(this.selected),
                choiceId: this.choiceId
            })), !1
        },
        displayAudienceChoice(t) {
            let e = "Thank you.";
            const i = t.map(s => {
                const o = this.choicesList.children.find(p => p.model.get("index") === s);
                return o ? o.model.get("html") || o.model.get("text") : ""
            });
            return t !== void 0 && this.model.get("strings") && (e = this.model.get("strings").your_choice + i.join(", ")), {
                html: e
            }
        },
        onChildviewChildviewButtonCensor(t) {
            const e = t.get("index"),
                i = t.get("html");
            if (this.model.get("censorDialog") === "confirm") t.get("isWarned") ? this.triggerMethod("client:message", {
                action: "censor",
                choice: e
            }) : t.set("isWarned", !0);
            else {
                if (this.model.get("censorDialog") === "warning") return Xt.close(), Xt.fire({
                    customClass: {
                        popup: "Dialog",
                        container: "container",
                        content: "content",
                        title: "title",
                        closeButton: "button closeButton",
                        cancelButton: "button cancelButton",
                        confirmButton: "button confirmButton",
                        denyButton: "button denyButton"
                    },
                    title: this.model.get("strings").censor_prompt,
                    text: i,
                    showCancelButton: !0,
                    confirmButtonText: this.model.get("strings").censor_confirm,
                    cancelButtonText: this.model.get("strings").censor_cancel,
                    confirmButtonColor: "#900"
                }).then(n => {
                    n.value && this.triggerMethod("client:message", {
                        action: "censor",
                        choice: e
                    })
                }), !1;
                this.triggerMethod("client:message", {
                    action: "censor",
                    choice: e
                })
            }
            return !1
        },
        onChildviewChildviewButtonSubmit() {
            let t = [];
            this.choicesList.children.forEach(i => {
                i.model.get("selected") && t.push(i.getOption("index"))
            });
            const e = t.join(",");
            this.model.get("isPlayer") ? this.triggerMethod("client:message", {
                action: "submit",
                choice: e
            }) : this.model.get("isAudience") && (this.triggerMethod("client:countGroup", {
                name: this.model.get("countGroupName"),
                vote: e
            }), this.model.get("type") !== "repeating" && (t = [], this.choicesList.children.forEach(i => {
                i.model.get("selected") && t.push(i.getOption("index"))
            }), this.selected = t, this.model.setUpdate({
                chosen: this.displayAudienceChoice(this.selected),
                choiceId: this.choiceId
            })))
        }
    });
/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function Uu(t, e) {
    var i = Object.keys(t);
    if (Object.getOwnPropertySymbols) {
        var n = Object.getOwnPropertySymbols(t);
        e && (n = n.filter(function(s) {
            return Object.getOwnPropertyDescriptor(t, s).enumerable
        })), i.push.apply(i, n)
    }
    return i
}

function rn(t) {
    for (var e = 1; e < arguments.length; e++) {
        var i = arguments[e] != null ? arguments[e] : {};
        e % 2 ? Uu(Object(i), !0).forEach(function(n) {
            EE(t, n, i[n])
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : Uu(Object(i)).forEach(function(n) {
            Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(i, n))
        })
    }
    return t
}

function Vo(t) {
    return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Vo = function(e) {
        return typeof e
    } : Vo = function(e) {
        return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }, Vo(t)
}

function EE(t, e, i) {
    return e in t ? Object.defineProperty(t, e, {
        value: i,
        enumerable: !0,
        configurable: !0,
        writable: !0
    }) : t[e] = i, t
}

function Cn() {
    return Cn = Object.assign || function(t) {
        for (var e = 1; e < arguments.length; e++) {
            var i = arguments[e];
            for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n])
        }
        return t
    }, Cn.apply(this, arguments)
}

function SE(t, e) {
    if (t == null) return {};
    var i = {},
        n = Object.keys(t),
        s, o;
    for (o = 0; o < n.length; o++) s = n[o], !(e.indexOf(s) >= 0) && (i[s] = t[s]);
    return i
}

function kE(t, e) {
    if (t == null) return {};
    var i = SE(t, e),
        n, s;
    if (Object.getOwnPropertySymbols) {
        var o = Object.getOwnPropertySymbols(t);
        for (s = 0; s < o.length; s++) n = o[s], !(e.indexOf(n) >= 0) && Object.prototype.propertyIsEnumerable.call(t, n) && (i[n] = t[n])
    }
    return i
}
var TE = "1.15.0";

function wn(t) {
    if (typeof window < "u" && window.navigator) return !!navigator.userAgent.match(t)
}
var En = wn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),
    io = wn(/Edge/i),
    zu = wn(/firefox/i),
    Us = wn(/safari/i) && !wn(/chrome/i) && !wn(/android/i),
    qd = wn(/iP(ad|od|hone)/i),
    Ud = wn(/chrome/i) && wn(/android/i),
    zd = {
        capture: !1,
        passive: !1
    };

function St(t, e, i) {
    t.addEventListener(e, i, !En && zd)
}

function bt(t, e, i) {
    t.removeEventListener(e, i, !En && zd)
}

function ca(t, e) {
    if (e) {
        if (e[0] === ">" && (e = e.substring(1)), t) try {
            if (t.matches) return t.matches(e);
            if (t.msMatchesSelector) return t.msMatchesSelector(e);
            if (t.webkitMatchesSelector) return t.webkitMatchesSelector(e)
        } catch {
            return !1
        }
        return !1
    }
}

function AE(t) {
    return t.host && t !== document && t.host.nodeType ? t.host : t.parentNode
}

function Zi(t, e, i, n) {
    if (t) {
        i = i || document;
        do {
            if (e != null && (e[0] === ">" ? t.parentNode === i && ca(t, e) : ca(t, e)) || n && t === i) return t;
            if (t === i) break
        } while (t = AE(t))
    }
    return null
}
var Hu = /\s+/g;

function Ii(t, e, i) {
    if (t && e)
        if (t.classList) t.classList[i ? "add" : "remove"](e);
        else {
            var n = (" " + t.className + " ").replace(Hu, " ").replace(" " + e + " ", " ");
            t.className = (n + (i ? " " + e : "")).replace(Hu, " ")
        }
}

function nt(t, e, i) {
    var n = t && t.style;
    if (n) {
        if (i === void 0) return document.defaultView && document.defaultView.getComputedStyle ? i = document.defaultView.getComputedStyle(t, "") : t.currentStyle && (i = t.currentStyle), e === void 0 ? i : i[e];
        !(e in n) && e.indexOf("webkit") === -1 && (e = "-webkit-" + e), n[e] = i + (typeof i == "string" ? "" : "px")
    }
}

function Ur(t, e) {
    var i = "";
    if (typeof t == "string") i = t;
    else
        do {
            var n = nt(t, "transform");
            n && n !== "none" && (i = n + " " + i)
        } while (!e && (t = t.parentNode));
    var s = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;
    return s && new s(i)
}

function Hd(t, e, i) {
    if (t) {
        var n = t.getElementsByTagName(e),
            s = 0,
            o = n.length;
        if (i)
            for (; s < o; s++) i(n[s], s);
        return n
    }
    return []
}

function nn() {
    var t = document.scrollingElement;
    return t || document.documentElement
}

function ei(t, e, i, n, s) {
    if (!(!t.getBoundingClientRect && t !== window)) {
        var o, p, y, w, x, A, D;
        if (t !== window && t.parentNode && t !== nn() ? (o = t.getBoundingClientRect(), p = o.top, y = o.left, w = o.bottom, x = o.right, A = o.height, D = o.width) : (p = 0, y = 0, w = window.innerHeight, x = window.innerWidth, A = window.innerHeight, D = window.innerWidth), (e || i) && t !== window && (s = s || t.parentNode, !En))
            do
                if (s && s.getBoundingClientRect && (nt(s, "transform") !== "none" || i && nt(s, "position") !== "static")) {
                    var B = s.getBoundingClientRect();
                    p -= B.top + parseInt(nt(s, "border-top-width")), y -= B.left + parseInt(nt(s, "border-left-width")), w = p + o.height, x = y + o.width;
                    break
                } while (s = s.parentNode);
        if (n && t !== window) {
            var X = Ur(s || t),
                j = X && X.a,
                ie = X && X.d;
            X && (p /= ie, y /= j, D /= j, A /= ie, w = p + A, x = y + D)
        }
        return {
            top: p,
            left: y,
            bottom: w,
            right: x,
            width: D,
            height: A
        }
    }
}

function Gu(t, e, i) {
    for (var n = Pn(t, !0), s = ei(t)[e]; n;) {
        var o = ei(n)[i],
            p = void 0;
        if (i === "top" || i === "left" ? p = s >= o : p = s <= o, !p) return n;
        if (n === nn()) break;
        n = Pn(n, !1)
    }
    return !1
}

function Xr(t, e, i, n) {
    for (var s = 0, o = 0, p = t.children; o < p.length;) {
        if (p[o].style.display !== "none" && p[o] !== et.ghost && (n || p[o] !== et.dragged) && Zi(p[o], i.draggable, t, !1)) {
            if (s === e) return p[o];
            s++
        }
        o++
    }
    return null
}

function Dc(t, e) {
    for (var i = t.lastElementChild; i && (i === et.ghost || nt(i, "display") === "none" || e && !ca(i, e));) i = i.previousElementSibling;
    return i || null
}

function Di(t, e) {
    var i = 0;
    if (!t || !t.parentNode) return -1;
    for (; t = t.previousElementSibling;) t.nodeName.toUpperCase() !== "TEMPLATE" && t !== et.clone && (!e || ca(t, e)) && i++;
    return i
}

function Wu(t) {
    var e = 0,
        i = 0,
        n = nn();
    if (t)
        do {
            var s = Ur(t),
                o = s.a,
                p = s.d;
            e += t.scrollLeft * o, i += t.scrollTop * p
        } while (t !== n && (t = t.parentNode));
    return [e, i]
}

function OE(t, e) {
    for (var i in t)
        if (t.hasOwnProperty(i)) {
            for (var n in e)
                if (e.hasOwnProperty(n) && e[n] === t[i][n]) return Number(i)
        } return -1
}

function Pn(t, e) {
    if (!t || !t.getBoundingClientRect) return nn();
    var i = t,
        n = !1;
    do
        if (i.clientWidth < i.scrollWidth || i.clientHeight < i.scrollHeight) {
            var s = nt(i);
            if (i.clientWidth < i.scrollWidth && (s.overflowX == "auto" || s.overflowX == "scroll") || i.clientHeight < i.scrollHeight && (s.overflowY == "auto" || s.overflowY == "scroll")) {
                if (!i.getBoundingClientRect || i === document.body) return nn();
                if (n || e) return i;
                n = !0
            }
        } while (i = i.parentNode);
    return nn()
}

function IE(t, e) {
    if (t && e)
        for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
    return t
}

function ml(t, e) {
    return Math.round(t.top) === Math.round(e.top) && Math.round(t.left) === Math.round(e.left) && Math.round(t.height) === Math.round(e.height) && Math.round(t.width) === Math.round(e.width)
}
var zs;

function Gd(t, e) {
    return function() {
        if (!zs) {
            var i = arguments,
                n = this;
            i.length === 1 ? t.call(n, i[0]) : t.apply(n, i), zs = setTimeout(function() {
                zs = void 0
            }, e)
        }
    }
}

function RE() {
    clearTimeout(zs), zs = void 0
}

function Wd(t, e, i) {
    t.scrollLeft += e, t.scrollTop += i
}

function Kd(t) {
    var e = window.Polymer,
        i = window.jQuery || window.Zepto;
    return e && e.dom ? e.dom(t).cloneNode(!0) : i ? i(t).clone(!0)[0] : t.cloneNode(!0)
}
var Mi = "Sortable" + new Date().getTime();

function ME() {
    var t = [],
        e;
    return {
        captureAnimationState: function() {
            if (t = [], !!this.options.animation) {
                var n = [].slice.call(this.el.children);
                n.forEach(function(s) {
                    if (!(nt(s, "display") === "none" || s === et.ghost)) {
                        t.push({
                            target: s,
                            rect: ei(s)
                        });
                        var o = rn({}, t[t.length - 1].rect);
                        if (s.thisAnimationDuration) {
                            var p = Ur(s, !0);
                            p && (o.top -= p.f, o.left -= p.e)
                        }
                        s.fromRect = o
                    }
                })
            }
        },
        addAnimationState: function(n) {
            t.push(n)
        },
        removeAnimationState: function(n) {
            t.splice(OE(t, {
                target: n
            }), 1)
        },
        animateAll: function(n) {
            var s = this;
            if (!this.options.animation) {
                clearTimeout(e), typeof n == "function" && n();
                return
            }
            var o = !1,
                p = 0;
            t.forEach(function(y) {
                var w = 0,
                    x = y.target,
                    A = x.fromRect,
                    D = ei(x),
                    B = x.prevFromRect,
                    X = x.prevToRect,
                    j = y.rect,
                    ie = Ur(x, !0);
                ie && (D.top -= ie.f, D.left -= ie.e), x.toRect = D, x.thisAnimationDuration && ml(B, D) && !ml(A, D) && (j.top - D.top) / (j.left - D.left) === (A.top - D.top) / (A.left - D.left) && (w = LE(j, B, X, s.options)), ml(D, A) || (x.prevFromRect = A, x.prevToRect = D, w || (w = s.options.animation), s.animate(x, j, D, w)), w && (o = !0, p = Math.max(p, w), clearTimeout(x.animationResetTimer), x.animationResetTimer = setTimeout(function() {
                    x.animationTime = 0, x.prevFromRect = null, x.fromRect = null, x.prevToRect = null, x.thisAnimationDuration = null
                }, w), x.thisAnimationDuration = w)
            }), clearTimeout(e), o ? e = setTimeout(function() {
                typeof n == "function" && n()
            }, p) : typeof n == "function" && n(), t = []
        },
        animate: function(n, s, o, p) {
            if (p) {
                nt(n, "transition", ""), nt(n, "transform", "");
                var y = Ur(this.el),
                    w = y && y.a,
                    x = y && y.d,
                    A = (s.left - o.left) / (w || 1),
                    D = (s.top - o.top) / (x || 1);
                n.animatingX = !!A, n.animatingY = !!D, nt(n, "transform", "translate3d(" + A + "px," + D + "px,0)"), this.forRepaintDummy = DE(n), nt(n, "transition", "transform " + p + "ms" + (this.options.easing ? " " + this.options.easing : "")), nt(n, "transform", "translate3d(0,0,0)"), typeof n.animated == "number" && clearTimeout(n.animated), n.animated = setTimeout(function() {
                    nt(n, "transition", ""), nt(n, "transform", ""), n.animated = !1, n.animatingX = !1, n.animatingY = !1
                }, p)
            }
        }
    }
}

function DE(t) {
    return t.offsetWidth
}

function LE(t, e, i, n) {
    return Math.sqrt(Math.pow(e.top - t.top, 2) + Math.pow(e.left - t.left, 2)) / Math.sqrt(Math.pow(e.top - i.top, 2) + Math.pow(e.left - i.left, 2)) * n.animation
}
var Rr = [],
    vl = {
        initializeByDefault: !0
    },
    no = {
        mount: function(e) {
            for (var i in vl) vl.hasOwnProperty(i) && !(i in e) && (e[i] = vl[i]);
            Rr.forEach(function(n) {
                if (n.pluginName === e.pluginName) throw "Sortable: Cannot mount plugin ".concat(e.pluginName, " more than once")
            }), Rr.push(e)
        },
        pluginEvent: function(e, i, n) {
            var s = this;
            this.eventCanceled = !1, n.cancel = function() {
                s.eventCanceled = !0
            };
            var o = e + "Global";
            Rr.forEach(function(p) {
                i[p.pluginName] && (i[p.pluginName][o] && i[p.pluginName][o](rn({
                    sortable: i
                }, n)), i.options[p.pluginName] && i[p.pluginName][e] && i[p.pluginName][e](rn({
                    sortable: i
                }, n)))
            })
        },
        initializePlugins: function(e, i, n, s) {
            Rr.forEach(function(y) {
                var w = y.pluginName;
                if (!(!e.options[w] && !y.initializeByDefault)) {
                    var x = new y(e, i, e.options);
                    x.sortable = e, x.options = e.options, e[w] = x, Cn(n, x.defaults)
                }
            });
            for (var o in e.options)
                if (e.options.hasOwnProperty(o)) {
                    var p = this.modifyOption(e, o, e.options[o]);
                    typeof p < "u" && (e.options[o] = p)
                }
        },
        getEventProperties: function(e, i) {
            var n = {};
            return Rr.forEach(function(s) {
                typeof s.eventProperties == "function" && Cn(n, s.eventProperties.call(i[s.pluginName], e))
            }), n
        },
        modifyOption: function(e, i, n) {
            var s;
            return Rr.forEach(function(o) {
                e[o.pluginName] && o.optionListeners && typeof o.optionListeners[i] == "function" && (s = o.optionListeners[i].call(e[o.pluginName], n))
            }), s
        }
    };

function PE(t) {
    var e = t.sortable,
        i = t.rootEl,
        n = t.name,
        s = t.targetEl,
        o = t.cloneEl,
        p = t.toEl,
        y = t.fromEl,
        w = t.oldIndex,
        x = t.newIndex,
        A = t.oldDraggableIndex,
        D = t.newDraggableIndex,
        B = t.originalEvent,
        X = t.putSortable,
        j = t.extraEventProperties;
    if (e = e || i && i[Mi], !!e) {
        var ie, v = e.options,
            $ = "on" + n.charAt(0).toUpperCase() + n.substr(1);
        window.CustomEvent && !En && !io ? ie = new CustomEvent(n, {
            bubbles: !0,
            cancelable: !0
        }) : (ie = document.createEvent("Event"), ie.initEvent(n, !0, !0)), ie.to = p || i, ie.from = y || i, ie.item = s || i, ie.clone = o, ie.oldIndex = w, ie.newIndex = x, ie.oldDraggableIndex = A, ie.newDraggableIndex = D, ie.originalEvent = B, ie.pullMode = X ? X.lastPutMode : void 0;
        var W = rn(rn({}, j), no.getEventProperties(n, e));
        for (var ne in W) ie[ne] = W[ne];
        i && i.dispatchEvent(ie), v[$] && v[$].call(e, ie)
    }
}
var $E = ["evt"],
    Ti = function(e, i) {
        var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
            s = n.evt,
            o = kE(n, $E);
        no.pluginEvent.bind(et)(e, i, rn({
            dragEl: Me,
            parentEl: zt,
            ghostEl: ut,
            rootEl: Ft,
            nextEl: sr,
            lastDownEl: Fo,
            cloneEl: qt,
            cloneHidden: Mn,
            dragStarted: Ls,
            putSortable: li,
            activeSortable: et.active,
            originalEvent: s,
            oldIndex: Nr,
            oldDraggableIndex: Hs,
            newIndex: Ri,
            newDraggableIndex: Rn,
            hideGhostForTarget: Qd,
            unhideGhostForTarget: Zd,
            cloneNowHidden: function() {
                Mn = !0
            },
            cloneNowShown: function() {
                Mn = !1
            },
            dispatchSortableEvent: function(y) {
                xi({
                    sortable: i,
                    name: y,
                    originalEvent: s
                })
            }
        }, o))
    };

function xi(t) {
    PE(rn({
        putSortable: li,
        cloneEl: qt,
        targetEl: Me,
        rootEl: Ft,
        oldIndex: Nr,
        oldDraggableIndex: Hs,
        newIndex: Ri,
        newDraggableIndex: Rn
    }, t))
}
var Me, zt, ut, Ft, sr, Fo, qt, Mn, Nr, Ri, Hs, Rn, Mo, li, Pr = !1,
    ua = !1,
    ha = [],
    nr, Vi, yl, wl, Ku, Xu, Ls, Mr, Gs, Ws = !1,
    Do = !1,
    jo, pi, bl = [],
    Fl = !1,
    da = [],
    Aa = typeof document < "u",
    Lo = qd,
    Yu = io || En ? "cssFloat" : "float",
    NE = Aa && !Ud && !qd && "draggable" in document.createElement("div"),
    Xd = function() {
        if (Aa) {
            if (En) return !1;
            var t = document.createElement("x");
            return t.style.cssText = "pointer-events:auto", t.style.pointerEvents === "auto"
        }
    }(),
    Yd = function(e, i) {
        var n = nt(e),
            s = parseInt(n.width) - parseInt(n.paddingLeft) - parseInt(n.paddingRight) - parseInt(n.borderLeftWidth) - parseInt(n.borderRightWidth),
            o = Xr(e, 0, i),
            p = Xr(e, 1, i),
            y = o && nt(o),
            w = p && nt(p),
            x = y && parseInt(y.marginLeft) + parseInt(y.marginRight) + ei(o).width,
            A = w && parseInt(w.marginLeft) + parseInt(w.marginRight) + ei(p).width;
        if (n.display === "flex") return n.flexDirection === "column" || n.flexDirection === "column-reverse" ? "vertical" : "horizontal";
        if (n.display === "grid") return n.gridTemplateColumns.split(" ").length <= 1 ? "vertical" : "horizontal";
        if (o && y.float && y.float !== "none") {
            var D = y.float === "left" ? "left" : "right";
            return p && (w.clear === "both" || w.clear === D) ? "vertical" : "horizontal"
        }
        return o && (y.display === "block" || y.display === "flex" || y.display === "table" || y.display === "grid" || x >= s && n[Yu] === "none" || p && n[Yu] === "none" && x + A > s) ? "vertical" : "horizontal"
    },
    BE = function(e, i, n) {
        var s = n ? e.left : e.top,
            o = n ? e.right : e.bottom,
            p = n ? e.width : e.height,
            y = n ? i.left : i.top,
            w = n ? i.right : i.bottom,
            x = n ? i.width : i.height;
        return s === y || o === w || s + p / 2 === y + x / 2
    },
    VE = function(e, i) {
        var n;
        return ha.some(function(s) {
            var o = s[Mi].options.emptyInsertThreshold;
            if (!(!o || Dc(s))) {
                var p = ei(s),
                    y = e >= p.left - o && e <= p.right + o,
                    w = i >= p.top - o && i <= p.bottom + o;
                if (y && w) return n = s
            }
        }), n
    },
    Jd = function(e) {
        function i(o, p) {
            return function(y, w, x, A) {
                var D = y.options.group.name && w.options.group.name && y.options.group.name === w.options.group.name;
                if (o == null && (p || D)) return !0;
                if (o == null || o === !1) return !1;
                if (p && o === "clone") return o;
                if (typeof o == "function") return i(o(y, w, x, A), p)(y, w, x, A);
                var B = (p ? y : w).options.group.name;
                return o === !0 || typeof o == "string" && o === B || o.join && o.indexOf(B) > -1
            }
        }
        var n = {},
            s = e.group;
        (!s || Vo(s) != "object") && (s = {
            name: s
        }), n.name = s.name, n.checkPull = i(s.pull, !0), n.checkPut = i(s.put), n.revertClone = s.revertClone, e.group = n
    },
    Qd = function() {
        !Xd && ut && nt(ut, "display", "none")
    },
    Zd = function() {
        !Xd && ut && nt(ut, "display", "")
    };
Aa && !Ud && document.addEventListener("click", function(t) {
    if (ua) return t.preventDefault(), t.stopPropagation && t.stopPropagation(), t.stopImmediatePropagation && t.stopImmediatePropagation(), ua = !1, !1
}, !0);
var rr = function(e) {
        if (Me) {
            e = e.touches ? e.touches[0] : e;
            var i = VE(e.clientX, e.clientY);
            if (i) {
                var n = {};
                for (var s in e) e.hasOwnProperty(s) && (n[s] = e[s]);
                n.target = n.rootEl = i, n.preventDefault = void 0, n.stopPropagation = void 0, i[Mi]._onDragOver(n)
            }
        }
    },
    FE = function(e) {
        Me && Me.parentNode[Mi]._isOutsideThisEl(e.target)
    };

function et(t, e) {
    if (!(t && t.nodeType && t.nodeType === 1)) throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));
    this.el = t, this.options = e = Cn({}, e), t[Mi] = this;
    var i = {
        group: null,
        sort: !0,
        disabled: !1,
        store: null,
        handle: null,
        draggable: /^[uo]l$/i.test(t.nodeName) ? ">li" : ">*",
        swapThreshold: 1,
        invertSwap: !1,
        invertedSwapThreshold: null,
        removeCloneOnHide: !0,
        direction: function() {
            return Yd(t, this.options)
        },
        ghostClass: "sortable-ghost",
        chosenClass: "sortable-chosen",
        dragClass: "sortable-drag",
        ignore: "a, img",
        filter: null,
        preventOnFilter: !0,
        animation: 0,
        easing: null,
        setData: function(p, y) {
            p.setData("Text", y.textContent)
        },
        dropBubble: !1,
        dragoverBubble: !1,
        dataIdAttr: "data-id",
        delay: 0,
        delayOnTouchOnly: !1,
        touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,
        forceFallback: !1,
        fallbackClass: "sortable-fallback",
        fallbackOnBody: !1,
        fallbackTolerance: 0,
        fallbackOffset: {
            x: 0,
            y: 0
        },
        supportPointer: et.supportPointer !== !1 && "PointerEvent" in window && !Us,
        emptyInsertThreshold: 5
    };
    no.initializePlugins(this, t, i);
    for (var n in i) !(n in e) && (e[n] = i[n]);
    Jd(e);
    for (var s in this) s.charAt(0) === "_" && typeof this[s] == "function" && (this[s] = this[s].bind(this));
    this.nativeDraggable = e.forceFallback ? !1 : NE, this.nativeDraggable && (this.options.touchStartThreshold = 1), e.supportPointer ? St(t, "pointerdown", this._onTapStart) : (St(t, "mousedown", this._onTapStart), St(t, "touchstart", this._onTapStart)), this.nativeDraggable && (St(t, "dragover", this), St(t, "dragenter", this)), ha.push(this.el), e.store && e.store.get && this.sort(e.store.get(this) || []), Cn(this, ME())
}
et.prototype = {
    constructor: et,
    _isOutsideThisEl: function(e) {
        !this.el.contains(e) && e !== this.el && (Mr = null)
    },
    _getDirection: function(e, i) {
        return typeof this.options.direction == "function" ? this.options.direction.call(this, e, i, Me) : this.options.direction
    },
    _onTapStart: function(e) {
        if (e.cancelable) {
            var i = this,
                n = this.el,
                s = this.options,
                o = s.preventOnFilter,
                p = e.type,
                y = e.touches && e.touches[0] || e.pointerType && e.pointerType === "touch" && e,
                w = (y || e).target,
                x = e.target.shadowRoot && (e.path && e.path[0] || e.composedPath && e.composedPath()[0]) || w,
                A = s.filter;
            if (KE(n), !Me && !(/mousedown|pointerdown/.test(p) && e.button !== 0 || s.disabled) && !x.isContentEditable && !(!this.nativeDraggable && Us && w && w.tagName.toUpperCase() === "SELECT") && (w = Zi(w, s.draggable, n, !1), !(w && w.animated) && Fo !== w)) {
                if (Nr = Di(w), Hs = Di(w, s.draggable), typeof A == "function") {
                    if (A.call(this, e, w, this)) {
                        xi({
                            sortable: i,
                            rootEl: x,
                            name: "filter",
                            targetEl: w,
                            toEl: n,
                            fromEl: n
                        }), Ti("filter", i, {
                            evt: e
                        }), o && e.cancelable && e.preventDefault();
                        return
                    }
                } else if (A && (A = A.split(",").some(function(D) {
                        if (D = Zi(x, D.trim(), n, !1), D) return xi({
                            sortable: i,
                            rootEl: D,
                            name: "filter",
                            targetEl: w,
                            fromEl: n,
                            toEl: n
                        }), Ti("filter", i, {
                            evt: e
                        }), !0
                    }), A)) {
                    o && e.cancelable && e.preventDefault();
                    return
                }
                s.handle && !Zi(x, s.handle, n, !1) || this._prepareDragStart(e, y, w)
            }
        }
    },
    _prepareDragStart: function(e, i, n) {
        var s = this,
            o = s.el,
            p = s.options,
            y = o.ownerDocument,
            w;
        if (n && !Me && n.parentNode === o) {
            var x = ei(n);
            if (Ft = o, Me = n, zt = Me.parentNode, sr = Me.nextSibling, Fo = n, Mo = p.group, et.dragged = Me, nr = {
                    target: Me,
                    clientX: (i || e).clientX,
                    clientY: (i || e).clientY
                }, Ku = nr.clientX - x.left, Xu = nr.clientY - x.top, this._lastX = (i || e).clientX, this._lastY = (i || e).clientY, Me.style["will-change"] = "all", w = function() {
                    if (Ti("delayEnded", s, {
                            evt: e
                        }), et.eventCanceled) {
                        s._onDrop();
                        return
                    }
                    s._disableDelayedDragEvents(), !zu && s.nativeDraggable && (Me.draggable = !0), s._triggerDragStart(e, i), xi({
                        sortable: s,
                        name: "choose",
                        originalEvent: e
                    }), Ii(Me, p.chosenClass, !0)
                }, p.ignore.split(",").forEach(function(A) {
                    Hd(Me, A.trim(), _l)
                }), St(y, "dragover", rr), St(y, "mousemove", rr), St(y, "touchmove", rr), St(y, "mouseup", s._onDrop), St(y, "touchend", s._onDrop), St(y, "touchcancel", s._onDrop), zu && this.nativeDraggable && (this.options.touchStartThreshold = 4, Me.draggable = !0), Ti("delayStart", this, {
                    evt: e
                }), p.delay && (!p.delayOnTouchOnly || i) && (!this.nativeDraggable || !(io || En))) {
                if (et.eventCanceled) {
                    this._onDrop();
                    return
                }
                St(y, "mouseup", s._disableDelayedDrag), St(y, "touchend", s._disableDelayedDrag), St(y, "touchcancel", s._disableDelayedDrag), St(y, "mousemove", s._delayedDragTouchMoveHandler), St(y, "touchmove", s._delayedDragTouchMoveHandler), p.supportPointer && St(y, "pointermove", s._delayedDragTouchMoveHandler), s._dragStartTimer = setTimeout(w, p.delay)
            } else w()
        }
    },
    _delayedDragTouchMoveHandler: function(e) {
        var i = e.touches ? e.touches[0] : e;
        Math.max(Math.abs(i.clientX - this._lastX), Math.abs(i.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1)) && this._disableDelayedDrag()
    },
    _disableDelayedDrag: function() {
        Me && _l(Me), clearTimeout(this._dragStartTimer), this._disableDelayedDragEvents()
    },
    _disableDelayedDragEvents: function() {
        var e = this.el.ownerDocument;
        bt(e, "mouseup", this._disableDelayedDrag), bt(e, "touchend", this._disableDelayedDrag), bt(e, "touchcancel", this._disableDelayedDrag), bt(e, "mousemove", this._delayedDragTouchMoveHandler), bt(e, "touchmove", this._delayedDragTouchMoveHandler), bt(e, "pointermove", this._delayedDragTouchMoveHandler)
    },
    _triggerDragStart: function(e, i) {
        i = i || e.pointerType == "touch" && e, !this.nativeDraggable || i ? this.options.supportPointer ? St(document, "pointermove", this._onTouchMove) : i ? St(document, "touchmove", this._onTouchMove) : St(document, "mousemove", this._onTouchMove) : (St(Me, "dragend", this), St(Ft, "dragstart", this._onDragStart));
        try {
            document.selection ? qo(function() {
                document.selection.empty()
            }) : window.getSelection().removeAllRanges()
        } catch {}
    },
    _dragStarted: function(e, i) {
        if (Pr = !1, Ft && Me) {
            Ti("dragStarted", this, {
                evt: i
            }), this.nativeDraggable && St(document, "dragover", FE);
            var n = this.options;
            !e && Ii(Me, n.dragClass, !1), Ii(Me, n.ghostClass, !0), et.active = this, e && this._appendGhost(), xi({
                sortable: this,
                name: "start",
                originalEvent: i
            })
        } else this._nulling()
    },
    _emulateDragOver: function() {
        if (Vi) {
            this._lastX = Vi.clientX, this._lastY = Vi.clientY, Qd();
            for (var e = document.elementFromPoint(Vi.clientX, Vi.clientY), i = e; e && e.shadowRoot && (e = e.shadowRoot.elementFromPoint(Vi.clientX, Vi.clientY), e !== i);) i = e;
            if (Me.parentNode[Mi]._isOutsideThisEl(e), i)
                do {
                    if (i[Mi]) {
                        var n = void 0;
                        if (n = i[Mi]._onDragOver({
                                clientX: Vi.clientX,
                                clientY: Vi.clientY,
                                target: e,
                                rootEl: i
                            }), n && !this.options.dragoverBubble) break
                    }
                    e = i
                } while (i = i.parentNode);
            Zd()
        }
    },
    _onTouchMove: function(e) {
        if (nr) {
            var i = this.options,
                n = i.fallbackTolerance,
                s = i.fallbackOffset,
                o = e.touches ? e.touches[0] : e,
                p = ut && Ur(ut, !0),
                y = ut && p && p.a,
                w = ut && p && p.d,
                x = Lo && pi && Wu(pi),
                A = (o.clientX - nr.clientX + s.x) / (y || 1) + (x ? x[0] - bl[0] : 0) / (y || 1),
                D = (o.clientY - nr.clientY + s.y) / (w || 1) + (x ? x[1] - bl[1] : 0) / (w || 1);
            if (!et.active && !Pr) {
                if (n && Math.max(Math.abs(o.clientX - this._lastX), Math.abs(o.clientY - this._lastY)) < n) return;
                this._onDragStart(e, !0)
            }
            if (ut) {
                p ? (p.e += A - (yl || 0), p.f += D - (wl || 0)) : p = {
                    a: 1,
                    b: 0,
                    c: 0,
                    d: 1,
                    e: A,
                    f: D
                };
                var B = "matrix(".concat(p.a, ",").concat(p.b, ",").concat(p.c, ",").concat(p.d, ",").concat(p.e, ",").concat(p.f, ")");
                nt(ut, "webkitTransform", B), nt(ut, "mozTransform", B), nt(ut, "msTransform", B), nt(ut, "transform", B), yl = A, wl = D, Vi = o
            }
            e.cancelable && e.preventDefault()
        }
    },
    _appendGhost: function() {
        if (!ut) {
            var e = this.options.fallbackOnBody ? document.body : Ft,
                i = ei(Me, !0, Lo, !0, e),
                n = this.options;
            if (Lo) {
                for (pi = e; nt(pi, "position") === "static" && nt(pi, "transform") === "none" && pi !== document;) pi = pi.parentNode;
                pi !== document.body && pi !== document.documentElement ? (pi === document && (pi = nn()), i.top += pi.scrollTop, i.left += pi.scrollLeft) : pi = nn(), bl = Wu(pi)
            }
            ut = Me.cloneNode(!0), Ii(ut, n.ghostClass, !1), Ii(ut, n.fallbackClass, !0), Ii(ut, n.dragClass, !0), nt(ut, "transition", ""), nt(ut, "transform", ""), nt(ut, "box-sizing", "border-box"), nt(ut, "margin", 0), nt(ut, "top", i.top), nt(ut, "left", i.left), nt(ut, "width", i.width), nt(ut, "height", i.height), nt(ut, "opacity", "0.8"), nt(ut, "position", Lo ? "absolute" : "fixed"), nt(ut, "zIndex", "100000"), nt(ut, "pointerEvents", "none"), et.ghost = ut, e.appendChild(ut), nt(ut, "transform-origin", Ku / parseInt(ut.style.width) * 100 + "% " + Xu / parseInt(ut.style.height) * 100 + "%")
        }
    },
    _onDragStart: function(e, i) {
        var n = this,
            s = e.dataTransfer,
            o = n.options;
        if (Ti("dragStart", this, {
                evt: e
            }), et.eventCanceled) {
            this._onDrop();
            return
        }
        Ti("setupClone", this), et.eventCanceled || (qt = Kd(Me), qt.removeAttribute("id"), qt.draggable = !1, qt.style["will-change"] = "", this._hideClone(), Ii(qt, this.options.chosenClass, !1), et.clone = qt), n.cloneId = qo(function() {
            Ti("clone", n), !et.eventCanceled && (n.options.removeCloneOnHide || Ft.insertBefore(qt, Me), n._hideClone(), xi({
                sortable: n,
                name: "clone"
            }))
        }), !i && Ii(Me, o.dragClass, !0), i ? (ua = !0, n._loopId = setInterval(n._emulateDragOver, 50)) : (bt(document, "mouseup", n._onDrop), bt(document, "touchend", n._onDrop), bt(document, "touchcancel", n._onDrop), s && (s.effectAllowed = "move", o.setData && o.setData.call(n, s, Me)), St(document, "drop", n), nt(Me, "transform", "translateZ(0)")), Pr = !0, n._dragStartId = qo(n._dragStarted.bind(n, i, e)), St(document, "selectstart", n), Ls = !0, Us && nt(document.body, "user-select", "none")
    },
    _onDragOver: function(e) {
        var i = this.el,
            n = e.target,
            s, o, p, y = this.options,
            w = y.group,
            x = et.active,
            A = Mo === w,
            D = y.sort,
            B = li || x,
            X, j = this,
            ie = !1;
        if (Fl) return;

        function v(we, he) {
            Ti(we, j, rn({
                evt: e,
                isOwner: A,
                axis: X ? "vertical" : "horizontal",
                revert: p,
                dragRect: s,
                targetRect: o,
                canSort: D,
                fromSortable: B,
                target: n,
                completed: W,
                onMove: function(Te, Fe) {
                    return Po(Ft, i, Me, s, Te, ei(Te), e, Fe)
                },
                changed: ne
            }, he))
        }

        function $() {
            v("dragOverAnimationCapture"), j.captureAnimationState(), j !== B && B.captureAnimationState()
        }

        function W(we) {
            return v("dragOverCompleted", {
                insertion: we
            }), we && (A ? x._hideClone() : x._showClone(j), j !== B && (Ii(Me, li ? li.options.ghostClass : x.options.ghostClass, !1), Ii(Me, y.ghostClass, !0)), li !== j && j !== et.active ? li = j : j === et.active && li && (li = null), B === j && (j._ignoreWhileAnimating = n), j.animateAll(function() {
                v("dragOverAnimationComplete"), j._ignoreWhileAnimating = null
            }), j !== B && (B.animateAll(), B._ignoreWhileAnimating = null)), (n === Me && !Me.animated || n === i && !n.animated) && (Mr = null), !y.dragoverBubble && !e.rootEl && n !== document && (Me.parentNode[Mi]._isOutsideThisEl(e.target), !we && rr(e)), !y.dragoverBubble && e.stopPropagation && e.stopPropagation(), ie = !0
        }

        function ne() {
            Ri = Di(Me), Rn = Di(Me, y.draggable), xi({
                sortable: j,
                name: "change",
                toEl: i,
                newIndex: Ri,
                newDraggableIndex: Rn,
                originalEvent: e
            })
        }
        if (e.preventDefault !== void 0 && e.cancelable && e.preventDefault(), n = Zi(n, y.draggable, i, !0), v("dragOver"), et.eventCanceled) return ie;
        if (Me.contains(e.target) || n.animated && n.animatingX && n.animatingY || j._ignoreWhileAnimating === n) return W(!1);
        if (ua = !1, x && !y.disabled && (A ? D || (p = zt !== Ft) : li === this || (this.lastPutMode = Mo.checkPull(this, x, Me, e)) && w.checkPut(this, x, Me, e))) {
            if (X = this._getDirection(e, n) === "vertical", s = ei(Me), v("dragOverValid"), et.eventCanceled) return ie;
            if (p) return zt = Ft, $(), this._hideClone(), v("revert"), et.eventCanceled || (sr ? Ft.insertBefore(Me, sr) : Ft.appendChild(Me)), W(!0);
            var oe = Dc(i, y.draggable);
            if (!oe || zE(e, X, this) && !oe.animated) {
                if (oe === Me) return W(!1);
                if (oe && i === e.target && (n = oe), n && (o = ei(n)), Po(Ft, i, Me, s, n, o, e, !!n) !== !1) return $(), oe && oe.nextSibling ? i.insertBefore(Me, oe.nextSibling) : i.appendChild(Me), zt = i, ne(), W(!0)
            } else if (oe && UE(e, X, this)) {
                var ue = Xr(i, 0, y, !0);
                if (ue === Me) return W(!1);
                if (n = ue, o = ei(n), Po(Ft, i, Me, s, n, o, e, !1) !== !1) return $(), i.insertBefore(Me, ue), zt = i, ne(), W(!0)
            } else if (n.parentNode === i) {
                o = ei(n);
                var d = 0,
                    ye, Se = Me.parentNode !== i,
                    Ae = !BE(Me.animated && Me.toRect || s, n.animated && n.toRect || o, X),
                    at = X ? "top" : "left",
                    Ve = Gu(n, "top", "top") || Gu(Me, "top", "top"),
                    Ke = Ve ? Ve.scrollTop : void 0;
                Mr !== n && (ye = o[at], Ws = !1, Do = !Ae && y.invertSwap || Se), d = HE(e, n, o, X, Ae ? 1 : y.swapThreshold, y.invertedSwapThreshold == null ? y.swapThreshold : y.invertedSwapThreshold, Do, Mr === n);
                var qe;
                if (d !== 0) {
                    var K = Di(Me);
                    do K -= d, qe = zt.children[K]; while (qe && (nt(qe, "display") === "none" || qe === ut))
                }
                if (d === 0 || qe === n) return W(!1);
                Mr = n, Gs = d;
                var le = n.nextElementSibling,
                    De = !1;
                De = d === 1;
                var Ie = Po(Ft, i, Me, s, n, o, e, De);
                if (Ie !== !1) return (Ie === 1 || Ie === -1) && (De = Ie === 1), Fl = !0, setTimeout(qE, 30), $(), De && !le ? i.appendChild(Me) : n.parentNode.insertBefore(Me, De ? le : n), Ve && Wd(Ve, 0, Ke - Ve.scrollTop), zt = Me.parentNode, ye !== void 0 && !Do && (jo = Math.abs(ye - ei(n)[at])), ne(), W(!0)
            }
            if (i.contains(Me)) return W(!1)
        }
        return !1
    },
    _ignoreWhileAnimating: null,
    _offMoveEvents: function() {
        bt(document, "mousemove", this._onTouchMove), bt(document, "touchmove", this._onTouchMove), bt(document, "pointermove", this._onTouchMove), bt(document, "dragover", rr), bt(document, "mousemove", rr), bt(document, "touchmove", rr)
    },
    _offUpEvents: function() {
        var e = this.el.ownerDocument;
        bt(e, "mouseup", this._onDrop), bt(e, "touchend", this._onDrop), bt(e, "pointerup", this._onDrop), bt(e, "touchcancel", this._onDrop), bt(document, "selectstart", this)
    },
    _onDrop: function(e) {
        var i = this.el,
            n = this.options;
        if (Ri = Di(Me), Rn = Di(Me, n.draggable), Ti("drop", this, {
                evt: e
            }), zt = Me && Me.parentNode, Ri = Di(Me), Rn = Di(Me, n.draggable), et.eventCanceled) {
            this._nulling();
            return
        }
        Pr = !1, Do = !1, Ws = !1, clearInterval(this._loopId), clearTimeout(this._dragStartTimer), jl(this.cloneId), jl(this._dragStartId), this.nativeDraggable && (bt(document, "drop", this), bt(i, "dragstart", this._onDragStart)), this._offMoveEvents(), this._offUpEvents(), Us && nt(document.body, "user-select", ""), nt(Me, "transform", ""), e && (Ls && (e.cancelable && e.preventDefault(), !n.dropBubble && e.stopPropagation()), ut && ut.parentNode && ut.parentNode.removeChild(ut), (Ft === zt || li && li.lastPutMode !== "clone") && qt && qt.parentNode && qt.parentNode.removeChild(qt), Me && (this.nativeDraggable && bt(Me, "dragend", this), _l(Me), Me.style["will-change"] = "", Ls && !Pr && Ii(Me, li ? li.options.ghostClass : this.options.ghostClass, !1), Ii(Me, this.options.chosenClass, !1), xi({
            sortable: this,
            name: "unchoose",
            toEl: zt,
            newIndex: null,
            newDraggableIndex: null,
            originalEvent: e
        }), Ft !== zt ? (Ri >= 0 && (xi({
            rootEl: zt,
            name: "add",
            toEl: zt,
            fromEl: Ft,
            originalEvent: e
        }), xi({
            sortable: this,
            name: "remove",
            toEl: zt,
            originalEvent: e
        }), xi({
            rootEl: zt,
            name: "sort",
            toEl: zt,
            fromEl: Ft,
            originalEvent: e
        }), xi({
            sortable: this,
            name: "sort",
            toEl: zt,
            originalEvent: e
        })), li && li.save()) : Ri !== Nr && Ri >= 0 && (xi({
            sortable: this,
            name: "update",
            toEl: zt,
            originalEvent: e
        }), xi({
            sortable: this,
            name: "sort",
            toEl: zt,
            originalEvent: e
        })), et.active && ((Ri == null || Ri === -1) && (Ri = Nr, Rn = Hs), xi({
            sortable: this,
            name: "end",
            toEl: zt,
            originalEvent: e
        }), this.save()))), this._nulling()
    },
    _nulling: function() {
        Ti("nulling", this), Ft = Me = zt = ut = sr = qt = Fo = Mn = nr = Vi = Ls = Ri = Rn = Nr = Hs = Mr = Gs = li = Mo = et.dragged = et.ghost = et.clone = et.active = null, da.forEach(function(e) {
            e.checked = !0
        }), da.length = yl = wl = 0
    },
    handleEvent: function(e) {
        switch (e.type) {
            case "drop":
            case "dragend":
                this._onDrop(e);
                break;
            case "dragenter":
            case "dragover":
                Me && (this._onDragOver(e), jE(e));
                break;
            case "selectstart":
                e.preventDefault();
                break
        }
    },
    toArray: function() {
        for (var e = [], i, n = this.el.children, s = 0, o = n.length, p = this.options; s < o; s++) i = n[s], Zi(i, p.draggable, this.el, !1) && e.push(i.getAttribute(p.dataIdAttr) || WE(i));
        return e
    },
    sort: function(e, i) {
        var n = {},
            s = this.el;
        this.toArray().forEach(function(o, p) {
            var y = s.children[p];
            Zi(y, this.options.draggable, s, !1) && (n[o] = y)
        }, this), i && this.captureAnimationState(), e.forEach(function(o) {
            n[o] && (s.removeChild(n[o]), s.appendChild(n[o]))
        }), i && this.animateAll()
    },
    save: function() {
        var e = this.options.store;
        e && e.set && e.set(this)
    },
    closest: function(e, i) {
        return Zi(e, i || this.options.draggable, this.el, !1)
    },
    option: function(e, i) {
        var n = this.options;
        if (i === void 0) return n[e];
        var s = no.modifyOption(this, e, i);
        typeof s < "u" ? n[e] = s : n[e] = i, e === "group" && Jd(n)
    },
    destroy: function() {
        Ti("destroy", this);
        var e = this.el;
        e[Mi] = null, bt(e, "mousedown", this._onTapStart), bt(e, "touchstart", this._onTapStart), bt(e, "pointerdown", this._onTapStart), this.nativeDraggable && (bt(e, "dragover", this), bt(e, "dragenter", this)), Array.prototype.forEach.call(e.querySelectorAll("[draggable]"), function(i) {
            i.removeAttribute("draggable")
        }), this._onDrop(), this._disableDelayedDragEvents(), ha.splice(ha.indexOf(this.el), 1), this.el = e = null
    },
    _hideClone: function() {
        if (!Mn) {
            if (Ti("hideClone", this), et.eventCanceled) return;
            nt(qt, "display", "none"), this.options.removeCloneOnHide && qt.parentNode && qt.parentNode.removeChild(qt), Mn = !0
        }
    },
    _showClone: function(e) {
        if (e.lastPutMode !== "clone") {
            this._hideClone();
            return
        }
        if (Mn) {
            if (Ti("showClone", this), et.eventCanceled) return;
            Me.parentNode == Ft && !this.options.group.revertClone ? Ft.insertBefore(qt, Me) : sr ? Ft.insertBefore(qt, sr) : Ft.appendChild(qt), this.options.group.revertClone && this.animate(Me, qt), nt(qt, "display", ""), Mn = !1
        }
    }
};

function jE(t) {
    t.dataTransfer && (t.dataTransfer.dropEffect = "move"), t.cancelable && t.preventDefault()
}

function Po(t, e, i, n, s, o, p, y) {
    var w, x = t[Mi],
        A = x.options.onMove,
        D;
    return window.CustomEvent && !En && !io ? w = new CustomEvent("move", {
        bubbles: !0,
        cancelable: !0
    }) : (w = document.createEvent("Event"), w.initEvent("move", !0, !0)), w.to = e, w.from = t, w.dragged = i, w.draggedRect = n, w.related = s || e, w.relatedRect = o || ei(e), w.willInsertAfter = y, w.originalEvent = p, t.dispatchEvent(w), A && (D = A.call(x, w, p)), D
}

function _l(t) {
    t.draggable = !1
}

function qE() {
    Fl = !1
}

function UE(t, e, i) {
    var n = ei(Xr(i.el, 0, i.options, !0)),
        s = 10;
    return e ? t.clientX < n.left - s || t.clientY < n.top && t.clientX < n.right : t.clientY < n.top - s || t.clientY < n.bottom && t.clientX < n.left
}

function zE(t, e, i) {
    var n = ei(Dc(i.el, i.options.draggable)),
        s = 10;
    return e ? t.clientX > n.right + s || t.clientX <= n.right && t.clientY > n.bottom && t.clientX >= n.left : t.clientX > n.right && t.clientY > n.top || t.clientX <= n.right && t.clientY > n.bottom + s
}

function HE(t, e, i, n, s, o, p, y) {
    var w = n ? t.clientY : t.clientX,
        x = n ? i.height : i.width,
        A = n ? i.top : i.left,
        D = n ? i.bottom : i.right,
        B = !1;
    if (!p) {
        if (y && jo < x * s) {
            if (!Ws && (Gs === 1 ? w > A + x * o / 2 : w < D - x * o / 2) && (Ws = !0), Ws) B = !0;
            else if (Gs === 1 ? w < A + jo : w > D - jo) return -Gs
        } else if (w > A + x * (1 - s) / 2 && w < D - x * (1 - s) / 2) return GE(e)
    }
    return B = B || p, B && (w < A + x * o / 2 || w > D - x * o / 2) ? w > A + x / 2 ? 1 : -1 : 0
}

function GE(t) {
    return Di(Me) < Di(t) ? 1 : -1
}

function WE(t) {
    for (var e = t.tagName + t.className + t.src + t.href + t.textContent, i = e.length, n = 0; i--;) n += e.charCodeAt(i);
    return n.toString(36)
}

function KE(t) {
    da.length = 0;
    for (var e = t.getElementsByTagName("input"), i = e.length; i--;) {
        var n = e[i];
        n.checked && da.push(n)
    }
}

function qo(t) {
    return setTimeout(t, 0)
}

function jl(t) {
    return clearTimeout(t)
}
Aa && St(document, "touchmove", function(t) {
    (et.active || Pr) && t.cancelable && t.preventDefault()
});
et.utils = {
    on: St,
    off: bt,
    css: nt,
    find: Hd,
    is: function(e, i) {
        return !!Zi(e, i, e, !1)
    },
    extend: IE,
    throttle: Gd,
    closest: Zi,
    toggleClass: Ii,
    clone: Kd,
    index: Di,
    nextTick: qo,
    cancelNextTick: jl,
    detectDirection: Yd,
    getChild: Xr
};
et.get = function(t) {
    return t[Mi]
};
et.mount = function() {
    for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
    e[0].constructor === Array && (e = e[0]), e.forEach(function(n) {
        if (!n.prototype || !n.prototype.constructor) throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));
        n.utils && (et.utils = rn(rn({}, et.utils), n.utils)), no.mount(n)
    })
};
et.create = function(t, e) {
    return new et(t, e)
};
et.version = TE;
var Qt = [],
    Ps, ql, Ul = !1,
    Cl, xl, fa, $s;

function XE() {
    function t() {
        this.defaults = {
            scroll: !0,
            forceAutoScrollFallback: !1,
            scrollSensitivity: 30,
            scrollSpeed: 10,
            bubbleScroll: !0
        };
        for (var e in this) e.charAt(0) === "_" && typeof this[e] == "function" && (this[e] = this[e].bind(this))
    }
    return t.prototype = {
        dragStarted: function(i) {
            var n = i.originalEvent;
            this.sortable.nativeDraggable ? St(document, "dragover", this._handleAutoScroll) : this.options.supportPointer ? St(document, "pointermove", this._handleFallbackAutoScroll) : n.touches ? St(document, "touchmove", this._handleFallbackAutoScroll) : St(document, "mousemove", this._handleFallbackAutoScroll)
        },
        dragOverCompleted: function(i) {
            var n = i.originalEvent;
            !this.options.dragOverBubble && !n.rootEl && this._handleAutoScroll(n)
        },
        drop: function() {
            this.sortable.nativeDraggable ? bt(document, "dragover", this._handleAutoScroll) : (bt(document, "pointermove", this._handleFallbackAutoScroll), bt(document, "touchmove", this._handleFallbackAutoScroll), bt(document, "mousemove", this._handleFallbackAutoScroll)), Ju(), Uo(), RE()
        },
        nulling: function() {
            fa = ql = Ps = Ul = $s = Cl = xl = null, Qt.length = 0
        },
        _handleFallbackAutoScroll: function(i) {
            this._handleAutoScroll(i, !0)
        },
        _handleAutoScroll: function(i, n) {
            var s = this,
                o = (i.touches ? i.touches[0] : i).clientX,
                p = (i.touches ? i.touches[0] : i).clientY,
                y = document.elementFromPoint(o, p);
            if (fa = i, n || this.options.forceAutoScrollFallback || io || En || Us) {
                El(i, this.options, y, n);
                var w = Pn(y, !0);
                Ul && (!$s || o !== Cl || p !== xl) && ($s && Ju(), $s = setInterval(function() {
                    var x = Pn(document.elementFromPoint(o, p), !0);
                    x !== w && (w = x, Uo()), El(i, s.options, x, n)
                }, 10), Cl = o, xl = p)
            } else {
                if (!this.options.bubbleScroll || Pn(y, !0) === nn()) {
                    Uo();
                    return
                }
                El(i, this.options, Pn(y, !1), !1)
            }
        }
    }, Cn(t, {
        pluginName: "scroll",
        initializeByDefault: !0
    })
}

function Uo() {
    Qt.forEach(function(t) {
        clearInterval(t.pid)
    }), Qt = []
}

function Ju() {
    clearInterval($s)
}
var El = Gd(function(t, e, i, n) {
        if (e.scroll) {
            var s = (t.touches ? t.touches[0] : t).clientX,
                o = (t.touches ? t.touches[0] : t).clientY,
                p = e.scrollSensitivity,
                y = e.scrollSpeed,
                w = nn(),
                x = !1,
                A;
            ql !== i && (ql = i, Uo(), Ps = e.scroll, A = e.scrollFn, Ps === !0 && (Ps = Pn(i, !0)));
            var D = 0,
                B = Ps;
            do {
                var X = B,
                    j = ei(X),
                    ie = j.top,
                    v = j.bottom,
                    $ = j.left,
                    W = j.right,
                    ne = j.width,
                    oe = j.height,
                    ue = void 0,
                    d = void 0,
                    ye = X.scrollWidth,
                    Se = X.scrollHeight,
                    Ae = nt(X),
                    at = X.scrollLeft,
                    Ve = X.scrollTop;
                X === w ? (ue = ne < ye && (Ae.overflowX === "auto" || Ae.overflowX === "scroll" || Ae.overflowX === "visible"), d = oe < Se && (Ae.overflowY === "auto" || Ae.overflowY === "scroll" || Ae.overflowY === "visible")) : (ue = ne < ye && (Ae.overflowX === "auto" || Ae.overflowX === "scroll"), d = oe < Se && (Ae.overflowY === "auto" || Ae.overflowY === "scroll"));
                var Ke = ue && (Math.abs(W - s) <= p && at + ne < ye) - (Math.abs($ - s) <= p && !!at),
                    qe = d && (Math.abs(v - o) <= p && Ve + oe < Se) - (Math.abs(ie - o) <= p && !!Ve);
                if (!Qt[D])
                    for (var K = 0; K <= D; K++) Qt[K] || (Qt[K] = {});
                (Qt[D].vx != Ke || Qt[D].vy != qe || Qt[D].el !== X) && (Qt[D].el = X, Qt[D].vx = Ke, Qt[D].vy = qe, clearInterval(Qt[D].pid), (Ke != 0 || qe != 0) && (x = !0, Qt[D].pid = setInterval(function() {
                    n && this.layer === 0 && et.active._onTouchMove(fa);
                    var le = Qt[this.layer].vy ? Qt[this.layer].vy * y : 0,
                        De = Qt[this.layer].vx ? Qt[this.layer].vx * y : 0;
                    typeof A == "function" && A.call(et.dragged.parentNode[Mi], De, le, t, fa, Qt[this.layer].el) !== "continue" || Wd(Qt[this.layer].el, De, le)
                }.bind({
                    layer: D
                }), 24))), D++
            } while (e.bubbleScroll && B !== w && (B = Pn(B, !1)));
            Ul = x
        }
    }, 30),
    ef = function(e) {
        var i = e.originalEvent,
            n = e.putSortable,
            s = e.dragEl,
            o = e.activeSortable,
            p = e.dispatchSortableEvent,
            y = e.hideGhostForTarget,
            w = e.unhideGhostForTarget;
        if (i) {
            var x = n || o;
            y();
            var A = i.changedTouches && i.changedTouches.length ? i.changedTouches[0] : i,
                D = document.elementFromPoint(A.clientX, A.clientY);
            w(), x && !x.el.contains(D) && (p("spill"), this.onSpill({
                dragEl: s,
                putSortable: n
            }))
        }
    };

function Lc() {}
Lc.prototype = {
    startIndex: null,
    dragStart: function(e) {
        var i = e.oldDraggableIndex;
        this.startIndex = i
    },
    onSpill: function(e) {
        var i = e.dragEl,
            n = e.putSortable;
        this.sortable.captureAnimationState(), n && n.captureAnimationState();
        var s = Xr(this.sortable.el, this.startIndex, this.options);
        s ? this.sortable.el.insertBefore(i, s) : this.sortable.el.appendChild(i), this.sortable.animateAll(), n && n.animateAll()
    },
    drop: ef
};
Cn(Lc, {
    pluginName: "revertOnSpill"
});

function Pc() {}
Pc.prototype = {
    onSpill: function(e) {
        var i = e.dragEl,
            n = e.putSortable,
            s = n || this.sortable;
        s.captureAnimationState(), i.parentNode && i.parentNode.removeChild(i), s.animateAll()
    },
    drop: ef
};
Cn(Pc, {
    pluginName: "removeOnSpill"
});
et.mount(new XE);
et.mount(Pc, Lc);
const YE = `<div id="controller" class="state-controller controller-content">\r
    <div id="prompt" class="prompt text"></div>\r
    <div class="error text-danger"></div>\r
    <div id="choicesRegion"></div>\r
    <div id="chosen" class="chosen text"></div>\r
    <div class="makeSingleChoiceDone">\r
        <span class="doneText"></span>\r
    </div>\r
</div>`,
    JE = Pi.extend({
        defaults: {
            choiceId: void 0,
            type: "single",
            censorDialog: "none",
            chosen: null,
            choices: [],
            prompt: {},
            error: null,
            block: !0,
            classes: [],
            maxVotes: 16,
            doneText: {},
            announcePrompt: !1,
            strings: {
                your_choice: "Thank you. Your choice: ",
                censor_prompt: "Censor this?",
                censor_confirm: "Yes, Censor!",
                censor_cancel: "No!"
            }
        }
    }),
    QE = xt.View.extend({
        tagName: "div",
        className: "sortable-item",
        template: Ue.template("<div class='text'></div>"),
        model: new Je.Model({}),
        bindings: {
            ":el": {
                attributes: [{
                    name: "data-id",
                    observe: "key"
                }]
            },
            ".text": "html"
        },
        onAttach() {
            this.stickit()
        }
    }),
    Qu = xt.CollectionView.extend({
        tagName: "div",
        className: "sortable-collection",
        childView: QE,
        collection: new Je.Collection([]),
        initialize(t) {
            this.listenTo(this.collection, "sync", this.render), this.mergeOptions(t, ["block"])
        }
    }),
    ZE = xt.View.extend({
        className: "SorterView",
        template: Ue.template(`
        <div id="rankedChoicesRegion"></div>
        <div class="instructions">Choose where this item ranks:</div>
        <div id="unrankedChoicesRegion"></div>
        <div id="lockInRegion"></div>
    `),
        model: new Je.Model({
            rankedLength: 1,
            choices: []
        }),
        bindings: {
            ".instructions": {
                observe: "rankedLength",
                visible: !0,
                onGet(t) {
                    return t < 3
                }
            },
            "#unrankedChoicesRegion": {
                observe: ["rankedLength", "choices"],
                visible: !0,
                onGet(t) {
                    return t[0] !== t[1].length
                }
            },
            "#lockInRegion": {
                observe: ["rankedLength", "choices"],
                visible: !0,
                onGet(t) {
                    return t[0] === t[1].length
                }
            }
        },
        regions: {
            rankedChoices: "#rankedChoicesRegion",
            unrankedChoices: "#unrankedChoicesRegion",
            lockInRegion: "#lockInRegion"
        },
        initialize() {
            this.rankedCollectionView = this.rankedCollectionView || new Qu({
                collection: new Je.Collection([])
            }), this.unrankedCollectionView = this.unrankedCollectionView || new Qu({
                className: "sortable-collection unranked",
                collection: new Je.Collection([])
            }), this.lockInView = this.lockInView || new js({
                block: !1,
                model: new Je.Model({
                    action: "lock",
                    html: "Lock In"
                })
            }), this.listenTo(this.model, "change:choices", this.update, this)
        },
        onAttach() {
            this.showChildView("rankedChoices", this.rankedCollectionView), this.showChildView("unrankedChoices", this.unrankedCollectionView), this.showChildView("lockInRegion", this.lockInView), this.stickit(), this.update()
        },
        update() {
            const t = this.model.get("choices"),
                e = t.slice(0, 1),
                i = t.slice(1);
            this.rankedSortable && this.rankedSortable.destroy(), this.rankedCollectionView.collection.set(e), this.rankedSortable = et.create(this.rankedCollectionView.el, {
                group: "shared",
                onSort: this.handleOnSort.bind(this),
                animation: 100,
                delay: 100
            }), this.unrankedSortable && this.unrankedSortable.destroy(), this.unrankedCollectionView.collection.set(i), this.unrankedSortable = et.create(this.unrankedCollectionView.el, {
                className: "unranked",
                group: {
                    name: "shared",
                    put: !1
                },
                sort: !1
            })
        },
        moveItemInArray(t, e, i) {
            const n = t.slice(0);
            if (e === i) return n;
            const s = n[e];
            return n.splice(e, 1), n.splice(i, 0, s), n
        },
        handleOnSort() {
            const t = this.model.get("choices"),
                e = this.rankedSortable.toArray();
            e.length === t.length && this.triggerMethod("sorted", e), this.model.set("rankedLength", e.length)
        },
        onChildviewButtonLock() {
            const t = this.rankedSortable.toArray();
            this.triggerMethod("lock", t)
        }
    }),
    e1 = xt.View.extend({
        className: "Sortable scrollable",
        template: Ue.template(YE),
        model: new JE,
        regions: {
            prompt: "#prompt",
            choices: "#choicesRegion"
        },
        initialize() {
            this.promptComponent = this.promptComponent || new _n({
                model: new Je.Model
            }), this.sorterView = this.sorterView || new ZE({}), this.listenTo(this.model, "change", this.update, this)
        },
        onAttach() {
            this.showChildView("prompt", this.promptComponent), this.showChildView("choices", this.sorterView)
        },
        update() {
            this.promptComponent.model.set(this.model.get("prompt")), this.model.get("choices").length !== this.sorterView.model.get("choices").length && this.sorterView.model.set("choices", this.model.get("choices"))
        },
        onChildviewSorted(t) {
            this.triggerMethod("client:message", {
                action: "sort",
                order: t
            })
        },
        onChildviewLock(t) {
            this.triggerMethod("client:message", {
                action: "sort",
                lock: !0,
                order: t
            })
        }
    }),
    t1 = `<div id="controller" class="state-controller controller-content">
	<div class="ugc-action-toggle-visibility">
    	<span class="text toggle_prompts_prompt">toggle_prompts_prompt</span><br/>
    	<button id="ugc-toggle-visibility-button-controller" class="ugc-toggle-visibility-button ugc-toggle-visibility-button-controller" data-target="controller"></button>
    	<button id="ugc-toggle-visibility-button-screen" class="ugc-toggle-visibility-button  ugc-toggle-visibility-button-screen" data-target="screen"></button>
    </div>
    <div class="ugc-action-play">
        <div class="ugc-episode-name"></div>
    </div>
	<div class="ugc-action-new">
		<button class="button action-button create_new_episode" type="button" id="ugc-new-button">create_new_episode</button>
	</div>

	<div class="ugc-action-load">
    	<p class="ugc-option text-box ugc-load previous_episodes">previous_episodes</p>
		<div id="episodesRegion"></div>
	</div>

    <div id="prompt" class="prompt ugc-text"></div>
    <div id="ugc-no-actions">
    	<div id="ugc-no-actions-text"></div>
    </div>

    <div class="ugc-action-add">
    	<div id="inputRegion"></div>
    </div>

    <div class="ugc-action-title">
		<p class="text-box">
            <span class='text create_new_name_prompt'>create_new_name_prompt</span>
        </p>
    	<div id="titleInputRegion"></div>
    </div>

    <div class="ugc-action-close">
    	<button class="button action-button button_close" data-action="close">button_close</button>
    </div>
    <div class="ugc-action-unlock">
    	<button class="button action-button button_edit" data-action="unlock">button_edit</button>
    </div>
	<div class="ugc-action-done">
    	<button class="button action-button button_done" data-action="done">button_done</button>
    </div>
	<div class="ugc-action-submit">
    	<button class="button action-button button_publish" data-action="submit">button_publish</button>
    </div>

    <div class="ugc-action-play">
        <button class="button action-button button_play" data-action="play">button_play</button>
    </div>

    <div class="ugc-action-remove-content">
        <button class="button action-button button_delete" data-action="remove-content">button_delete</button>
    </div>

    <div class="ugc-action-exit">
        <button class="button action-button button_back_to_menu" data-action="exit">button_back_to_menu</button>
    </div>

    <div class="ugc-action-episodes">
        <button class="button action-button button_back_to_episodes" data-action="episodes">button_back_to_episodes</button>
    </div>

    <div class="ugc-action-remove">
        <div id="promptsCount" class="promptsCount"></div>
    	<div id="promptsRegion"></div>
    </div>
</div>`,
    i1 = Pi.extend({
        defaults: {
            controllerVisibility: !0,
            episodes: [],
            episodeTitle: "",
            index: 0,
            maxContentLength: 45,
            maxTitleLength: 20,
            name: "",
            noActionsText: "",
            prompts: [],
            screenVisibility: !0,
            state: "UGC",
            text: "",
            validActions: [],
            strings: {
                tos_warning: "By sharing content, you agree to our Terms of service",
                tos_warning_agree: "agree and share",
                tos_warning_back: "back to menu",
                create_new_episode: "create a new episode",
                create_new_name_prompt: "first things first, enter a name for the episode that will contain all your prompts and hit create.",
                create_new_button: "create",
                button_back_to_episodes: "back to episodes",
                button_back_to_menu: "back to menu",
                previous_episodes: "previous episodes:",
                toggle_prompts_prompt: "tap to show/hide prompts",
                button_close: "close",
                button_done: "done",
                button_add: "add prompt",
                input_placeholder: "enter a prompt",
                label_hidden: "hidden",
                button_edit: "edit",
                button_save: "save",
                button_publish: "publish",
                button_play: "play",
                button_delete: "delete",
                delete_warning: "Are you sure you want to delete this episode?",
                delete_warning_confirm: "Yes",
                delete_warning_cancel: "No"
            }
        }
    }),
    n1 = xt.View.extend({
        className: "UGC scrollable",
        template: Ue.template(t1),
        model: new i1,
        regions: {
            prompt: "#prompt",
            episodes: "#episodesRegion",
            input: "#inputRegion",
            titleInput: "#titleInputRegion",
            prompts: "#promptsRegion"
        },
        events: {
            "click #ugc-new-button": "onNewButtonClicked",
            "click #ugc-toggle-visibility-button-controller": "onToggleVisibilityController",
            "click #ugc-toggle-visibility-button-screen": "onToggleVisibilityScreen",
            "click .action-button": "onActionButtonClicked"
        },
        bindings: {
            ".ugc-text": {
                observe: "text",
                visible: !0,
                updateView: !0
            },
            ".ugc-action-add": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("add") !== -1
                }
            },
            ".ugc-action-close": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("close") !== -1
                }
            },
            ".ugc-action-exit": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("exit") !== -1
                }
            },
            ".ugc-action-load": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("load") !== -1
                }
            },
            ".ugc-action-new": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("new") !== -1
                }
            },
            ".ugc-action-play": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("play") !== -1
                }
            },
            ".ugc-action-remove": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("remove") !== -1
                }
            },
            ".ugc-action-remove-content": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("remove-content") !== -1
                }
            },
            ".ugc-action-done": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("done") !== -1
                }
            },
            ".ugc-action-submit": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("submit") !== -1
                }
            },
            ".ugc-action-title": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("title") !== -1
                }
            },
            ".ugc-action-toggle-visibility": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("toggle-visibility") !== -1
                }
            },
            ".ugc-action-unlock": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("unlock") !== -1
                }
            },
            ".ugc-action-episodes": {
                observe: "validActions",
                visible(t) {
                    return t && t.indexOf("episodes") !== -1
                }
            },
            "#ugc-no-actions": {
                observe: "validActions",
                visible(t) {
                    return !t || t.length === 0
                }
            },
            "#ugc-no-actions-text": {
                observe: "noActionsText",
                onGet(t) {
                    return typeof t == "string" ? t : ""
                }
            },
            "#ugc-toggle-visibility-button-controller": {
                classes: {
                    on: "controllerVisibility"
                }
            },
            "#ugc-toggle-visibility-button-screen": {
                classes: {
                    on: "screenVisibility"
                }
            },
            ".ugc-episode-name": "episodeTitle",
            ".create_new_episode": {
                observe: "strings",
                onGet(t) {
                    return t.create_new_episode || "create_new_episode"
                }
            },
            ".previous_episodes": {
                observe: "strings",
                onGet(t) {
                    return t.previous_episodes || "previous_episodes"
                }
            },
            ".toggle_prompts_prompt": {
                observe: "strings",
                onGet(t) {
                    return t.toggle_prompts_prompt || "toggle_prompts_prompt"
                }
            },
            ".create_new_name_prompt": {
                observe: "strings",
                onGet(t) {
                    return t.create_new_name_prompt || "create_new_name_prompt"
                }
            },
            ".button_close": {
                observe: "strings",
                onGet(t) {
                    return t.button_close || "button_close"
                }
            },
            ".button_edit": {
                observe: "strings",
                onGet(t) {
                    return t.button_edit || "button_edit"
                }
            },
            ".button_done": {
                observe: "strings",
                onGet(t) {
                    return t.button_done || "button_done"
                }
            },
            ".button_publish": {
                observe: "strings",
                onGet(t) {
                    return t.button_publish || "button_publish"
                }
            },
            ".button_play": {
                observe: "strings",
                onGet(t) {
                    return t.button_play || "button_play"
                }
            },
            ".button_delete": {
                observe: "strings",
                onGet(t) {
                    return t.button_delete || "button_delete"
                }
            },
            ".button_back_to_episodes": {
                observe: "strings",
                onGet(t) {
                    return t.button_back_to_episodes || "button_back_to_episodes"
                }
            },
            ".button_back_to_menu": {
                observe: "strings",
                onGet(t) {
                    return t.button_back_to_menu || "button_back_to_menu"
                }
            },
            "#promptsCount": {
                observe: ["prompts", "strings", "count", "maxCount"],
                onGet() {
                    const t = this.model.get("count"),
                        e = this.model.get("maxCount"),
                        i = this.model.get("prompts") || [],
                        n = this.model.get("strings").label_hidden || "hidden",
                        s = i.length;
                    let o = `${t}/${e}`;
                    return s < t && (o += ` (${t-s} ${n})`), o
                }
            }
        },
        initialize(t) {
            this.client = t.client, this.promptComponent = this.promptComponent || new _n({
                model: new Je.Model
            }), this.episodesList = this.episodesList || new tn({
                action: "load",
                collection: new Je.Collection
            }), this.inputComponent = this.inputComponent || new oa({
                model: new Je.Model({
                    inlineSubmit: !0,
                    inlineSubmitText: "",
                    className: "addPrompt",
                    counter: !0
                })
            }), this.titleInputComponent = this.titleInputComponent || new oa({
                model: new Je.Model({
                    inlineSubmit: !0,
                    counter: !0
                })
            }), this.promptsList = this.promptsList || new tn({
                action: "remove",
                collection: new Je.Collection
            }), this.selected = [], this.listenTo(this.model, "change", this.update, this)
        },
        onRender() {
            this.showChildView("prompt", this.promptComponent), this.showChildView("episodes", this.episodesList), this.showChildView("input", this.inputComponent), this.showChildView("titleInput", this.titleInputComponent), this.showChildView("prompts", this.promptsList)
        },
        onAttach() {
            this.stickit(), this.update(), kt.vibrate()
        },
        update() {
            const t = this.model.get("validActions").length === 0 ? this.model.get("noActionsText") : this.model.get("text");
            this.promptComponent.model.set("text", t);
            const e = this.model.get("episodes").map(i => {
                const n = Ht.htmlUnescape(i.metadata.title);
                let s = Ht.safeText(n);
                return s += i.remoteContentId !== null ? `<br><div class='episodeId'>${i.formattedRemoteContentId}</div>` : "", {
                    key: i.remoteContentId || i.localContentId,
                    html: s
                }
            });
            this.episodesList.collection.set(e), this.inputComponent.model.set("maxLength", this.model.get("maxContentLength")), this.inputComponent.model.set("inlineSubmitText", this.model.get("strings").button_add), this.titleInputComponent.model.set("maxLength", this.model.get("maxTitleLength")), this.titleInputComponent.model.set("inlineSubmitText", this.model.get("strings").create_new_button), this.promptsList.collection.set(this.model.get("prompts").map(i => {
                const n = Ue.extend({}, i);
                n.text = Ht.htmlUnescape(i.text);
                let s = i.author !== this.client.userId ? "other" : "self";
                return i.className && (s += ` ${i.className}`), {
                    ...n,
                    className: s
                }
            }))
        },
        onNewButtonClicked() {
            this.triggerMethod("client:message", {
                action: "new"
            })
        },
        onChildviewInputSubmit() {
            let t, e;
            this.model.get("validActions").indexOf("add") !== -1 ? (t = "add", e = this.inputComponent.getSanitizedValue(), this.inputComponent.clearInput(), this.inputComponent.focus()) : this.model.get("validActions").indexOf("title") !== -1 && (t = "title", e = this.titleInputComponent.getValue(), this.titleInputComponent.clearInput()), !(!t || !e) && this.triggerMethod("client:message", {
                action: t,
                text: e
            })
        },
        onChildviewChildviewButtonLoad(t) {
            this.triggerMethod("client:message", {
                action: "load",
                contentId: t.get("key")
            })
        },
        onChildviewChildviewButtonRemove(t) {
            this.triggerMethod("client:message", {
                action: "remove",
                key: t.get("key")
            })
        },
        onToggleVisibilityController() {
            this.triggerMethod("client:message", {
                action: "toggle-visibility",
                target: "controller"
            })
        },
        onToggleVisibilityScreen() {
            this.triggerMethod("client:message", {
                action: "toggle-visibility",
                target: "screen"
            })
        },
        onActionButtonClicked(t) {
            const e = $e(t.currentTarget).data("action");
            if (e === "submit") {
                this.showTermsOfService();
                return
            }
            if (e === "remove-content") {
                this.showConfirmDeleteDialog();
                return
            }
            this.triggerMethod("client:message", {
                action: e
            })
        },
        showTermsOfService() {
            const t = `
            <a href='https://www.jackboxgames.com/terms-of-service/' target='_blank' >
                <br>
                <div class="tosLink">
                    <svg
                        class="bi bi-link-45deg"
                        width="1em"
                        height="1em"
                        viewBox="0 0 16 16"
                        fill="currentColor"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M4.715 6.542L3.343 7.914a3 3 0 1 0 4.243 4.243
                                l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.001 1.001 0 0 0-.154.199 2 2 0 0 1 .861 3.337
                                L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"
                        />
                        <path
                            d="M5.712 6.96l.167-.167a1.99 1.99 0 0 1 .896-.518 1.99 1.99 0 0 1 .518-.896
                                l.167-.167A3.004 3.004 0 0 0 6 5.499c-.22.46-.316.963-.288 1.46z"
                        />
                        <path
                            d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346
                                L9.12 3.55a2 2 0 0 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287
                                l1.372-1.372a3 3 0 0 0-4.243-4.243L6.586 4.672z"
                        />
                        <path
                            d="M10 9.5a2.99 2.99 0 0 0 .288-1.46
                                l-.167.167a1.99 1.99 0 0 1-.896.518 1.99 1.99 0 0 1-.518.896
                                l-.167.167A3.004 3.004 0 0 0 10 9.501z"
                        />
                    </svg>
                </div>
            </a>
        `;
            Xt.fire({
                target: this.el,
                html: `${this.model.get("strings").tos_warning}${t}`,
                showCancelButton: !0,
                confirmButtonText: this.model.get("strings").tos_warning_agree,
                cancelButtonText: this.model.get("strings").tos_warning_back,
                customClass: {
                    popup: "ugcModal",
                    confirmButton: "button confirmButton",
                    cancelButton: "button cancelButton"
                }
            }).then(e => {
                e.value && this.triggerMethod("client:message", {
                    action: "submit"
                })
            })
        },
        showConfirmDeleteDialog() {
            Xt.fire({
                target: this.el,
                text: this.model.get("strings").delete_warning,
                showCancelButton: !0,
                confirmButtonText: this.model.get("strings").delete_warning_confirm,
                cancelButtonText: this.model.get("strings").delete_warning_cancel,
                customClass: {
                    popup: "ugcModal",
                    confirmButton: "button confirmButton",
                    cancelButton: "button cancelButton"
                }
            }).then(t => {
                t.value && this.triggerMethod("client:message", {
                    action: "remove-content"
                })
            })
        },
        onChildviewChildviewButtonChoose(t) {
            const e = t.get("text");
            this.triggerMethod("client:message", {
                action: "remove",
                text: e
            })
        }
    }),
    r1 = `<svg id="range-picker" class="range-picker" viewBox="-40 -40 80 80">
    <defs>
        <radialGradient id="grad1" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
            <stop offset="0%" style="stop-color:rgb(0,0,0); stop-opacity:0.5" />
            <stop offset="60%" style="stop-color:rgb(0,0,0); stop-opacity:0.9" />
            <stop offset="80%" style="stop-color:rgb(0,0,0); stop-opacity:0.9" />
            <stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:0.7" />
        </radialGradient>
        <svg id="Layer_3" data-name="Layer 3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 263.67 271.33">
            <title>astroIcon</title>
            <path class="cls-1" d="M253.83,108.17H210.89A57.83,57.83,0,0,1,160,138.5H140a57.83,57.83,0,0,1-50.89-30.33H46.17a19.5,19.5,0,0,0-19.5,19.5v11a19.5,19.5,0,0,0,19.5,19.5H70.4a19.5,19.5,0,0,1,19.5,19.5V259.8a17.37,17.37,0,0,0,17.36,17.37H115A17.37,17.37,0,0,0,132.4,259.8V236.53a17.37,17.37,0,0,1,17.37-17.36h0a17.36,17.36,0,0,1,17.36,17.36V259.8a17.37,17.37,0,0,0,17.37,17.37h9a17.37,17.37,0,0,0,17.36-17.37V177.67a19.5,19.5,0,0,1,19.5-19.5h23.49a19.5,19.5,0,0,0,19.5-19.5v-11A19.5,19.5,0,0,0,253.83,108.17Z" transform="translate(-18.17 -14.33)"/>
            <rect class="cls-1" x="64" y="8.5" width="135.67" height="115.67" rx="57.83" ry="57.83"/>
        </svg>
        <svg
           xmlns:dc="http://purl.org/dc/elements/1.1/"
           xmlns:cc="http://creativecommons.org/ns#"
           xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
           xmlns:svg="http://www.w3.org/2000/svg"
           xmlns="http://www.w3.org/2000/svg"
           height="55"
           width="40"
           xml:space="preserve"
           viewBox="-20 -27.5 40 55"
           y="0px"
           x="0px"
           id="Layer_1"
           version="1.1"><metadata
           id="metadata10"><rdf:RDF><cc:Work
               rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
                 rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs
           id="defs8" />
        <path
           style="fill:#ffffff"
           d="m -20,27.5 20,-55 20,55 -20,-13 z"
           class="st0"
           id="aimArrow" />
        </svg>

    </defs>

    <circle class="background" r="16" cx="0" cy="0" />
    <circle class="background-gradient" r="32" cx="0" cy="0" fill="url(#grad1)" />
    <circle class="background-border" r=33 cx=0 cy=0 stroke="black" stroke-width="2" fill="none" />
    <circle id="health-display" class="health-display" r="33" cx="0" cy="0" />
    <circle class="circle-deadzone" fill="black" fill-opacity="0.8" r=1 cx=0 cy=0 stroke="white" stroke-width="0.3" stroke-dasharray="3.5 1.52" />
    
    <circle class="crosshair-center" r=1 cx=0 cy=0 />
    <circle class="circle-border-white" r="32" cx="0" cy="0" stroke="#ffffff" stroke-width="0.3" fill="none"/>
    <line class="line-helper-left" x1="-32" y1="0" x2="0" y2="0" ></line>
    <line class="line-helper-right" x1="32" y1="0" x2="0" y2="0" ></line>
    <circle class="locked-in-fade" r="17" cx="0" cy="0" />
    <line class="locked-in-line" x1="0" y1="0" x2="0" y2="0" display="inline"></line>
    <use class="aimArrow" xlink:href="#Layer_1" transform="rotate(180)" x="-2" y="-2.5" width="4" height="5"></use>
    <use class="astro" xlink:href="#Layer_3" transform="translate(-8, -8)" width="16" height="16"></use>
    <text id="text" class="text" x=0 y=10 text-anchor="middle" font-size=30 stroke="white">H</text>
</svg>`,
    s1 = xt.View.extend({
        className: "RadialView",
        template: Ue.template(r1),
        model: new Je.Model({
            isTouching: !1,
            angle: 0,
            vector: {
                x: 0,
                y: 0
            },
            touchBuffer: 5
        }),
        events: {
            "mousedown .range-picker": "start",
            "touchstart .range-picker": "start",
            "touchmove .range-picker": "start",
            touchmove: "move",
            touchend: "end"
        },
        bindings: {
            ":el": {
                attributes: [{
                    name: "class",
                    observe: "lockedIn",
                    onGet(t) {
                        return t ? "lockedIn" : ""
                    }
                }]
            },
            ".background": {
                attributes: [{
                    name: "style",
                    observe: "accentColor",
                    onGet(t) {
                        return `stroke: ${t}`
                    }
                }]
            },
            ".health-display": {
                attributes: [{
                    name: "style",
                    observe: ["selector", "accentColor"],
                    onGet(t) {
                        let e = "";
                        const i = t[0],
                            n = t[1];
                        n && (e += `stroke:${n};`);
                        const s = i * 207,
                            o = 207 * (1 - i);
                        e += `stroke-dasharray:${s} ${o};`;
                        const p = -360 * i - 90;
                        return e += `transform:rotate(${p}deg);`, e
                    }
                }]
            },
            ".line-helper-left": {
                attributes: [{
                    name: "display",
                    observe: "lockedIn",
                    onGet(t) {
                        return t ? "none" : "inline"
                    }
                }, {
                    name: "x2",
                    observe: "vector",
                    onGet(t) {
                        return t ? t.x : 1
                    }
                }, {
                    name: "y2",
                    observe: "vector",
                    onGet(t) {
                        return t ? t.y : 1
                    }
                }]
            },
            ".line-helper-right": {
                attributes: [{
                    name: "display",
                    observe: "lockedIn",
                    onGet(t) {
                        return t ? "none" : "inline"
                    }
                }, {
                    name: "x2",
                    observe: "vector",
                    onGet(t) {
                        return t ? t.x : 1
                    }
                }, {
                    name: "y2",
                    observe: "vector",
                    onGet(t) {
                        return t ? t.y : 1
                    }
                }]
            },
            ".locked-in-line": {
                attributes: [{
                    name: "display",
                    observe: "lockedIn",
                    onGet(t) {
                        return t ? "inline" : "none"
                    }
                }, {
                    name: "x2",
                    observe: "vector",
                    onGet(t) {
                        return t ? t.x : 1
                    }
                }, {
                    name: "y2",
                    observe: "vector",
                    onGet(t) {
                        return t ? t.y : 1
                    }
                }]
            },
            ".circle-deadzone": {
                attributes: [{
                    name: "r",
                    observe: "isTouching",
                    onGet(t) {
                        return "9.6"
                    }
                }]
            },
            ".text": "text",
            ".astro": {
                attributes: [{
                    name: "style",
                    observe: ["accentColor", "lockedIn"],
                    onGet(t) {
                        let e = "";
                        return e += `fill:${t[1]?"black":t[0]};`, e += `stroke:${t[1]?"#cccccc":"#ff00ff"};`, e
                    }
                }, {
                    name: "x",
                    observe: "vector",
                    onGet(t) {
                        return t ? t.x : 1
                    }
                }, {
                    name: "y",
                    observe: "vector",
                    onGet(t) {
                        return t ? t.y : 1
                    }
                }, {
                    name: "width",
                    observe: "lockedIn",
                    onGet(t) {
                        return t ? 8 : 16
                    }
                }, {
                    name: "height",
                    observe: "lockedIn",
                    onGet(t) {
                        return t ? 8 : 16
                    }
                }, {
                    name: "transform",
                    observe: "lockedIn",
                    onGet(t) {
                        return t ? "translate(-4, -4)" : "translate(-8,-8)"
                    }
                }]
            },
            ".locked-in-fade": {
                attributes: [{
                    name: "display",
                    observe: "lockedIn",
                    onGet(t) {
                        return t ? "inline" : "none"
                    }
                }]
            },
            ".aimArrow": {
                attributes: [{
                    name: "transform",
                    observe: "angle",
                    onGet(t) {
                        let e = "";
                        return e += ` rotate(${t+180})`, e
                    }
                }, {
                    name: "display",
                    observe: ["lockedIn", "vector"],
                    onGet(t) {
                        return t[0] && this.getDistance(t[1]) > 0 ? "inline" : "none"
                    }
                }]
            }
        },
        initialize() {
            this.model.on("change:angle", this.updateAngle, this), this.model.on("change:vector", this.updateVector, this), this.model.on("change:isTouching", this.updateIsTouching, this)
        },
        updateAngle() {
            this.triggerMethod("angle", this.model.get("angle"))
        },
        updateVector() {
            this.triggerMethod("vector", this.getNormalizedVector())
        },
        updateIsTouching() {
            this.triggerMethod("isTouching", this.model.get("isTouching"))
        },
        onRender() {
            this.stickit()
        },
        start(t) {
            const e = this.eventToCoord(t);
            this.startCoord || (this.startCoord = e)
        },
        move(t) {
            t.preventDefault();
            const e = this.eventToCoord(t);
            if (!this.model.get("isTouching") && this.startCoord && this.getDistance(e, this.startCoord) > this.model.get("touchBuffer") && this.model.set("isTouching", !0), !this.model.get("isTouching") || this.model.get("lockedIn")) return;
            const i = this.coordToVector(e);
            this.model.set("vector", i);
            const n = this.coordToAngle(e);
            this.model.set("angle", n)
        },
        end() {
            this.startCoord = null, this.model.get("isTouching") && (this.model.set("isTouching", !1), this.triggerMethod("end", this.model))
        },
        getDistance(t, e) {
            e || (e = {
                x: 0,
                y: 0
            });
            const i = {
                x: e.x - t.x,
                y: e.y - t.y
            };
            return Math.sqrt(i.x ** 2 + i.y ** 2)
        },
        getNormalizedVector() {
            const t = Ue.extend({}, this.model.get("vector"));
            return t.x /= 32, t.y /= 32, t
        },
        eventToCoord(t) {
            const e = this.$el[0].getBoundingClientRect();
            return t.targetTouches && t.targetTouches instanceof TouchList && t.targetTouches.length > 0 ? {
                x: t.targetTouches[0].pageX - e.left,
                y: t.targetTouches[0].pageY - e.top
            } : {
                x: t.clientX - e.left,
                y: t.clientY - e.top
            }
        },
        coordToAngle(t) {
            const e = this.coordToVector(t);
            let i = Math.atan2(-e.x, e.y);
            return i += Math.PI, i = parseInt(i * 180 / Math.PI, 10), i
        },
        coordToVector(t) {
            const e = this.$el[0].getBoundingClientRect(),
                i = {
                    x: t.x - parseInt(e.width, 10) / 2,
                    y: t.y - parseInt(e.height, 10) / 2
                },
                n = 76 / e.width;
            i.x *= n, i.y *= n;
            const s = this.getDistance(i);
            if (s > 32) {
                const o = 32 / s;
                i.x *= o, i.y *= o
            }
            return i
        }
    }),
    o1 = `<div id="status-bar" class="health text">\r
    <div id="weaponBorder" class="weaponBorder">\r
        <div id="weaponIcon" class="weaponIcon"></div>\r
    </div>\r
</div>\r
<div id="radial" class="radial"></div>\r
<div id="control-panel" class="control-panel">\r
    <div class="message text">message</div>\r
    <div class="weaponNameContainer text">\r
        <div class="weaponIcon small"></div>\r
        <span class="weaponName">weapon name</span>\r
    </div>\r
    <div class="weaponText text">weapon text</div>\r
</div>`,
    a1 = Pi.extend({
        defaults: {
            shotId: void 0,
            state: "Shoot",
            throttle: 44,
            weapon: {},
            playerCanSwap: !1,
            characterCurrentHealth: null,
            characterMaxHealth: null,
            lockedIn: !1,
            selectorCircle: !0,
            classes: [],
            message: ""
        }
    }),
    l1 = xt.View.extend({
        model: new a1,
        template: Ue.template(o1),
        className: "Shoot",
        client: null,
        regions: {
            radial: "#radial"
        },
        events: {
            "click .swap-button": "swapPlayer",
            touchstart: "eat",
            "click #reconnect": "reconnect"
        },
        eat(t) {
            t.preventDefault()
        },
        move(t) {
            this.radialComponent.move(t)
        },
        end(t) {
            this.radialComponent.end(t)
        },
        bindings: {
            ":el": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return t && t.bgcolor ? `background-color:${t.bgcolor}` : ""
                    }
                }]
            },
            ".swap-button": {
                observe: "playerCanSwap",
                visible: !0
            },
            ".health": {
                observe: "characterCurrentHealth",
                visible(t) {
                    return t !== null
                }
            },
            ".currentHealth": "characterCurrentHealth",
            ".maxHealth": "characterMaxHealth",
            ".weaponText": {
                observe: "weapon",
                onGet(t) {
                    return t.text
                }
            },
            ".message": "message",
            ".weaponBorder": {
                attributes: [{
                    name: "class",
                    observe: "weapon",
                    onGet(t) {
                        return t ? t.count ? `count-${t.count}` : "" : null
                    }
                }]
            },
            ".weaponIcon": {
                attributes: [{
                    name: "class",
                    observe: "weapon",
                    onGet(t) {
                        return t ? t.id : ""
                    }
                }]
            },
            ".weaponName": {
                observe: "weapon",
                onGet(t) {
                    return t ? t.name ? t.name : t.id : ""
                }
            }
        },
        onChildviewVector(t) {
            this.throttledUpdate && this.throttledUpdate(t)
        },
        updateVector(t) {
            this.model.get("isAudience") || t.x === 0 && t.y === 0 || this.radialComponent.model.get("isTouching") && this.triggerMethod("client:message", {
                action: "move",
                type: "move",
                vector: t
            })
        },
        onChildviewEnd() {
            if (this.model.get("lockedIn")) return;
            const t = this.radialComponent.getNormalizedVector();
            if (Math.sqrt(t.x * t.x + t.y * t.y) < .3) {
                this.radialComponent.model.set("vector", {
                    x: 0,
                    y: 0
                }), this.radialComponent.model.set("angle", 180), this.model.get("isPlayer") && this.triggerMethod("client:message", {
                    action: "cancel",
                    type: "cancel"
                });
                return
            }
            const i = this.model.get("weapon"),
                n = i.id ? i.id : this.model.get("weapon"),
                s = this.radialComponent.model.get("angle"),
                o = Math.floor(s / 10);
            this.triggerMethod("client:message", {
                action: "fire",
                type: "fire",
                weapon: n,
                vector: t
            }), this.model.get("isAudience") && (this.audienceShot = o * 10, this.shotId = this.model.get("shotId") || 0, this.model.setUpdate({
                lockedIn: !0,
                shotId: this.shotId
            }))
        },
        initialize(t) {
            this.client = t.client, this.radialComponent = new s1({
                model: new Je.Model({
                    isTouching: !1,
                    angle: 0,
                    vector: {
                        x: 0,
                        y: 0
                    },
                    touchBuffer: 5
                })
            }), this.throttledUpdate = Ue.throttle(this.updateVector, this.model.get("throttle")), this.listenTo(this.model, "change", this.update, this), this.onResizeWithContext = this.onResize.bind(this), window.addEventListener("resize", this.onResizeWithContext), $e(window).on("mousemove", this.move.bind(this)), $e(window).on("mouseup", this.end.bind(this))
        },
        onBeforeDestroy() {
            window.removeEventListener("resize", this.onResizeWithContext), $e(window).off("mousemove"), $e(window).off("mouseup")
        },
        update() {
            const t = this.model.get("characterCurrentHealth"),
                e = this.model.get("characterMaxHealth");
            if (this.radialComponent.model.set("selector", t / e), this.radialComponent.model.set("accentColor", this.model.get("characterColor")), this.radialComponent.model.set("lockedIn", this.model.get("lockedIn")), this.radialComponent.model.set("text", ""), this.client.isRole("audience") && ((this.model.get("shotId") === void 0 || this.model.get("shotId") !== this.shotId) && (this.audienceShot = void 0), this.audienceShot && (this.model.setUpdate({
                    lockedIn: !0,
                    shotId: this.model.get("shotId") || 0
                }), this.radialComponent.model.set("text", `${this.audienceShot}°`))), !this.model.get("lockedIn") && !this.radialComponent.model.get("isTouching") && this.radialComponent.model.set("vector", {
                    x: 0,
                    y: 0
                }), this.throttledUpdate = Ue.throttle(this.updateVector, this.model.get("throttle")), this.model.get("lockedIn")) this.notified = !1;
            else {
                if (!this.notified && this.model.get("state") === "Shoot") {
                    const i = {
                        ClusterBombs: [45, 60, 45, 60, 45, 60],
                        PlayerWeapon: [100, 100],
                        RainbowCannon: [45, 60, 45, 60, 45, 60],
                        Repeater: [45, 60, 45, 60, 45, 60],
                        Seeker: [45, 60, 45, 60, 45, 60],
                        Shield: [45, 60, 45, 60, 45, 60],
                        Stun: [45, 60, 45, 60, 45, 60],
                        SuperBlaster: [45, 60, 45, 60, 45, 60]
                    } [this.model.get("weapon").id];
                    kt.vibrate(i)
                }
                this.notified = !0
            }
        },
        onRender() {
            this.showChildView("radial", this.radialComponent), this.stickit()
        },
        onAttach() {
            this.update(), this.onResize(), kt.vibrate()
        },
        onResize() {
            const t = $e(".radial"),
                e = $e("#status-bar").outerHeight() + $e(".playerTopBar").outerHeight() + $e("#control-panel").outerHeight() + 10,
                i = $e(".controller-page").width(),
                n = window.innerHeight - e,
                s = Math.max(150, Math.min(i, n));
            t.css("width", `${s}px`), t.css("height", `${s}px`), window.scrollTo(0, 0)
        }
    }),
    c1 = `<div id="textDescriptions" class="textDescriptions" role="log" aria-atomic="false" aria-relevant="additions" aria-live="polite"></div>
<div id="controller-container" class="state-controller controller-page">
    <div id="playerRegion"></div>
    <div id="controller-main">
        <div class="loadingSpinner">
            <i class="fas fa-spinner fa-spin" style="font-size:48px"></i>
        </div>
    </div>
</div>
<div id="broadcaster" role="button" aria-label="twitch broadcaster information" style="display:none;" class="twitchBroadcasterIcon"></div>
`;
const u1 = xt.View.extend({
    client: null,
    template: Ue.template(c1),
    playerTopBar: null,
    className() {
        return `pt-page ${this.getOption("appTag")}`
    },
    regions: {
        player: "#playerRegion",
        controller: {
            el: "#controller-main",
            replaceElement: !0
        }
    },
    events: {
        "click .twitchBroadcasterIcon": "onTwitchBroadcasterIconClick"
    },
    bindings: {
        ":el": {
            attributes: [{
                name: "class",
                observe: "blob",
                onGet(t) {
                    let e = `pt-page ${this.getOption("appTag")}`;
                    return t && t.locale && (e += ` ${t.locale}`), e
                }
            }]
        },
        ".twitchBroadcasterIcon": {
            observe: ["broadcaster", "blob"],
            visible: !0,
            onGet([t, e]) {
                return t && e && !e.artifact && ["Lobby", "Logo"].includes(e.state)
            }
        }
    },
    initialize(t) {
        this.mergeOptions(t, ["appId", "appTag"]), this.locale = "en", this.client = t.client, this.playerTopBar = this.playerTopBar || new _E, this.onEntityDidChangeWithContext = this.onEntityDidChange.bind(this), this.onTextDescriptionsWithContext = this.onTextDescriptions.bind(this), this.onRoomWasDestroyedWithContext = this.onRoomWasDestroyed.bind(this), this.onDisconnectedWithContext = this.onDisconnected.bind(this), this.onConnectionMessageWithContext = this.onConnectionMessage.bind(this), t.client.on("client:entityDidChange", this.onEntityDidChangeWithContext), t.client.on("client:textDescriptions", this.onTextDescriptionsWithContext), t.client.on("client:roomWasDestroyed", this.onRoomWasDestroyedWithContext), t.client.on("client:disconnected", this.onDisconnectedWithContext), t.client.on("client:connection", this.onConnectionMessageWithContext), this.model = new Je.Model({});
        const e = t.client.parseEntities();
        this.model.set(e), this.model.on({
            "change:player": this.setBlob,
            "change:room": this.setBlob,
            "change:audiencePlayer": this.setBlob,
            "change:blob": this.update
        }, this), this.render(), this.setBlob(), window.addEventListener("resize", this.onResize)
    },
    onRender() {
        this.update(), this.stickit()
    },
    onAttach() {
        this.showChildView("player", this.playerTopBar), this.onResize(), this.client.isRole("broadcaster") && (this.model.set("broadcaster", this.client.isRole("broadcaster")), this.showTwitchBroadcasterDialog(20 * 1e3))
    },
    onBeforeDestroy() {
        this.model.stopListening(), this.client.off("client:entityDidChange", this.onEntityDidChangeWithContext), this.client.off("client:textDescriptions", this.onTextDescriptionsWithContext), this.client.off("client:roomWasDestroyed", this.onRoomWasDestroyedWithContext), this.client.off("client:disconnected", this.onDisconnectedWithContext), this.client.off("client:connection", this.onConnectionMessageWithContext)
    },
    updateLayout() {
        const e = this.model.get("blob").state;
        if (this.getGameLayout(e) !== -1) return null;
        switch (e) {
            case "Draw":
                return this.setLayout(Qi);
            case "EnterSingleText":
                return this.setLayout(In);
            case "Lobby":
                return this.setLayout(jd);
            case "Logo":
                return this.setLayout(wE);
            case "MakeSingleChoice":
                return this.setLayout(Vl);
            case "Shoot":
                return this.setLayout(l1);
            case "Sortable":
                return this.setLayout(e1);
            case "Camera":
                return this.setLayout(rE);
            case "UGC":
                return this.setLayout(n1);
            default:
                return new Error("No common layout found")
        }
    },
    setLayout(t) {
        const e = new t(this.options),
            i = this.getRegion("controller");
        i && (i.reset(), e.model.set(this.model.get("blob")), this.showChildView("controller", e), this.currentLayout = e, this.currentState = this.model.get("blob").state)
    },
    onEntityDidChange(t, e) {
        this.model.unset(t, {
            silent: !0
        }), this.model.set(t, e)
    },
    onTextDescriptions(t, e) {
        this.setTextDescriptions(e.latestDescriptions)
    },
    setBlob() {
        const t = this.model.get("player"),
            e = this.model.get("room"),
            i = this.model.get("audiencePlayer");
        let n = {};
        t && !Ue.isEmpty(t) ? n = {
            ...Ue.omit(e, "audience"),
            ...t
        } : this.client.isRole("audience") && i ? n = {
            ...Ue.omit(e, "audience"),
            ...i.audience
        } : this.client.isRole("audience") && e && e.audience ? n = {
            ...Ue.omit(e, "audience"),
            ...e.audience
        } : n = e || {}, n.isPlayer = this.client.isRole("player"), n.isAudience = this.client.isRole("audience"), n = this.parseBlob(n), !n.state && n.isAudience && (n.state = "Logo"), n.platformId && ri.set(`platform-${n.platformId}`), n.locale && typeof n.locale == "string" && (this.locale = n.locale), this.model.set({
            blob: n
        })
    },
    update: Ue.debounce(function() {
        const e = this.model.get("blob");
        e && (this.willUpdate(), e.playerInfo ? this.playerTopBar.model.set(e.playerInfo) : this.playerTopBar.model.clear(), !this.currentState || this.currentState !== e.state ? (this.updateLayout(), this.currentLayout && this.currentLayout.model.set(e)) : this.currentLayout && this.currentLayout.model.set(e), e.textDescriptions && this.setTextDescriptions(e.textDescriptions), e.artifact && hr.add(e.artifact, this.client.appTag), this.didUpdate())
    }, 25),
    willUpdate() {},
    didUpdate() {},
    setTextDescriptions(t) {
        t && t.length && (this.textDescriptions = this.textDescriptions || [], t.forEach(e => {
            (e.id === void 0 || !this.textDescriptions.slice(-10).find(i => i.id === e.id)) && (this.textDescriptions.push(e), $e("#textDescriptions").append($e("<p />").text(e.text)))
        }))
    },
    parseBlob(t) {
        return t
    },
    getGameLayout() {
        return -1
    },
    formatSessionMessage(t) {
        return t
    },
    onTwitchBroadcasterIconClick() {
        this.showTwitchBroadcasterDialog()
    },
    showTwitchBroadcasterDialog(t) {
        let e = `
            <div class='icon-${this.client.roles.broadcaster.platform}'>
                ${this.client.roles.broadcaster.name}
            </div>`;
        e += `
            <div class='success'>
                You have successfully connected your account to the Jackbox Audience Kit Twitch Extension.
            </div>`, this.lacksAudience ? e += "<div class='warning'>THIS GAME DOESN'T HAVE AN AUDIENCE FEATURE</div>" : this.client.roomInfo.audienceEnabled || (e += "<div class='warning'>THIS ROOM DOESN'T HAVE THE AUDIENCE SETTING ENABLED</div>"), kt.show("custom", {
            html: e,
            position: "bottom",
            timer: t,
            backdrop: "transparent",
            customClass: {
                container: "jbgTwitchContainer",
                popup: "jbgTwitchPopup",
                htmlContainer: "jbgTwitchContent",
                closeButton: "jbgCloseButton"
            },
            showCloseButton: !0,
            closeButtonHtml: `
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 2.00006L2 20" stroke="#0C0C0C" stroke-width="3"></path>
                    <path d="M2 2.00001L20 20" stroke="#0C0C0C" stroke-width="3" />
                </svg>`,
            showConfirmButton: !1,
            showClass: {
                popup: "jbgTwitchShow"
            },
            hideClass: {
                popup: "jbgTwitchHide"
            }
        })
    },
    onResize() {
        const t = $e(window).width(),
            e = $e(window).height();
        $e(".content,.controller-page").css({
            height: e,
            width: t
        })
    },
    onRoomWasDestroyed() {
        ri.remove("roomCode"), ri.remove("reconnect"), kt.show("error", {
            titleText: Ro[this.locale].STRING_ERROR_SERVER_ROOM_DISCONNECTED,
            text: Ro[this.locale].STRING_ERROR_SERVER_ROOM_DESTROYED,
            willClose: () => {
                window.location.reload(!0)
            }
        })
    },
    onDisconnected() {
        kt.show("error", {
            titleText: Ro[this.locale].STRING_ERROR_SERVER_ROOM_DISCONNECTED,
            text: Ro[this.locale].STRING_ERROR_SERVER_ROOM_DISCONNECTED,
            willClose: () => {
                window.location.reload(!0)
            }
        })
    },
    onConnectionMessage(t) {
        const e = `${t.status} ${t.attempt?`${t.attempt}/5`:""}`;
        if (kt.show("toast", {
                text: e
            }), t.status === "connected") {
            const i = this.client.parseEntities();
            this.model.set(i)
        }
    },
    async onChildviewClientMessage(t) {
        if (this.client.isRole("player"))
            if (t.textKey) try {
                await this.client.updateText(t.textKey, t.val)
            } catch (e) {
                if (e instanceof mn.EcastEntityNotFound || e instanceof mn.EcastPermissionDenied) console.error(`Couldn't update text entity ${t.textKey}: ${e.message}`);
                else if (e instanceof mn.EcastFilterError) this.currentLayout.onTextFilterError && this.currentLayout.onTextFilterError(e);
                else throw console.error(`Unhandled error updating text entity ${t.textKey}`), e
            } else if (t.objectKey) try {
                await this.client.updateObject(t.objectKey, t.val)
            } catch (e) {
                if (e instanceof mn.EcastEntityNotFound || e instanceof mn.EcastPermissionDenied) console.error(`Couldn't update object entity ${t.objectKey}: ${e.message}`);
                else if (e instanceof mn.EcastFilterError) this.currentLayout.onObjectFilterError && this.currentLayout.onObjectFilterError(e);
                else throw console.error(`Unhandled error updating object entity ${t.objectKey}`), e
            } else {
                const e = this.formatSessionMessage(t);
                this.client.send("SendMessageToRoomOwner", e)
            } else if (this.client.isRole("audience")) {
                const e = this.currentLayout.sessionModule,
                    i = this.formatSessionMessage(t);
                if (!e) return;
                if (e === "vote") {
                    const n = this.currentLayout.model.get("countGroupName"),
                        s = i.vote;
                    this.onChildviewClientCountGroup({
                        name: n,
                        vote: s
                    })
                }
                if (e === "comment") {
                    const n = this.currentLayout.model.get("textRingName"),
                        s = i.entry;
                    this.onChildviewClientTextRing({
                        name: n,
                        text: s
                    })
                }
            }
    },
    onChildviewClientSessionMessage(t) {
        this.client.sessionSend(t.sessionModule, t.sessionName, t.sessionMessage)
    },
    onChildviewClientCountGroup({
        name: t,
        vote: e
    }) {
        t || (t = this.sessionModulePrefix + this.currentLayout.sessionName), this.client.incrementCountGroupCounter(t, e)
    },
    onChildviewClientGCounter({
        key: t,
        times: e
    }) {
        this.client.incrementGCounter(t, e)
    },
    onChildviewClientTextRing({
        name: t,
        text: e
    }) {
        t || (t = this.sessionModulePrefix + this.currentLayout.sessionName), this.client.pushTextRing(t, e)
    }
});
var zl = {},
    h1 = {
        get exports() {
            return zl
        },
        set exports(t) {
            zl = t
        }
    };
/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */
(function(t) {
    (function(e) {
        function i() {}
        var n = i.prototype,
            s = e.EventEmitter;

        function o(w, x) {
            for (var A = w.length; A--;)
                if (w[A].listener === x) return A;
            return -1
        }

        function p(w) {
            return function() {
                return this[w].apply(this, arguments)
            }
        }
        n.getListeners = function(x) {
            var A = this._getEvents(),
                D, B;
            if (x instanceof RegExp) {
                D = {};
                for (B in A) A.hasOwnProperty(B) && x.test(B) && (D[B] = A[B])
            } else D = A[x] || (A[x] = []);
            return D
        }, n.flattenListeners = function(x) {
            var A = [],
                D;
            for (D = 0; D < x.length; D += 1) A.push(x[D].listener);
            return A
        }, n.getListenersAsObject = function(x) {
            var A = this.getListeners(x),
                D;
            return A instanceof Array && (D = {}, D[x] = A), D || A
        };

        function y(w) {
            return typeof w == "function" || w instanceof RegExp ? !0 : w && typeof w == "object" ? y(w.listener) : !1
        }
        n.addListener = function(x, A) {
            if (!y(A)) throw new TypeError("listener must be a function");
            var D = this.getListenersAsObject(x),
                B = typeof A == "object",
                X;
            for (X in D) D.hasOwnProperty(X) && o(D[X], A) === -1 && D[X].push(B ? A : {
                listener: A,
                once: !1
            });
            return this
        }, n.on = p("addListener"), n.addOnceListener = function(x, A) {
            return this.addListener(x, {
                listener: A,
                once: !0
            })
        }, n.once = p("addOnceListener"), n.defineEvent = function(x) {
            return this.getListeners(x), this
        }, n.defineEvents = function(x) {
            for (var A = 0; A < x.length; A += 1) this.defineEvent(x[A]);
            return this
        }, n.removeListener = function(x, A) {
            var D = this.getListenersAsObject(x),
                B, X;
            for (X in D) D.hasOwnProperty(X) && (B = o(D[X], A), B !== -1 && D[X].splice(B, 1));
            return this
        }, n.off = p("removeListener"), n.addListeners = function(x, A) {
            return this.manipulateListeners(!1, x, A)
        }, n.removeListeners = function(x, A) {
            return this.manipulateListeners(!0, x, A)
        }, n.manipulateListeners = function(x, A, D) {
            var B, X, j = x ? this.removeListener : this.addListener,
                ie = x ? this.removeListeners : this.addListeners;
            if (typeof A == "object" && !(A instanceof RegExp))
                for (B in A) A.hasOwnProperty(B) && (X = A[B]) && (typeof X == "function" ? j.call(this, B, X) : ie.call(this, B, X));
            else
                for (B = D.length; B--;) j.call(this, A, D[B]);
            return this
        }, n.removeEvent = function(x) {
            var A = typeof x,
                D = this._getEvents(),
                B;
            if (A === "string") delete D[x];
            else if (x instanceof RegExp)
                for (B in D) D.hasOwnProperty(B) && x.test(B) && delete D[B];
            else delete this._events;
            return this
        }, n.removeAllListeners = p("removeEvent"), n.emitEvent = function(x, A) {
            var D = this.getListenersAsObject(x),
                B, X, j, ie, v;
            for (ie in D)
                if (D.hasOwnProperty(ie))
                    for (B = D[ie].slice(0), j = 0; j < B.length; j++) X = B[j], X.once === !0 && this.removeListener(x, X.listener), v = X.listener.apply(this, A || []), v === this._getOnceReturnValue() && this.removeListener(x, X.listener);
            return this
        }, n.trigger = p("emitEvent"), n.emit = function(x) {
            var A = Array.prototype.slice.call(arguments, 1);
            return this.emitEvent(x, A)
        }, n.setOnceReturnValue = function(x) {
            return this._onceReturnValue = x, this
        }, n._getOnceReturnValue = function() {
            return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
        }, n._getEvents = function() {
            return this._events || (this._events = {})
        }, i.noConflict = function() {
            return e.EventEmitter = s, i
        }, t.exports ? t.exports = i : e.EventEmitter = i
    })(typeof window < "u" ? window : wt || {})
})(h1);
class d1 extends zl {
    constructor(i, n) {
        super();
        ot(this, "wsClient");
        ot(this, "name");
        ot(this, "id");
        ot(this, "userId");
        ot(this, "uuid");
        ot(this, "joinAs", "player");
        ot(this, "room");
        ot(this, "roles", {});
        ot(this, "code", null);
        ot(this, "host");
        ot(this, "onPlayerWelcome", i => {
            this.id = i.id, this.roles = i.profile ? i.profile.roles : {}, i.here && (this.host = Object.values(i.here).find(({
                roles: n
            }) => n.host)), this.emit("client:didJoinRoom", {
                appId: this.room.appId,
                appTag: this.room.appTag,
                id: i.id,
                reconnect: `${i.id}:${this.joinAs}:${i.secret}`
            })
        });
        ot(this, "parseEntities", () => {
            if (!this.wsClient) return {};
            const i = this.wsClient.entities,
                n = {};
            return Object.keys(i).forEach(s => {
                const o = i[s];
                s === "room" || s === "bc:room" || s === "roomBlob" ? (o instanceof On.TextEntity && (n.room = o.toBlob()), o instanceof On.ObjectEntity && (n.room = o.val)) : s === "player" || s === `player:${this.id}` || s === `bc:customer:${this.userId}` ? (o instanceof On.TextEntity && (n.player = o.toBlob()), o instanceof On.ObjectEntity && (n.player = o.val)) : s === "audiencePlayer" && (o instanceof On.TextEntity && (n.audiencePlayer = o.toBlob()), o instanceof On.ObjectEntity && (n.audiencePlayer = o.val))
            }), n
        });
        this.wsClient = i, this.name = i.name, this.userId = i.userId, this.uuid = i.userId, this.joinAs = i.role, this.room = n.room, i.on("object", this.onObject.bind(this)), i.on("room/exit", this.onRoomExit.bind(this)), i.on("socketClose", this.onSocketClose.bind(this)), i.on("connection", this.onConnection.bind(this)), i.on("text", this.onText.bind(this)), this.onPlayerWelcome(n.welcome)
    }
    get entities() {
        return this.wsClient ? this.wsClient.entities : {
            none: !0
        }
    }
    get isReady() {
        var i;
        return ((i = this.wsClient) == null ? void 0 : i.conn.readyState) === WebSocket.OPEN
    }
    isRole(i) {
        const n = Object.keys(this.roles);
        return !n.length && i === "audience" ? !0 : n.includes(i)
    }
    disconnect() {
        this.wsClient && (this.wsClient.disconnect(), this.wsClient = null)
    }
    onText(i) {
        const n = i.key,
            s = i.text;
        let o = i.text;
        try {
            o = JSON.parse(o)
        } catch {
            Nu(`[Ecast Client] Unhandled text notification: ${i.key} ${s}`);
            return
        }
        const p = o;
        n === "room" ? this.emit("client:entityDidChange", n, p) : n === `player:${this.id}` ? this.emit("client:entityDidChange", "player", p) : n === "bc:room" ? this.emit("client:entityDidChange", "room", p) : n === "audiencePlayer" ? this.emit("client:entityDidChange", "audiencePlayer", p) : n === `bc:customer:${this.userId}` ? this.emit("client:entityDidChange", "player", p) : Nu(`[Ecast Client] Unhandled json notification: ${n}`)
    }
    onObject(i) {
        const n = i.key,
            s = i.val;
        n === "room" ? this.emit("client:entityDidChange", n, s) : n === "player" ? this.emit("client:entityDidChange", "player", s) : n === `player:${this.id}` ? this.emit("client:entityDidChange", "player", s) : n === "textDescriptions" ? this.emit("client:textDescriptions", n, s) : n === "bc:room" ? this.emit("client:entityDidChange", "room", s) : n === "audiencePlayer" ? this.emit("client:entityDidChange", "audiencePlayer", s) : n === `bc:customer:${this.userId}` ? this.emit("client:entityDidChange", "player", s) : console.warn(`[Ecast Client] Unhandled json notification: ${n}`)
    }
    onSocketClose(i) {
        i instanceof mn.EcastServerError || i.code === 1005 || i.code === 1e3 ? this.emit("client:roomWasDestroyed") : this.emit("client:disconnected"), this.disconnect(), this.code = null
    }
    onRoomExit(i) {
        this.emit("client:disconnected", i), this.disconnect()
    }
    onConnection(i) {
        this.emit("client:connection", i)
    }
    async send(i, n) {
        var s;
        if (this.isReady) try {
            if (i === "SendMessageToRoomOwner") {
                const o = ((s = this.host) == null ? void 0 : s.id) ?? "1";
                await this.wsClient.mail(o, n)
            } else await this.wsClient.send(i, n)
        } catch (o) {
            console.error(o)
        }
    }
    sessionSend(i, n, s) {
        this.isReady && (i === "vote" && this.incrementCountGroupCounter(n, `${s.vote}`), i === "comment" && this.pushTextRing(n, `${s.comment}`))
    }
    async updateText(i, n) {
        if (this.isReady) try {
            await this.wsClient.updateText(i, n)
        } catch (s) {
            throw console.warn("Text update rejected.", s), s
        }
    }
    async updateObject(i, n) {
        if (this.isReady) try {
            await this.wsClient.updateObject(i, n)
        } catch (s) {
            throw console.warn("Object update rejected.", s), s
        }
    }
    async incrementCountGroupCounter(i, n) {
        if (this.isReady) try {
            await this.wsClient.incrementCountGroupCounter(i, `${n}`)
        } catch (s) {
            console.error(s)
        }
    }
    async incrementGCounter(i, n) {
        if (this.isReady) try {
            await this.wsClient.incrementGCounter(i, n)
        } catch (s) {
            console.error(s)
        }
    }
    async pushTextRing(i, n) {
        if (this.isReady) try {
            await this.wsClient.pushTextRing(i, `${n}`)
        } catch (s) {
            console.error(s)
        }
    }
}
const f1 = `<div id="content-region" class="content"></div>
<div id="debug-region" class="debug"></div>
<div id="banner" class="post-banner"></div>`;
(function(t) {
    t($e)
})(function(t) {
    var e, i = navigator.userAgent,
        n = /iphone/i.test(i),
        s = /chrome/i.test(i),
        o = /android/i.test(i);
    t.mask = {
        definitions: {
            9: "[0-9]",
            a: "[A-Za-z]",
            "*": "[A-Za-z0-9]"
        },
        autoclear: !0,
        dataName: "rawMaskFn",
        placeholder: "_"
    }, t.fn.extend({
        caret: function(p, y) {
            var w;
            if (this.length !== 0 && !this.is(":hidden")) return typeof p == "number" ? (y = typeof y == "number" ? y : p, this.each(function() {
                this.setSelectionRange ? this.setSelectionRange(p, y) : this.createTextRange && (w = this.createTextRange(), w.collapse(!0), w.moveEnd("character", y), w.moveStart("character", p), w.select())
            })) : (this[0].setSelectionRange ? (p = this[0].selectionStart, y = this[0].selectionEnd) : document.selection && document.selection.createRange && (w = document.selection.createRange(), p = 0 - w.duplicate().moveStart("character", -1e5), y = p + w.text.length), {
                begin: p,
                end: y
            })
        },
        unmask: function() {
            return this.trigger("unmask")
        },
        mask: function(p, y) {
            var w, x, A, D, B, X, j, ie;
            if (!p && this.length > 0) {
                w = t(this[0]);
                var v = w.data(t.mask.dataName);
                return v ? v() : void 0
            }
            return y = t.extend({
                autoclear: t.mask.autoclear,
                placeholder: t.mask.placeholder,
                completed: null
            }, y), x = t.mask.definitions, A = [], D = j = p.length, B = null, t.each(p.split(""), function($, W) {
                W == "?" ? (j--, D = $) : x[W] ? (A.push(new RegExp(x[W])), B === null && (B = A.length - 1), D > $ && (X = A.length - 1)) : A.push(null)
            }), this.trigger("unmask").each(function() {
                function $() {
                    if (y.completed) {
                        for (var we = B; X >= we; we++)
                            if (A[we] && le[we] === W(we)) return;
                        y.completed.call(K)
                    }
                }

                function W(we) {
                    return y.placeholder.charAt(we < y.placeholder.length ? we : 0)
                }

                function ne(we) {
                    for (; ++we < j && !A[we];);
                    return we
                }

                function oe(we) {
                    for (; --we >= 0 && !A[we];);
                    return we
                }

                function ue(we, he) {
                    var ke, Te;
                    if (!(0 > we)) {
                        for (ke = we, Te = ne(he); j > ke; ke++)
                            if (A[ke]) {
                                if (!(j > Te && A[ke].test(le[Te]))) break;
                                le[ke] = le[Te], le[Te] = W(Te), Te = ne(Te)
                            } Ke(), K.caret(Math.max(B, we))
                    }
                }

                function d(we) {
                    var he, ke, Te, Fe;
                    for (he = we, ke = W(we); j > he; he++)
                        if (A[he]) {
                            if (Te = ne(he), Fe = le[he], le[he] = ke, !(j > Te && A[Te].test(Fe))) break;
                            ke = Fe
                        }
                }

                function ye() {
                    var we = K.val(),
                        he = K.caret();
                    if (ie && ie.length && ie.length > we.length) {
                        for (qe(!0); he.begin > 0 && !A[he.begin - 1];) he.begin--;
                        if (he.begin === 0)
                            for (; he.begin < B && !A[he.begin];) he.begin++;
                        K.caret(he.begin, he.begin)
                    } else {
                        for (qe(!0); he.begin < j && !A[he.begin];) he.begin++;
                        K.caret(he.begin, he.begin)
                    }
                    $()
                }

                function Se() {
                    qe(), K.val() != Ie && K.change()
                }

                function Ae(we) {
                    if (!K.prop("readonly")) {
                        var he, ke, Te, Fe = we.which || we.keyCode;
                        ie = K.val(), Fe === 8 || Fe === 46 || n && Fe === 127 ? (he = K.caret(), ke = he.begin, Te = he.end, Te - ke === 0 && (ke = Fe !== 46 ? oe(ke) : Te = ne(ke - 1), Te = Fe === 46 ? ne(Te) : Te), Ve(ke, Te), ue(ke, Te - 1), we.preventDefault()) : Fe === 13 ? Se.call(this, we) : Fe === 27 && (K.val(Ie), K.caret(0, qe()), we.preventDefault())
                    }
                }

                function at(we) {
                    if (!K.prop("readonly")) {
                        var he, ke, Te, Fe = we.which || we.keyCode,
                            rt = K.caret();
                        if (!(we.ctrlKey || we.altKey || we.metaKey || 32 > Fe) && Fe && Fe !== 13) {
                            if (rt.end - rt.begin !== 0 && (Ve(rt.begin, rt.end), ue(rt.begin, rt.end - 1)), he = ne(rt.begin - 1), j > he && (ke = String.fromCharCode(Fe), A[he].test(ke))) {
                                if (d(he), le[he] = ke, Ke(), Te = ne(he), o) {
                                    var Tt = function() {
                                        t.proxy(t.fn.caret, K, Te)()
                                    };
                                    setTimeout(Tt, 0)
                                } else K.caret(Te);
                                rt.begin <= X && $()
                            }
                            we.preventDefault()
                        }
                    }
                }

                function Ve(we, he) {
                    var ke;
                    for (ke = we; he > ke && j > ke; ke++) A[ke] && (le[ke] = W(ke))
                }

                function Ke() {
                    K.val(le.join(""))
                }

                function qe(we) {
                    var he, ke, Te, Fe = K.val(),
                        rt = -1;
                    for (he = 0, Te = 0; j > he; he++)
                        if (A[he]) {
                            for (le[he] = W(he); Te++ < Fe.length;)
                                if (ke = Fe.charAt(Te - 1), A[he].test(ke)) {
                                    le[he] = ke, rt = he;
                                    break
                                } if (Te > Fe.length) {
                                Ve(he + 1, j);
                                break
                            }
                        } else le[he] === Fe.charAt(Te) && Te++, D > he && (rt = he);
                    return we ? Ke() : D > rt + 1 ? y.autoclear || le.join("") === De ? (K.val() && K.val(""), Ve(0, j)) : Ke() : (Ke(), K.val(K.val().substring(0, rt + 1))), D ? he : B
                }
                var K = t(this),
                    le = t.map(p.split(""), function(we, he) {
                        return we != "?" ? x[we] ? W(he) : we : void 0
                    }),
                    De = le.join(""),
                    Ie = K.val();
                K.data(t.mask.dataName, function() {
                    return t.map(le, function(we, he) {
                        return A[he] && we != W(he) ? we : null
                    }).join("")
                }), K.one("unmask", function() {
                    K.off(".mask").removeData(t.mask.dataName)
                }).on("focus.mask", function() {
                    if (!K.prop("readonly")) {
                        clearTimeout(e);
                        var we;
                        Ie = K.val(), we = qe(), e = setTimeout(function() {
                            K.get(0) === document.activeElement && (Ke(), we == p.replace("?", "").length ? K.caret(0, we) : K.caret(we))
                        }, 10)
                    }
                }).on("blur.mask", Se).on("keydown.mask", Ae).on("keypress.mask", at).on("input.mask paste.mask", function() {
                    K.prop("readonly") || setTimeout(function() {
                        var we = qe(!0);
                        K.caret(we), $()
                    }, 0)
                }), s && o && K.off("input.mask").on("input.mask", ye), qe()
            })
        }
    })
});
window.$ = $e;
window.jQuery = $e;
const p1 = xt.View.extend({
        className: "app-root",
        template: Ue.template(f1),
        regions: {
            content: "#content-region",
            dialog: "#dialog-region",
            debug: "#debug-region"
        },
        showView(t, e = {}) {
            const i = new t(e);
            this.showChildView("content", i)
        }
    }),
    g1 = t => {
        let e;
        window.tv.register({
            connect: (i, n) => (n ? e = n.setClient(On.WSClient, i) : e = new On.WSClient(i), e.connect()),
            mount: i => {
                const n = new d1(e, i);
                let s = new xt.Application({
                    region: "#app",
                    onStart() {
                        const o = new p1;
                        this.showView(o), o.showView(t.MainView, {
                            appId: i.room.appId,
                            appTag: i.room.appTag,
                            replayer: i.replayer,
                            client: n
                        })
                    }
                });
                return s.start(), () => {
                    s.destroy(), s = null
                }
            },
            info: i => ({
                branch: i.branch,
                tag: i.app,
                type: i.type,
                version: i.version,
                wrapper: "marionette"
            })
        })
    },
    m1 = Pi.extend({
        defaults: Ue.extend({}, Qi.prototype.model.defaults, {
            textKey: void 0,
            size: {
                width: 640,
                height: 640
            },
            colors: [{
                hex: "#8014fe"
            }, {
                hex: "#fe34aa"
            }, {
                hex: "#ff5114"
            }, {
                hex: "#1c54ff"
            }, {
                hex: "#000000"
            }, {
                hex: "#ffc212"
            }, {
                hex: "#13ffdb"
            }, {
                hex: "#00ff97"
            }, {
                hex: "#d7ff13"
            }],
            thicknesses: [2, 4],
            defaultIndex: 4,
            forceName: !1,
            champion: {},
            showChampion: !1,
            nameCharacter: !1,
            nameMaxLength: 45,
            sketchOptions: {
                minThickness: 2,
                thicknessFactor: 0,
                smoothingFactor: .9,
                thicknessSmoothingFactor: 0,
                dotMultiplier: 1,
                tipTaperFactor: 1
            },
            strings: Ue.extend({}, Qi.prototype.model.defaults.strings, {
                name_modal_text: "Name your champion:",
                name_modal_confirm: "OK",
                name_modal_cancel: "Cancel",
                name_error_empty: "You need to write something!",
                ERROR_REJECTED_OBJECT: "That's not allowed, enter something else!",
                ERROR_REJECTED_TEXT: "That's not allowed, enter something else!"
            })
        })
    }),
    v1 = Bo.extend({
        template: Ue.template(`
        <ul class="nav nav-colors">
            <li class="pull-left button-pad">
                <button id="undoButton" class="undo button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 64 64"><image x="12" y="20" width="41" height="39" xlink:href="main/pp7/worldchamps/assets/5f12600b.png"/></svg>
                </button>
            </li>
            <li class="pull-right button-pad">
                <button id="chooseMarkerButton" class="chooseMarker button">
                </button>
            </li>
            <li class="pull-right button-pad">
                <button id="chooseHighlighterButton" class="chooseHighlighter button">
                </button>
            </li>
            <li class="pull-right button-pad">
                <button aria-label="choose color" id="currentColorButton" class="button currentColorButton">
                    <div id="currentColor" class="currentColor"></div>
                </button>
            </li>
            <li class="pull-right button-pad">
                <button aria-label="show champion" id="showChampionButton" class="showChampion button">
                </button>
            </li>
            <li id="color-palette" class="hide">
            </li>
        </ul>
        <div id="colorPaletteRegion" class="colorPaletteRegion">
    `),
        events: {
            "click #currentColorButton": "onPaletteClick",
            "click #showPaletteButton": "onPaletteClick"
        },
        triggers: Ue.extend({}, Bo.prototype.triggers, {
            "click #chooseMarkerButton": "choose:marker",
            "click #chooseHighlighterButton": "choose:highlighter"
        }),
        bindings: Ue.extend({}, Bo.prototype.bindings, {
            ".chooseMarker": {
                attributes: [{
                    name: "style",
                    observe: "currentColor",
                    onGet(t) {
                        return `background-color: ${t}`
                    }
                }],
                classes: {
                    selected: {
                        observe: "highlighter",
                        onGet(t) {
                            return !t
                        }
                    },
                    white: {
                        observe: "currentColor",
                        onGet(t) {
                            return t === "#000000"
                        }
                    }
                }
            },
            ".chooseHighlighter": {
                attributes: [{
                    name: "style",
                    observe: "currentColor",
                    onGet(t) {
                        return `background-color: ${t}`
                    }
                }],
                classes: {
                    selected: "highlighter",
                    white: {
                        observe: "currentColor",
                        onGet(t) {
                            return t === "#000000"
                        }
                    }
                }
            }
        })
    }),
    y1 = Qi.extend({
        model: new m1,
        events: Ue.extend({}, Qi.prototype.events, {
            "click #showChampionButton": "onShowChampion"
        }),
        bindings: Ue.extend({}, Qi.prototype.bindings, {
            "#showChampionButton": {
                observe: "champion",
                visible: !0,
                onGet(t) {
                    return t && !Ue.isEmpty(t)
                }
            }
        }),
        initialize(t) {
            this.toolbarComponent = this.toolbarComponent || new v1({
                model: new Je.Model({})
            }), Qi.prototype.initialize.apply(this, [t])
        },
        update() {
            this.model.get("showChampion") && this.onShowChampion();
            const t = this.model.get("size").width,
                e = this.model.get("size").height,
                i = this.model.get("sketchOptions");
            if (!Ue.isEmpty(this.model.get("champion"))) {
                const n = this.model.get("champion").lines;
                new aa(t, e, i).setLines(n);
                const o = new la({
                    model: new Je.Model({}),
                    el: "#showChampionButton",
                    width: t,
                    height: e,
                    sketchOptions: i
                });
                o.render(), o.model.set({
                    title: "",
                    lines: n
                })
            }
            this.model.get("forceName") && this.nameCharacter(), Qi.prototype.update.apply(this)
        },
        onRender() {
            this.showChildView("toolbar", this.toolbarComponent), Qi.prototype.onRender.apply(this)
        },
        onChildviewSketchpadReady() {
            Qi.prototype.onChildviewSketchpadReady.apply(this), this.onChildviewChooseMarker()
        },
        onChildviewChooseMarker() {
            this.sketchpadComponent.setHighlighter(!1), this.toolbarComponent.model.set("highlighter", !1);
            const t = this.model.get("thicknesses")[0] || 2;
            this.sketchpadComponent.setThickness(t)
        },
        onChildviewChooseHighlighter() {
            this.sketchpadComponent.setHighlighter(!0), this.toolbarComponent.model.set("highlighter", !0);
            const t = this.model.get("thicknesses")[1] || 8;
            this.sketchpadComponent.setThickness(t)
        },
        onShowChampion() {
            this.naming || (Xt.close(), Xt.fire({
                html: "image",
                customClass: {
                    popup: "worldchamps imageView"
                },
                didOpen: () => {
                    const t = this.model.get("size").width,
                        e = this.model.get("size").height,
                        i = this.model.get("sketchOptions"),
                        n = this.model.get("champion").lines,
                        s = Ht.htmlUnescape(this.model.get("champion").name);
                    new aa(t, e, i).setLines(n);
                    const p = new la({
                        el: ".worldchamps.imageView .swal2-html-container",
                        width: t,
                        height: e,
                        sketchOptions: i
                    });
                    p.render(), p.model.set({
                        title: s,
                        lines: n
                    })
                }
            }))
        },
        autoSubmit() {
            let t = "";
            if (this.model.get("nameCharacter") && Xt.isVisible()) {
                const e = Xt.getInput();
                if (t = e ? e.value : "", t = Ht.sanitizeInput(t), t && t.length > 0) {
                    Xt.close();
                    const i = {
                        name: t,
                        action: "name"
                    };
                    this.model.get("textKey") && (i.textKey = this.model.get("textKey"), i.val = t), this.triggerMethod("client:message", i)
                }
            }
        },
        nameCharacter() {
            if (this.naming) return;
            this.naming = !0;
            const t = this.model.get("nameMaxLength");
            Xt.close(), Xt.fire({
                animation: !1,
                customClass: {
                    popup: "worldchamps nameView"
                },
                text: this.model.get("strings").name_modal_text,
                cancelButtonText: this.model.get("strings").name_modal_cancel || "Cancel",
                confirmButtonText: this.model.get("strings").name_modal_confirm || "OK",
                input: "text",
                allowOutsideClick: !1,
                reverseButtons: !0,
                inputAttributes: {
                    maxlength: t,
                    autocapitalize: "on",
                    autocorrect: "off",
                    autocomplete: "off"
                },
                showCancelButton: !0,
                inputValidator: e => e ? null : this.model.get("strings").name_error_empty
            }).then(e => {
                if (this.naming = !1, !e.value) return;
                const i = Ht.sanitizeInput(e.value);
                if (!i) return;
                const n = {
                    name: i,
                    action: "name"
                };
                this.model.get("textKey") && (n.textKey = this.model.get("textKey"), n.val = i), this.triggerMethod("client:message", n)
            })
        },
        chooseColor(t) {
            this.sketchpadComponent.setColor(t), this.toolbarComponent.model.set("currentColor", t)
        },
        onChildviewChildviewButtonName() {
            this.nameCharacter()
        },
        onChildviewButtonSubmit() {
            const t = this.sketchpadComponent.getLines();
            if (t.length === 0 && !this.model.get("allowEmpty")) return kt.show(Error(this.model.get("strings").drawing_empty)), !1;
            const e = {
                lines: t,
                action: "submit"
            };
            return this.model.get("objectKey") && (e.objectKey = this.model.get("objectKey"), e.val = {
                lines: t,
                submit: !0
            }), this.triggerMethod("client:message", e), !1
        },
        onTextFilterError(t) {
            const e = this.model.get("strings").ERROR_REJECTED_TEXT || t.message;
            kt.show("error", {
                customClass: {
                    popup: "worldchamps"
                },
                text: e
            })
        }
    }),
    w1 = `<div id="controller" class="state-controller controller-content">
    <div id="prompt" class="prompt text"></div>
    <div class="error text-danger"></div>
    <div id="question" class="question">
    	<div id="questionPrompt"></div>
    	<div id="choices"></div>
    </div>
    <div class="surveyDone">
        <span class="doneText"></span>
    </div>
</div>`,
    b1 = Pi.extend({
        defaults: {
            choiceId: void 0,
            prompt: {},
            questions: [],
            error: null,
            classes: [],
            doneText: {},
            announcePrompt: !1,
            strings: {
                survey_finished: "Thank you for your input. You did your civic duty!"
            }
        }
    }),
    _1 = xt.View.extend({
        className: "Survey scrollable",
        template: Ue.template(w1),
        model: new b1,
        questionIndex: 0,
        regions: {
            prompt: "#prompt",
            questionPrompt: "#questionPrompt",
            choices: "#choices"
        },
        bindings: {
            ".error": "error",
            ".question": {
                observe: "chosen",
                visible(t) {
                    return !t
                }
            },
            ".surveyDone": {
                observe: "chosen",
                visible(t) {
                    return t !== null && t !== "" && t !== !1
                }
            },
            ".doneText": {
                observe: "strings",
                updateMethod: "html",
                onGet(t) {
                    return t ? t.survey_finished : null
                }
            },
            ":el": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return !t || !t.bgColor ? "" : `background-color: ${t.bgColor}`
                    }
                }, {
                    name: "class",
                    observe: "classes",
                    onGet(t) {
                        return t ? t.join(" ") : ""
                    }
                }]
            },
            ".choice-button": {
                attributes: [{
                    name: "style",
                    observe: "playerInfo",
                    onGet(t) {
                        return t && t.buttonColor ? `background-color:${t.buttonColor}` : null
                    }
                }]
            }
        },
        initialize() {
            this.promptView = this.promptView || new _n({
                model: new Je.Model
            }), this.questionPromptView = this.questionPromptView || new _n({
                model: new Je.Model
            }), this.choicesList = this.choicesList || new tn({
                action: "choose",
                collection: new Je.Collection
            }), this.selected = [], this.listenTo(this.model, "change", this.update, this)
        },
        onBeforeDestroy() {
            this.model.get("type") === "multiple" && this.onChildviewChildviewButtonSubmit()
        },
        update() {
            if ((this.model.get("choiceId") === void 0 || this.model.get("choiceId") !== this.choiceId) && (this.questionIndex = 0, this.model.setUpdate({
                    chosen: !1
                }), this.choiceId = this.model.get("choiceId")), this.promptView.model.set(this.model.get("prompt")), this.questionIndex >= this.model.get("questions").length) this.model.get("chosen") || this.model.setUpdate({
                chosen: !0
            });
            else {
                const t = this.model.get("questions")[this.questionIndex];
                this.questionPromptView.model.set(t.prompt), this.choicesList.collection.set(t.choices)
            }
        },
        onRender() {
            this.showChildView("prompt", this.promptView), this.showChildView("questionPrompt", this.questionPromptView), this.showChildView("choices", this.choicesList), this.stickit()
        },
        onAttach() {
            this.update(), kt.vibrate()
        },
        onChildviewChildviewButtonChoose(t) {
            const e = this.choicesList.children.findByModel(t),
                i = t.get("index"),
                s = this.model.get("questions")[this.questionIndex].countGroupName;
            return $e("button").removeClass("active"), e.$el.addClass("active"), this.model.get("type") === "single" && t.set("selected", !0), this.selected = [t.get("index")], this.triggerMethod("client:countGroup", {
                name: s,
                vote: i
            }), this.questionIndex += 1, this.update(), !1
        }
    }),
    C1 = Pi.extend({
        defaults: Ue.extend({}, In.prototype.model.defaults, {
            champion: {},
            sketchOptions: {
                minThickness: 2,
                thicknessFactor: 0,
                smoothingFactor: .9,
                thicknessSmoothingFactor: 0,
                dotMultiplier: 1,
                tipTaperFactor: 1
            },
            size: {
                width: 640,
                height: 640
            }
        })
    }),
    x1 = In.extend({
        model: new C1,
        template: Ue.template(`
        <div id="championRegion"></div>
        ${Vd}`),
        bindings: Ue.extend({}, In.prototype.bindings, {
            "#championRegion": {
                observe: "champion",
                visible: !0
            }
        }),
        regions: Ue.extend({}, In.prototype.regions, {
            champion: "#championRegion"
        }),
        initialize(t) {
            this.championComponent = this.championComponent || new la({
                model: new Je.Model({})
            }), In.prototype.initialize.apply(this, [t])
        },
        onRender() {
            this.showChildView("champion", this.championComponent), In.prototype.onRender.apply(this)
        },
        update() {
            if (this.model.get("champion")) {
                const t = this.model.get("champion") || {},
                    e = t.size || {
                        width: 640,
                        height: 640
                    },
                    i = t.sketchOptions || this.model.get("sketchOptions");
                this.championComponent.width = e.width, this.championComponent.height = e.height, this.championComponent.sketchOptions = i, this.championComponent.model.set({
                    title: t.name,
                    lines: t.lines
                })
            }
            In.prototype.update.apply(this)
        }
    }),
    E1 = js.extend({
        bindings: Ue.extend({}, js.prototype.bindings, {
            "button:first": Ue.extend({}, js.prototype.bindings["button:first"], {
                observe: ["text", "html", "image", "champion"],
                updateMethod: "html",
                onGet([t, e, i, n]) {
                    let s = "";
                    if (e ? s += e : t && (s += $e("<div />").text(t).html()), i || n) {
                        const o = new la({
                            el: this.$el.find("button:first"),
                            model: new Je.Model({})
                        });
                        if (o.render(), i && o.model.set({
                                src: i,
                                title: Ht.htmlUnescape(s)
                            }), n) {
                            const {
                                size: p,
                                lines: y,
                                sketchOptions: w
                            } = n;
                            o.width = p.width, o.height = p.height, o.sketchOptions = w, o.model.set({
                                title: Ht.htmlUnescape(s),
                                lines: y
                            })
                        }
                        s = o.$el.html()
                    }
                    return s
                }
            })
        })
    }),
    S1 = Vl.extend({
        initialize(t) {
            this.choicesList = new tn({
                childView: E1
            }), Vl.prototype.initialize.apply(this, [t])
        }
    }),
    k1 = jd.extend({
        template: Ue.template(`${Fd}<div class="mech"></div>`)
    });
const T1 = u1.extend({
    sessionModulePrefix: "WorldChampions",
    getGameLayout(t) {
        switch (t) {
            case "Draw":
                return this.setLayout(y1);
            case "Survey":
                return this.setLayout(_1);
            case "EnterSingleText":
                return this.setLayout(x1);
            case "MakeSingleChoice":
                return this.setLayout(S1);
            case "Lobby":
                return this.setLayout(k1);
            default:
                return -1
        }
    },
    parseBlob(t) {
        return t.classes = t.classes || [], t.playerInfo = t.playerInfo || {}, t.playerInfo.classes = t.playerInfo.classes || [], t.playerInfo.avatar && (t.classes = Ue.union(t.classes, [t.playerInfo.avatar]), t.playerInfo.classes = Ue.union(t.playerInfo.classes, [t.playerInfo.avatar])), t
    }
});
g1({
    MainView: T1
});
//# sourceMappingURL=c1f67222.js.map